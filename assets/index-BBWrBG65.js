(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var ip={exports:{}},qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function GA(){if(sv)return qc;sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return qc.Fragment=e,qc.jsx=n,qc.jsxs=n,qc}var av;function $A(){return av||(av=1,ip.exports=GA()),ip.exports}var F=$A(),rp={exports:{}},Fc={},sp={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function KA(){return ov||(ov=1,function(r){function e(te,pe){var Ie=te.length;te.push(pe);e:for(;0<Ie;){var ut=Ie-1>>>1,C=te[ut];if(0<o(C,pe))te[ut]=pe,te[Ie]=C,Ie=ut;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var pe=te[0],Ie=te.pop();if(Ie!==pe){te[0]=Ie;e:for(var ut=0,C=te.length,le=C>>>1;ut<le;){var _e=2*(ut+1)-1,he=te[_e],we=_e+1,Ke=te[we];if(0>o(he,Ie))we<C&&0>o(Ke,he)?(te[ut]=Ke,te[we]=Ie,ut=we):(te[ut]=he,te[_e]=Ie,ut=_e);else if(we<C&&0>o(Ke,Ie))te[ut]=Ke,te[we]=Ie,ut=we;else break e}}return pe}function o(te,pe){var Ie=te.sortIndex-pe.sortIndex;return Ie!==0?Ie:te.id-pe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],A=1,O=null,I=3,q=!1,B=!1,ee=!1,Q=!1,W=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function Ne(te){for(var pe=n(y);pe!==null;){if(pe.callback===null)s(y);else if(pe.startTime<=te)s(y),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(y)}}function Se(te){if(ee=!1,Ne(te),!B)if(n(g)!==null)B=!0,$e||($e=!0,H());else{var pe=n(y);pe!==null&&Mt(Se,pe.startTime-te)}}var $e=!1,k=-1,D=5,N=-1;function P(){return Q?!0:!(r.unstable_now()-N<D)}function U(){if(Q=!1,$e){var te=r.unstable_now();N=te;var pe=!0;try{e:{B=!1,ee&&(ee=!1,ce(k),k=-1),q=!0;var Ie=I;try{t:{for(Ne(te),O=n(g);O!==null&&!(O.expirationTime>te&&P());){var ut=O.callback;if(typeof ut=="function"){O.callback=null,I=O.priorityLevel;var C=ut(O.expirationTime<=te);if(te=r.unstable_now(),typeof C=="function"){O.callback=C,Ne(te),pe=!0;break t}O===n(g)&&s(g),Ne(te)}else s(g);O=n(g)}if(O!==null)pe=!0;else{var le=n(y);le!==null&&Mt(Se,le.startTime-te),pe=!1}}break e}finally{O=null,I=Ie,q=!1}pe=void 0}}finally{pe?H():$e=!1}}}var H;if(typeof me=="function")H=function(){me(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,sn=M.port2;M.port1.onmessage=U,H=function(){sn.postMessage(null)}}else H=function(){W(U,0)};function Mt(te,pe){k=W(function(){te(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(te){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var Ie=I;I=pe;try{return te()}finally{I=Ie}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Ie=I;I=te;try{return pe()}finally{I=Ie}},r.unstable_scheduleCallback=function(te,pe,Ie){var ut=r.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?ut+Ie:ut):Ie=ut,te){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Ie+C,te={id:A++,callback:pe,priorityLevel:te,startTime:Ie,expirationTime:C,sortIndex:-1},Ie>ut?(te.sortIndex=Ie,e(y,te),n(g)===null&&te===n(y)&&(ee?(ce(k),k=-1):ee=!0,Mt(Se,Ie-ut))):(te.sortIndex=C,e(g,te),B||q||(B=!0,$e||($e=!0,H()))),te},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(te){var pe=I;return function(){var Ie=I;I=pe;try{return te.apply(this,arguments)}finally{I=Ie}}}}(ap)),ap}var lv;function YA(){return lv||(lv=1,sp.exports=KA()),sp.exports}var op={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function QA(){if(uv)return We;uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,ee={};function Q(C,le,_e){this.props=C,this.context=le,this.refs=ee,this.updater=_e||q}Q.prototype.isReactComponent={},Q.prototype.setState=function(C,le){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,le,"setState")},Q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function W(){}W.prototype=Q.prototype;function ce(C,le,_e){this.props=C,this.context=le,this.refs=ee,this.updater=_e||q}var me=ce.prototype=new W;me.constructor=ce,B(me,Q.prototype),me.isPureReactComponent=!0;var Ne=Array.isArray,Se={H:null,A:null,T:null,S:null,V:null},$e=Object.prototype.hasOwnProperty;function k(C,le,_e,he,we,Ke){return _e=Ke.ref,{$$typeof:r,type:C,key:le,ref:_e!==void 0?_e:null,props:Ke}}function D(C,le){return k(C.type,le,void 0,void 0,void 0,C.props)}function N(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function P(C){var le={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(_e){return le[_e]})}var U=/\/+/g;function H(C,le){return typeof C=="object"&&C!==null&&C.key!=null?P(""+C.key):le.toString(36)}function M(){}function sn(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(M,M):(C.status="pending",C.then(function(le){C.status==="pending"&&(C.status="fulfilled",C.value=le)},function(le){C.status==="pending"&&(C.status="rejected",C.reason=le)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Mt(C,le,_e,he,we){var Ke=typeof C;(Ke==="undefined"||Ke==="boolean")&&(C=null);var Re=!1;if(C===null)Re=!0;else switch(Ke){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(C.$$typeof){case r:case e:Re=!0;break;case A:return Re=C._init,Mt(Re(C._payload),le,_e,he,we)}}if(Re)return we=we(C),Re=he===""?"."+H(C,0):he,Ne(we)?(_e="",Re!=null&&(_e=Re.replace(U,"$&/")+"/"),Mt(we,le,_e,"",function(ni){return ni})):we!=null&&(N(we)&&(we=D(we,_e+(we.key==null||C&&C.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+Re)),le.push(we)),1;Re=0;var Ht=he===""?".":he+":";if(Ne(C))for(var ge=0;ge<C.length;ge++)he=C[ge],Ke=Ht+H(he,ge),Re+=Mt(he,le,_e,Ke,we);else if(ge=I(C),typeof ge=="function")for(C=ge.call(C),ge=0;!(he=C.next()).done;)he=he.value,Ke=Ht+H(he,ge++),Re+=Mt(he,le,_e,Ke,we);else if(Ke==="object"){if(typeof C.then=="function")return Mt(sn(C),le,_e,he,we);throw le=String(C),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Re}function te(C,le,_e){if(C==null)return C;var he=[],we=0;return Mt(C,he,"","",function(Ke){return le.call(_e,Ke,we++)}),he}function pe(C){if(C._status===-1){var le=C._result;le=le(),le.then(function(_e){(C._status===0||C._status===-1)&&(C._status=1,C._result=_e)},function(_e){(C._status===0||C._status===-1)&&(C._status=2,C._result=_e)}),C._status===-1&&(C._status=0,C._result=le)}if(C._status===1)return C._result.default;throw C._result}var Ie=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ut(){}return We.Children={map:te,forEach:function(C,le,_e){te(C,function(){le.apply(this,arguments)},_e)},count:function(C){var le=0;return te(C,function(){le++}),le},toArray:function(C){return te(C,function(le){return le})||[]},only:function(C){if(!N(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},We.Component=Q,We.Fragment=n,We.Profiler=o,We.PureComponent=ce,We.StrictMode=s,We.Suspense=g,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se,We.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Se.H.useMemoCache(C)}},We.cache=function(C){return function(){return C.apply(null,arguments)}},We.cloneElement=function(C,le,_e){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var he=B({},C.props),we=C.key,Ke=void 0;if(le!=null)for(Re in le.ref!==void 0&&(Ke=void 0),le.key!==void 0&&(we=""+le.key),le)!$e.call(le,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&le.ref===void 0||(he[Re]=le[Re]);var Re=arguments.length-2;if(Re===1)he.children=_e;else if(1<Re){for(var Ht=Array(Re),ge=0;ge<Re;ge++)Ht[ge]=arguments[ge+2];he.children=Ht}return k(C.type,we,void 0,void 0,Ke,he)},We.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},We.createElement=function(C,le,_e){var he,we={},Ke=null;if(le!=null)for(he in le.key!==void 0&&(Ke=""+le.key),le)$e.call(le,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=le[he]);var Re=arguments.length-2;if(Re===1)we.children=_e;else if(1<Re){for(var Ht=Array(Re),ge=0;ge<Re;ge++)Ht[ge]=arguments[ge+2];we.children=Ht}if(C&&C.defaultProps)for(he in Re=C.defaultProps,Re)we[he]===void 0&&(we[he]=Re[he]);return k(C,Ke,void 0,void 0,null,we)},We.createRef=function(){return{current:null}},We.forwardRef=function(C){return{$$typeof:p,render:C}},We.isValidElement=N,We.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:pe}},We.memo=function(C,le){return{$$typeof:y,type:C,compare:le===void 0?null:le}},We.startTransition=function(C){var le=Se.T,_e={};Se.T=_e;try{var he=C(),we=Se.S;we!==null&&we(_e,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ut,Ie)}catch(Ke){Ie(Ke)}finally{Se.T=le}},We.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()},We.use=function(C){return Se.H.use(C)},We.useActionState=function(C,le,_e){return Se.H.useActionState(C,le,_e)},We.useCallback=function(C,le){return Se.H.useCallback(C,le)},We.useContext=function(C){return Se.H.useContext(C)},We.useDebugValue=function(){},We.useDeferredValue=function(C,le){return Se.H.useDeferredValue(C,le)},We.useEffect=function(C,le,_e){var he=Se.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(C,le)},We.useId=function(){return Se.H.useId()},We.useImperativeHandle=function(C,le,_e){return Se.H.useImperativeHandle(C,le,_e)},We.useInsertionEffect=function(C,le){return Se.H.useInsertionEffect(C,le)},We.useLayoutEffect=function(C,le){return Se.H.useLayoutEffect(C,le)},We.useMemo=function(C,le){return Se.H.useMemo(C,le)},We.useOptimistic=function(C,le){return Se.H.useOptimistic(C,le)},We.useReducer=function(C,le,_e){return Se.H.useReducer(C,le,_e)},We.useRef=function(C){return Se.H.useRef(C)},We.useState=function(C){return Se.H.useState(C)},We.useSyncExternalStore=function(C,le,_e){return Se.H.useSyncExternalStore(C,le,_e)},We.useTransition=function(){return Se.H.useTransition()},We.version="19.1.0",We}var cv;function Qp(){return cv||(cv=1,op.exports=QA()),op.exports}var lp={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function XA(){if(hv)return Wn;hv=1;var r=Qp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:g,containerInfo:y,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wn.createPortal=function(g,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,A)},Wn.flushSync=function(g){var y=f.T,A=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=A,s.d.f()}},Wn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Wn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var A=y.as,O=p(A,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:O,integrity:I,fetchPriority:q}):A==="script"&&s.d.X(g,{crossOrigin:O,integrity:I,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Wn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,O=p(A,y.crossOrigin);s.d.L(g,A,{crossOrigin:O,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wn.preloadModule=function(g,y){if(typeof g=="string")if(y){var A=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Wn.requestFormReset=function(g){s.d.r(g)},Wn.unstable_batchedUpdates=function(g,y){return g(y)},Wn.useFormState=function(g,y,A){return f.H.useFormState(g,y,A)},Wn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var fv;function WA(){if(fv)return lp.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lp.exports=XA(),lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function ZA(){if(dv)return Fc;dv=1;var r=YA(),e=Qp(),n=WA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return p(h),t;if(m===l)return p(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var T=!1,w=h.child;w;){if(w===a){T=!0,a=h,l=m;break}if(w===l){T=!0,l=h,a=m;break}w=w.sibling}if(!T){for(w=m.child;w;){if(w===a){T=!0,a=m,l=h;break}if(w===l){T=!0,l=m,a=h;break}w=w.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),ce=Symbol.for("react.consumer"),me=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function sn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Q:return"Profiler";case ee:return"StrictMode";case Se:return"Suspense";case $e:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case me:return(t.displayName||"Context")+".Provider";case ce:return(t._context.displayName||"Context")+".Consumer";case Ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:sn(t.type)||"Memo";case D:i=t._payload,t=t._init;try{return sn(t(i))}catch{}}return null}var Mt=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},ut=[],C=-1;function le(t){return{current:t}}function _e(t){0>C||(t.current=ut[C],ut[C]=null,C--)}function he(t,i){C++,ut[C]=t.current,t.current=i}var we=le(null),Ke=le(null),Re=le(null),Ht=le(null);function ge(t,i){switch(he(Re,i),he(Ke,t),he(we,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?My(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=My(i),t=Py(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_e(we),he(we,t)}function ni(){_e(we),_e(Ke),_e(Re)}function vr(t){t.memoizedState!==null&&he(Ht,t);var i=we.current,a=Py(i,t.type);i!==a&&(he(Ke,t),he(we,a))}function Er(t){Ke.current===t&&(_e(we),_e(Ke)),Ht.current===t&&(_e(Ht),Uc._currentValue=Ie)}var Rs=Object.prototype.hasOwnProperty,Ri=r.unstable_scheduleCallback,Gr=r.unstable_cancelCallback,Tr=r.unstable_shouldYield,br=r.unstable_requestPaint,hi=r.unstable_now,Mu=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,ba=r.unstable_UserBlockingPriority,Cs=r.unstable_NormalPriority,Pu=r.unstable_LowPriority,Aa=r.unstable_IdlePriority,$r=r.log,Ci=r.unstable_setDisableYieldValue,Pt=null,_t=null;function ii(t){if(typeof $r=="function"&&Ci(t),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Pt,t)}catch{}}var qt=Math.clz32?Math.clz32:$i,Ar=Math.log,Kr=Math.LN2;function $i(t){return t>>>=0,t===0?32:31-(Ar(t)/Kr|0)|0}var Is=256,wr=4194304;function Ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?h=Ii(l):(T&=w,T!==0?h=Ii(T):a||(a=w&~t,a!==0&&(h=Ii(a))))):(w=l&~m,w!==0?h=Ii(w):T!==0?h=Ii(T):a||(a=l&~t,a!==0&&(h=Ii(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Os(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function xo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var t=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),t}function Po(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function Ki(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function fi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sa(t,i,a,l,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,x=t.expirationTimes,K=t.hiddenUpdates;for(a=T&~a;0<a;){var ie=31-qt(a),ae=1<<ie;w[ie]=0,x[ie]=-1;var Y=K[ie];if(Y!==null)for(K[ie]=null,ie=0;ie<Y.length;ie++){var X=Y[ie];X!==null&&(X.lane&=-536870913)}a&=~ae}l!==0&&Oi(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function Oi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qr(){var t=pe.p;return t!==0?t:(t=window.event,t===void 0?32:Jy(t.type))}function Sr(t,i){var a=pe.p;try{return pe.p=t,i()}finally{pe.p=a}}var yt=Math.random().toString(36).slice(2),Yt="__reactFiber$"+yt,Ft="__reactProps$"+yt,di="__reactContainer$"+yt,ko="__reactEvents$"+yt,Vu="__reactListeners$"+yt,Yi="__reactHandles$"+yt,Rr="__reactResources$"+yt,Qi="__reactMarker$"+yt;function Xr(t){delete t[Yt],delete t[Ft],delete t[ko],delete t[Vu],delete t[Yi]}function Di(t){var i=t[Yt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[Yt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Uy(t);t!==null;){if(a=t[Yt])return a;t=Uy(t)}return i}t=a,a=t.parentNode}return null}function Xi(t){if(t=t[Yt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Wi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Gt(t){var i=t[Rr];return i||(i=t[Rr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[Qi]=!0}var pn=new Set,an={};function It(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(an[t]=i,t=0;t<i.length;t++)pn.add(i[t])}var Cr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zi={},pi={};function Lo(t){return Rs.call(pi,t)?!0:Rs.call(Zi,t)?!1:Cr.test(t)?pi[t]=!0:(Zi[t]=!0,!1)}function Ji(t,i,a){if(Lo(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function on(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ir,Ca;function er(t){if(Ir===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ir=i&&i[1]||"",Ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+t+Ca}var Ds=!1;function Ns(t,i){if(!t||Ds)return"";Ds=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Y=X}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(X){Y=X}t.call(ae.prototype)}}else{try{throw Error()}catch(X){Y=X}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],w=m[1];if(T&&w){var x=T.split(`
`),K=w.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===K.length)for(l=x.length-1,h=K.length-1;1<=l&&0<=h&&x[l]!==K[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==K[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==K[h]){var ie=`
`+x[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=h);break}}}finally{Ds=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?er(a):""}function Ia(t){switch(t.tag){case 26:case 27:case 5:return er(t.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return er("Activity");default:return""}}function xs(t){try{var i="";do i+=Ia(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oa(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bl(t){var i=Oa(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ms(t){t._valueTracker||(t._valueTracker=bl(t))}function Da(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Oa(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Cn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vn=/[\n"\\]/g;function wt(t){return t.replace(Vn,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dt(t,i,a,l,h,m,T,w){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Rn(i)):t.value!==""+Rn(i)&&(t.value=""+Rn(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?tr(t,T,Rn(i)):a!=null?tr(t,T,Rn(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Rn(w):t.removeAttribute("name")}function Or(t,i,a,l,h,m,T,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Rn(a):"",i=i!=null?""+Rn(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function tr(t,i,a){i==="number"&&Cn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ln(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function it(t,i,a){if(i!=null&&(i=""+Rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Rn(a):""}function nr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Dr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ir(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uo(t,h,l)}else for(var m in i)i.hasOwnProperty(m)&&Uo(t,m,i[m])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Al=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ni=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Ni.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var In=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rr=null,ri=null;function Vs(t){var i=Xi(t);if(i&&(t=i.stateNode)){var a=t[Ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(Dt(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ft]||null;if(!h)throw Error(s(90));Dt(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Da(l)}break e;case"textarea":it(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ln(t,!!a.multiple,i,!1)}}}var Gn=!1;function jo(t,i,a){if(Gn)return t(i,a);Gn=!0;try{var l=t(i);return l}finally{if(Gn=!1,(rr!==null||ri!==null)&&(vf(),rr&&(i=rr,t=ri,ri=rr=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function Wr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(gi)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){_n=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{_n=!1}var xi=null,sr=null,_i=null;function Ls(){if(_i)return _i;var t,i=sr,a=i.length,l,h="value"in xi?xi.value:xi.textContent,m=h.length;for(t=0;t<a&&i[t]===h[t];t++);var T=a-t;for(l=1;l<=T&&i[a-l]===h[m-l];l++);return _i=h.slice(t,1<l?1-l:void 0)}function ar(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function zo(){return!1}function Qt(t){function i(a,l,h,m,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?si:zo,this.isPropagationStopped=zo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=Qt(ct),Nr=A({},ct,{view:0,detail:0}),Bo=Qt(Nr),or,Jr,Mi,es=A({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(or=t.screenX-Mi.screenX,Jr=t.screenY-Mi.screenY):Jr=or=0,Mi=t),or)},movementY:function(t){return"movementY"in t?t.movementY:Jr}}),yn=Qt(es),wl=A({},es,{dataTransfer:0}),Sl=Qt(wl),ts=A({},Nr,{relatedTarget:0}),Us=Qt(ts),xa=A({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),js=Qt(xa),Ma=A({},ct,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zs=Qt(Ma),ku=A({},ct,{data:0}),Ho=Qt(ku),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bs[t])?!!i[t]:!1}function Hs(){return Fo}var Pa=A({},Nr,{key:function(t){if(t.key){var i=ns[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(t){return t.type==="keypress"?ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qs=Qt(Pa),Go=A({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Qt(Go),Vi=A({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),Rl=Qt(Vi),$o=A({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cl=Qt($o),Il=A({},es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Qt(Il),Ln=A({},ct,{newState:0,oldState:0}),Ko=Qt(Ln),Yo=[9,13,27,32],lr=gi&&"CompositionEvent"in window,c=null;gi&&"documentMode"in document&&(c=document.documentMode);var _=gi&&"TextEvent"in window&&!c,E=gi&&(!lr||c&&8<c&&11>=c),R=" ",G=!1;function Z(t,i){switch(t){case"keyup":return Yo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rt=!1;function Xt(t,i){switch(t){case"compositionend":return de(i);case"keypress":return i.which!==32?null:(G=!0,R);case"textInput":return t=i.data,t===R&&G?null:t;default:return null}}function st(t,i){if(rt)return t==="compositionend"||!lr&&Z(t,i)?(t=Ls(),_i=sr=xi=null,rt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!un[t.type]:i==="textarea"}function Zt(t,i,a,l){rr?ri?ri.push(l):ri=[l]:rr=l,i=Sf(i,"onChange"),0<i.length&&(a=new Zr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var cn=null,ki=null;function ka(t){Iy(t,0)}function Ol(t){var i=Wi(t);if(Da(i))return t}function Nh(t,i){if(t==="change")return i}var Lu=!1;if(gi){var La;if(gi){var Uu="oninput"in document;if(!Uu){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),Uu=typeof xh.oninput=="function"}La=Uu}else La=!1;Lu=La&&(!document.documentMode||9<document.documentMode)}function ju(){cn&&(cn.detachEvent("onpropertychange",Mh),ki=cn=null)}function Mh(t){if(t.propertyName==="value"&&Ol(ki)){var i=[];Zt(i,ki,t,kn(t)),jo(ka,i)}}function $d(t,i,a){t==="focusin"?(ju(),cn=i,ki=a,cn.attachEvent("onpropertychange",Mh)):t==="focusout"&&ju()}function Ph(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ol(ki)}function Vh(t,i){if(t==="click")return Ol(i)}function kh(t,i){if(t==="input"||t==="change")return Ol(i)}function Dl(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var $n=typeof Object.is=="function"?Object.is:Dl;function Fs(t,i){if($n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Rs.call(i,h)||!$n(t[h],i[h]))return!1}return!0}function ai(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,i){var a=ai(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ai(a)}}function Uh(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Uh(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zu(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Cn(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Cn(t.document)}return i}function Nl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Kd=gi&&"documentMode"in document&&11>=document.documentMode,Ua=null,Bu=null,Qo=null,Hu=!1;function jh(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hu||Ua==null||Ua!==Cn(l)||(l=Ua,"selectionStart"in l&&Nl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Fs(Qo,l)||(Qo=l,l=Sf(Bu,"onSelect"),0<l.length&&(i=new Zr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ua)))}function is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Gs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Xo={},zh={};gi&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function $s(t){if(Xo[t])return Xo[t];if(!Gs[t])return t;var i=Gs[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zh)return Xo[t]=i[a];return t}var rs=$s("animationend"),ur=$s("animationiteration"),qu=$s("animationstart"),Yd=$s("transitionrun"),Bh=$s("transitionstart"),Hh=$s("transitioncancel"),Fu=$s("transitionend"),Gu=new Map,$u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$u.push("scrollEnd");function Li(t,i){Gu.set(t,i),It(i,[t])}var qh=new WeakMap;function oi(t,i){if(typeof t=="object"&&t!==null){var a=qh.get(t);return a!==void 0?a:(i={value:t,source:i,stack:xs(i)},qh.set(t,i),i)}return{value:t,source:i,stack:xs(i)}}var li=[],ja=0,Ku=0;function xl(){for(var t=ja,i=Ku=ja=0;i<t;){var a=li[i];li[i++]=null;var l=li[i];li[i++]=null;var h=li[i];li[i++]=null;var m=li[i];if(li[i++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}m!==0&&Qu(a,h,m)}}function Ml(t,i,a,l){li[ja++]=t,li[ja++]=i,li[ja++]=a,li[ja++]=l,Ku|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yu(t,i,a,l){return Ml(t,i,a,l),Pl(t)}function Kn(t,i){return Ml(t,null,null,i),Pl(t)}function Qu(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-qt(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function Pl(t){if(50<Dc)throw Dc=0,Cm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={};function Qd(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,i,a,l){return new Qd(t,i,a,l)}function Xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xr(t,i){var a=t.alternate;return a===null?(a=ui(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fh(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Vl(t,i,a,l,h,m){var T=0;if(l=t,typeof t=="function")Xu(t)&&(T=1);else if(typeof t=="string")T=xA(t,a,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=ui(31,a,i,h),t.elementType=N,t.lanes=m,t;case B:return Mr(a.children,h,m,i);case ee:T=8,h|=24;break;case Q:return t=ui(12,a,i,h|2),t.elementType=Q,t.lanes=m,t;case Se:return t=ui(13,a,i,h),t.elementType=Se,t.lanes=m,t;case $e:return t=ui(19,a,i,h),t.elementType=$e,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case me:T=10;break e;case ce:T=9;break e;case Ne:T=11;break e;case k:T=14;break e;case D:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ui(T,a,i,h),i.elementType=t,i.type=l,i.lanes=m,i}function Mr(t,i,a,l){return t=ui(7,t,l,i),t.lanes=a,t}function Ba(t,i,a){return t=ui(6,t,null,i),t.lanes=a,t}function Wu(t,i,a){return i=ui(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ks=[],Ys=0,ss=null,Ha=0,Yn=[],yi=0,Qs=null,Pr=1,Un="";function Xs(t,i){Ks[Ys++]=Ha,Ks[Ys++]=ss,ss=t,Ha=i}function Gh(t,i,a){Yn[yi++]=Pr,Yn[yi++]=Un,Yn[yi++]=Qs,Qs=t;var l=Pr;t=Un;var h=32-qt(l)-1;l&=~(1<<h),a+=1;var m=32-qt(i)+h;if(30<m){var T=h-h%5;m=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Pr=1<<32-qt(i)+h|a<<h|l,Un=m+t}else Pr=1<<m|a<<h|l,Un=t}function Zu(t){t.return!==null&&(Xs(t,1),Gh(t,1,0))}function Ju(t){for(;t===ss;)ss=Ks[--Ys],Ks[Ys]=null,Ha=Ks[--Ys],Ks[Ys]=null;for(;t===Qs;)Qs=Yn[--yi],Yn[yi]=null,Un=Yn[--yi],Yn[yi]=null,Pr=Yn[--yi],Yn[yi]=null}var hn=null,Nt=null,mt=!1,as=null,cr=!1,os=Error(s(519));function Vr(t){var i=Error(s(418,""));throw Ui(oi(i,t)),os}function ec(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Yt]=t,i[Ft]=l,a){case"dialog":nt("cancel",i),nt("close",i);break;case"iframe":case"object":case"embed":nt("load",i);break;case"video":case"audio":for(a=0;a<xc.length;a++)nt(xc[a],i);break;case"source":nt("error",i);break;case"img":case"image":case"link":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"input":nt("invalid",i),Or(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ms(i);break;case"select":nt("invalid",i);break;case"textarea":nt("invalid",i),nr(i,l.value,l.defaultValue,l.children),Ms(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||xy(i.textContent,a)?(l.popover!=null&&(nt("beforetoggle",i),nt("toggle",i)),l.onScroll!=null&&nt("scroll",i),l.onScrollEnd!=null&&nt("scrollend",i),l.onClick!=null&&(i.onclick=Rf),i=!0):i=!1,i||Vr(t)}function $h(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:hn=hn.return}}function Wo(t){if(t!==hn)return!1;if(!mt)return $h(t),mt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qm(t.type,t.memoizedProps)),a=!a),a&&Nt&&Vr(t),$h(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Nt=jr(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Nt=null}}else i===27?(i=Nt,io(t.type)?(t=Km,Km=null,Nt=t):Nt=i):Nt=hn?jr(t.stateNode.nextSibling):null;return!0}function Zo(){Nt=hn=null,mt=!1}function qa(){var t=as;return t!==null&&(wi===null?wi=t:wi.push.apply(wi,t),as=null),t}function Ui(t){as===null?as=[t]:as.push(t)}var tc=le(null),Ws=null,kr=null;function ls(t,i,a){he(tc,i._currentValue),i._currentValue=a}function Lr(t){t._currentValue=tc.current,_e(tc)}function nc(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ic(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var x=0;x<i.length;x++)if(w.context===i[x]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),nc(m.return,a,t),l||(T=null);break e}m=w.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),nc(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Jo(t,i,a,l){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=h.type;$n(h.pendingProps.value,T.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ht.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Uc):t=[Uc])}h=h.return}t!==null&&ic(i,t,a,l),i.flags|=262144}function el(t){for(t=t.firstContext;t!==null;){if(!$n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zs(t){Ws=t,kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vn(t){return rc(Ws,t)}function Fa(t,i){return Ws===null&&Zs(t),rc(t,i)}function rc(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},kr===null){if(t===null)throw Error(s(308));kr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else kr=kr.next=i;return a}var Js=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Kh=r.unstable_scheduleCallback,sc=r.unstable_NormalPriority,$t={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tl(){return{controller:new Js,data:new Map,refCount:0}}function Ga(t){t.refCount--,t.refCount===0&&Kh(sc,function(){t.controller.abort()})}var ea=null,ac=0,vi=0,ci=null;function Xd(t,i){if(ea===null){var a=ea=[];ac=0,vi=Pm(),ci={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ac++,i.then(Yh,Yh),i}function Yh(){if(--ac===0&&ea!==null){ci!==null&&(ci.status="fulfilled");var t=ea;ea=null,vi=0,ci=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Wd(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Qh=te.S;te.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Xd(t,i),Qh!==null&&Qh(t,i)};var ta=le(null);function oc(){var t=ta.current;return t!==null?t:xt.pooledCache}function kl(t,i){i===null?he(ta,ta.current):he(ta,i.pool)}function Xh(){var t=oc();return t===null?null:{parent:$t._currentValue,pool:t}}var $a=Error(s(460)),nl=Error(s(474)),na=Error(s(542)),lc={then:function(){}};function Wh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function us(){}function b(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(us,us),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,S(t),t;default:if(typeof i.status=="string")i.then(us,us);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,S(t),t}throw d=i,$a}}var d=null;function v(){if(d===null)throw Error(s(459));var t=d;return d=null,t}function S(t){if(t===$a||t===na)throw Error(s(483))}var L=!1;function j(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function re(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fe(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(bt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pl(t),Qu(t,null,a),i}return Ml(t,l,i,a),Pl(t)}function Ee(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}function Te(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ye=!1;function qe(){if(ye){var t=ci;if(t!==null)throw t}}function xe(t,i,a,l){ye=!1;var h=t.updateQueue;L=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var x=w,K=x.next;x.next=null,T===null?m=K:T.next=K,T=x;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,w=ie.lastBaseUpdate,w!==T&&(w===null?ie.firstBaseUpdate=K:w.next=K,ie.lastBaseUpdate=x))}if(m!==null){var ae=h.baseState;T=0,ie=K=x=null,w=m;do{var Y=w.lane&-536870913,X=Y!==w.lane;if(X?(ft&Y)===Y:(l&Y)===Y){Y!==0&&Y===vi&&(ye=!0),ie!==null&&(ie=ie.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var He=t,Ve=w;Y=i;var Ct=a;switch(Ve.tag){case 1:if(He=Ve.payload,typeof He=="function"){ae=He.call(Ct,ae,Y);break e}ae=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ve.payload,Y=typeof He=="function"?He.call(Ct,ae,Y):He,Y==null)break e;ae=A({},ae,Y);break e;case 2:L=!0}}Y=w.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ie===null?(K=ie=X,x=ae):ie=ie.next=X,T|=Y;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;X=w,w=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);ie===null&&(x=ae),h.baseState=x,h.firstBaseUpdate=K,h.lastBaseUpdate=ie,m===null&&(h.shared.lanes=0),Ja|=T,t.lanes=T,t.memoizedState=ae}}function Fe(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Le(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fe(a[t],i)}var Pe=le(null),pt=le(0);function Et(t,i){t=ua,he(pt,t),he(Pe,i),ua=t|i.baseLanes}function Xe(){he(pt,ua),he(Pe,Pe.current)}function lt(){ua=pt.current,_e(Pe),_e(pt)}var Ue=0,ve=null,Ce=null,je=null,ht=!1,St=!1,Jt=!1,Qn=0,en=0,En=null,Ei=0;function Ye(){throw Error(s(321))}function Ti(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!$n(t[a],i[a]))return!1;return!0}function bi(t,i,a,l,h,m){return Ue=m,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,te.H=t===null||t.memoizedState===null?f_:d_,Jt=!1,m=a(l,h),Jt=!1,St&&(m=tn(i,a,l,h)),ia(t),m}function ia(t){te.H=af;var i=Ce!==null&&Ce.next!==null;if(Ue=0,je=Ce=ve=null,ht=!1,en=0,En=null,i)throw Error(s(300));t===null||On||(t=t.dependencies,t!==null&&el(t)&&(On=!0))}function tn(t,i,a,l){ve=t;var h=0;do{if(St&&(En=null),en=0,St=!1,25<=h)throw Error(s(301));if(h+=1,je=Ce=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}te.H=qb,m=i(a,l)}while(St);return m}function Tt(){var t=te.H,i=t.useState()[0];return i=typeof i.then=="function"?cs(i):i,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(ve.flags|=1024),i}function Tn(){var t=Qn!==0;return Qn=0,t}function Xn(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function hr(t){if(ht){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ht=!1}Ue=0,je=Ce=ve=null,St=!1,en=Qn=0,En=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ve.memoizedState=je=t:je=je.next=t,je}function Ut(){if(Ce===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var i=je===null?ve.memoizedState:je.next;if(i!==null)je=i,Ce=t;else{if(t===null)throw ve.alternate===null?Error(s(467)):Error(s(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},je===null?ve.memoizedState=je=t:je=je.next=t}return je}function Ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(t){var i=en;return en+=1,En===null&&(En=[]),t=b(En,t,i),i=ve,(je===null?i.memoizedState:je.next)===null&&(i=i.alternate,te.H=i===null||i.memoizedState===null?f_:d_),t}function Ul(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cs(t);if(t.$$typeof===me)return vn(t)}throw Error(s(438,String(t)))}function uc(t){var i=null,a=ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ll(),ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function ji(t,i){return typeof i=="function"?i(t):i}function jl(t){var i=Ut();return zl(i,Ce,t)}function zl(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}i.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var w=T=null,x=null,K=i,ie=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(ft&ae)===ae:(Ue&ae)===ae){var Y=K.revertLane;if(Y===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===vi&&(ie=!0);else if((Ue&Y)===Y){K=K.next,Y===vi&&(ie=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(w=x=ae,T=m):x=x.next=ae,ve.lanes|=Y,Ja|=Y;ae=K.action,Jt&&a(m,ae),m=K.hasEagerState?K.eagerState:a(m,ae)}else Y={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(w=x=Y,T=m):x=x.next=Y,ve.lanes|=ae,Ja|=ae;K=K.next}while(K!==null&&K!==i);if(x===null?T=m:x.next=w,!$n(m,t.memoizedState)&&(On=!0,ie&&(a=ci,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=x,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cc(t){var i=Ut(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);$n(m,i.memoizedState)||(On=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function hc(t,i,a){var l=ve,h=Ut(),m=mt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!$n((Ce||h).memoizedState,a);T&&(h.memoizedState=a,On=!0),h=h.queue;var w=Jh.bind(null,l,h,t);if(vc(2048,8,w,[t]),h.getSnapshot!==i||T||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Fl(9,nf(),Zh.bind(null,l,h,a,i),null),xt===null)throw Error(s(349));m||(Ue&124)!==0||fc(l,i,a)}return a}function fc(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ve.updateQueue,i===null?(i=Ll(),ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Zh(t,i,a,l){i.value=a,i.getSnapshot=l,hs(i)&&il(t)}function Jh(t,i,a){return a(function(){hs(i)&&il(t)})}function hs(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!$n(t,a)}catch{return!0}}function il(t){var i=Kn(t,2);i!==null&&Fi(i,t,2)}function Bl(t){var i=bn();if(typeof t=="function"){var a=t;if(t=a(),Jt){ii(!0);try{a()}finally{ii(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},i}function dc(t,i,a,l){return t.baseState=a,zl(t,Ce,typeof l=="function"?l:ji)}function mc(t,i,a,l,h){if(sf(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};te.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,pc(i,m)):(m.next=a.next,i.pending=a.next=m)}}function pc(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var m=te.T,T={};te.T=T;try{var w=a(h,l),x=te.S;x!==null&&x(T,w),gc(t,i,w)}catch(K){Hl(t,i,K)}finally{te.T=m}}else try{m=a(h,l),gc(t,i,m)}catch(K){Hl(t,i,K)}}function gc(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_c(t,i,l)},function(l){return Hl(t,i,l)}):_c(t,i,a)}function _c(t,i,a){i.status="fulfilled",i.value=a,ef(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,pc(t,a)))}function Hl(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ef(i),i=i.next;while(i!==l)}t.action=null}function ef(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function tf(t,i){return i}function ql(t,i){if(mt){var a=xt.formState;if(a!==null){e:{var l=ve;if(mt){if(Nt){t:{for(var h=Nt,m=cr;h.nodeType!==8;){if(!m){h=null;break t}if(h=jr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Nt=jr(h.nextSibling),l=h.data==="F!";break e}}Vr(l)}l=!1}l&&(i=a[0])}}return a=bn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:i},a.queue=l,a=u_.bind(null,ve,l),l.dispatch=a,l=Bl(!1),m=nm.bind(null,ve,!1,l.queue),l=bn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=mc.bind(null,ve,h,m,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function yc(t){var i=Ut();return $g(i,Ce,t)}function $g(t,i,a){if(i=zl(t,i,tf)[0],t=jl(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cs(i)}catch(T){throw T===$a?na:T}else l=i;i=Ut();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(ve.flags|=2048,Fl(9,nf(),jb.bind(null,h,a),null)),[l,m,t]}function jb(t,i){t.action=i}function Kg(t){var i=Ut(),a=Ce;if(a!==null)return $g(i,a,t);Ut(),i=i.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fl(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ve.updateQueue,i===null&&(i=Ll(),ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function nf(){return{destroy:void 0,resource:void 0}}function Yg(){return Ut().memoizedState}function rf(t,i,a,l){var h=bn();l=l===void 0?null:l,ve.flags|=t,h.memoizedState=Fl(1|i,nf(),a,l)}function vc(t,i,a,l){var h=Ut();l=l===void 0?null:l;var m=h.memoizedState.inst;Ce!==null&&l!==null&&Ti(l,Ce.memoizedState.deps)?h.memoizedState=Fl(i,m,a,l):(ve.flags|=t,h.memoizedState=Fl(1|i,m,a,l))}function Qg(t,i){rf(8390656,8,t,i)}function Xg(t,i){vc(2048,8,t,i)}function Wg(t,i){return vc(4,2,t,i)}function Zg(t,i){return vc(4,4,t,i)}function Jg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function e_(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,Jg.bind(null,i,t),a)}function Zd(){}function t_(t,i){var a=Ut();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ti(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function n_(t,i){var a=Ut();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ti(i,l[1]))return l[0];if(l=t(),Jt){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,i],l}function Jd(t,i,a){return a===void 0||(Ue&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=sy(),ve.lanes|=t,Ja|=t,a)}function i_(t,i,a,l){return $n(a,i)?a:Pe.current!==null?(t=Jd(t,a,l),$n(t,i)||(On=!0),t):(Ue&42)===0?(On=!0,t.memoizedState=a):(t=sy(),ve.lanes|=t,Ja|=t,i)}function r_(t,i,a,l,h){var m=pe.p;pe.p=m!==0&&8>m?m:8;var T=te.T,w={};te.T=w,nm(t,!1,i,a);try{var x=h(),K=te.S;if(K!==null&&K(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var ie=Wd(x,l);Ec(t,i,ie,qi(t))}else Ec(t,i,l,qi(t))}catch(ae){Ec(t,i,{then:function(){},status:"rejected",reason:ae},qi())}finally{pe.p=m,te.T=T}}function zb(){}function em(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=s_(t).queue;r_(t,h,i,Ie,a===null?zb:function(){return a_(t),a(l)})}function s_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function a_(t){var i=s_(t).next.queue;Ec(t,i,{},qi())}function tm(){return vn(Uc)}function o_(){return Ut().memoizedState}function l_(){return Ut().memoizedState}function Bb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=qi();t=re(a);var l=fe(i,t,a);l!==null&&(Fi(l,i,a),Ee(l,i,a)),i={cache:tl()},t.payload=i;return}i=i.return}}function Hb(t,i,a){var l=qi();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sf(t)?c_(i,a):(a=Yu(t,i,a,l),a!==null&&(Fi(a,t,l),h_(a,i,l)))}function u_(t,i,a){var l=qi();Ec(t,i,a,l)}function Ec(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sf(t))c_(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,w=m(T,a);if(h.hasEagerState=!0,h.eagerState=w,$n(w,T))return Ml(t,i,h,0),xt===null&&xl(),!1}catch{}finally{}if(a=Yu(t,i,h,l),a!==null)return Fi(a,t,l),h_(a,i,l),!0}return!1}function nm(t,i,a,l){if(l={lane:2,revertLane:Pm(),action:l,hasEagerState:!1,eagerState:null,next:null},sf(t)){if(i)throw Error(s(479))}else i=Yu(t,a,l,2),i!==null&&Fi(i,t,2)}function sf(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function c_(t,i){St=ht=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function h_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}var af={readContext:vn,use:Ul,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},f_={readContext:vn,use:Ul,useCallback:function(t,i){return bn().memoizedState=[t,i===void 0?null:i],t},useContext:vn,useEffect:Qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rf(4194308,4,Jg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rf(4194308,4,t,i)},useInsertionEffect:function(t,i){rf(4,2,t,i)},useMemo:function(t,i){var a=bn();i=i===void 0?null:i;var l=t();if(Jt){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=bn();if(a!==void 0){var h=a(i);if(Jt){ii(!0);try{a(i)}finally{ii(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Hb.bind(null,ve,t),[l.memoizedState,t]},useRef:function(t){var i=bn();return t={current:t},i.memoizedState=t},useState:function(t){t=Bl(t);var i=t.queue,a=u_.bind(null,ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zd,useDeferredValue:function(t,i){var a=bn();return Jd(a,t,i)},useTransition:function(){var t=Bl(!1);return t=r_.bind(null,ve,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ve,h=bn();if(mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),xt===null)throw Error(s(349));(ft&124)!==0||fc(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,Qg(Jh.bind(null,l,m,t),[t]),l.flags|=2048,Fl(9,nf(),Zh.bind(null,l,m,a,i),null),a},useId:function(){var t=bn(),i=xt.identifierPrefix;if(mt){var a=Un,l=Pr;a=(l&~(1<<32-qt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Qn++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Ei++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:tm,useFormState:ql,useActionState:ql,useOptimistic:function(t){var i=bn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nm.bind(null,ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:uc,useCacheRefresh:function(){return bn().memoizedState=Bb.bind(null,ve)}},d_={readContext:vn,use:Ul,useCallback:t_,useContext:vn,useEffect:Xg,useImperativeHandle:e_,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:n_,useReducer:jl,useRef:Yg,useState:function(){return jl(ji)},useDebugValue:Zd,useDeferredValue:function(t,i){var a=Ut();return i_(a,Ce.memoizedState,t,i)},useTransition:function(){var t=jl(ji)[0],i=Ut().memoizedState;return[typeof t=="boolean"?t:cs(t),i]},useSyncExternalStore:hc,useId:o_,useHostTransitionStatus:tm,useFormState:yc,useActionState:yc,useOptimistic:function(t,i){var a=Ut();return dc(a,Ce,t,i)},useMemoCache:uc,useCacheRefresh:l_},qb={readContext:vn,use:Ul,useCallback:t_,useContext:vn,useEffect:Xg,useImperativeHandle:e_,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:n_,useReducer:cc,useRef:Yg,useState:function(){return cc(ji)},useDebugValue:Zd,useDeferredValue:function(t,i){var a=Ut();return Ce===null?Jd(a,t,i):i_(a,Ce.memoizedState,t,i)},useTransition:function(){var t=cc(ji)[0],i=Ut().memoizedState;return[typeof t=="boolean"?t:cs(t),i]},useSyncExternalStore:hc,useId:o_,useHostTransitionStatus:tm,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var a=Ut();return Ce!==null?dc(a,Ce,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:uc,useCacheRefresh:l_},Gl=null,Tc=0;function of(t){var i=Tc;return Tc+=1,Gl===null&&(Gl=[]),b(Gl,t,i)}function bc(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lf(t,i){throw i.$$typeof===O?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function m_(t){var i=t._init;return i(t._payload)}function p_(t){function i(z,V){if(t){var $=z.deletions;$===null?(z.deletions=[V],z.flags|=16):$.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=xr(z,V),z.index=0,z.sibling=null,z}function m(z,V,$){return z.index=$,t?($=z.alternate,$!==null?($=$.index,$<V?(z.flags|=67108866,V):$):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function T(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function w(z,V,$,se){return V===null||V.tag!==6?(V=Ba($,z.mode,se),V.return=z,V):(V=h(V,$),V.return=z,V)}function x(z,V,$,se){var Ae=$.type;return Ae===B?ie(z,V,$.props.children,se,$.key):V!==null&&(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&m_(Ae)===V.type)?(V=h(V,$.props),bc(V,$),V.return=z,V):(V=Vl($.type,$.key,$.props,null,z.mode,se),bc(V,$),V.return=z,V)}function K(z,V,$,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=Wu($,z.mode,se),V.return=z,V):(V=h(V,$.children||[]),V.return=z,V)}function ie(z,V,$,se,Ae){return V===null||V.tag!==7?(V=Mr($,z.mode,se,Ae),V.return=z,V):(V=h(V,$),V.return=z,V)}function ae(z,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ba(""+V,z.mode,$),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return $=Vl(V.type,V.key,V.props,null,z.mode,$),bc($,V),$.return=z,$;case q:return V=Wu(V,z.mode,$),V.return=z,V;case D:var se=V._init;return V=se(V._payload),ae(z,V,$)}if(Mt(V)||H(V))return V=Mr(V,z.mode,$,null),V.return=z,V;if(typeof V.then=="function")return ae(z,of(V),$);if(V.$$typeof===me)return ae(z,Fa(z,V),$);lf(z,V)}return null}function Y(z,V,$,se){var Ae=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ae!==null?null:w(z,V,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case I:return $.key===Ae?x(z,V,$,se):null;case q:return $.key===Ae?K(z,V,$,se):null;case D:return Ae=$._init,$=Ae($._payload),Y(z,V,$,se)}if(Mt($)||H($))return Ae!==null?null:ie(z,V,$,se,null);if(typeof $.then=="function")return Y(z,V,of($),se);if($.$$typeof===me)return Y(z,V,Fa(z,$),se);lf(z,$)}return null}function X(z,V,$,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return z=z.get($)||null,w(V,z,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return z=z.get(se.key===null?$:se.key)||null,x(V,z,se,Ae);case q:return z=z.get(se.key===null?$:se.key)||null,K(V,z,se,Ae);case D:var Je=se._init;return se=Je(se._payload),X(z,V,$,se,Ae)}if(Mt(se)||H(se))return z=z.get($)||null,ie(V,z,se,Ae,null);if(typeof se.then=="function")return X(z,V,$,of(se),Ae);if(se.$$typeof===me)return X(z,V,$,Fa(V,se),Ae);lf(V,se)}return null}function He(z,V,$,se){for(var Ae=null,Je=null,Oe=V,ke=V=0,Nn=null;Oe!==null&&ke<$.length;ke++){Oe.index>ke?(Nn=Oe,Oe=null):Nn=Oe.sibling;var gt=Y(z,Oe,$[ke],se);if(gt===null){Oe===null&&(Oe=Nn);break}t&&Oe&&gt.alternate===null&&i(z,Oe),V=m(gt,V,ke),Je===null?Ae=gt:Je.sibling=gt,Je=gt,Oe=Nn}if(ke===$.length)return a(z,Oe),mt&&Xs(z,ke),Ae;if(Oe===null){for(;ke<$.length;ke++)Oe=ae(z,$[ke],se),Oe!==null&&(V=m(Oe,V,ke),Je===null?Ae=Oe:Je.sibling=Oe,Je=Oe);return mt&&Xs(z,ke),Ae}for(Oe=l(Oe);ke<$.length;ke++)Nn=X(Oe,z,ke,$[ke],se),Nn!==null&&(t&&Nn.alternate!==null&&Oe.delete(Nn.key===null?ke:Nn.key),V=m(Nn,V,ke),Je===null?Ae=Nn:Je.sibling=Nn,Je=Nn);return t&&Oe.forEach(function(lo){return i(z,lo)}),mt&&Xs(z,ke),Ae}function Ve(z,V,$,se){if($==null)throw Error(s(151));for(var Ae=null,Je=null,Oe=V,ke=V=0,Nn=null,gt=$.next();Oe!==null&&!gt.done;ke++,gt=$.next()){Oe.index>ke?(Nn=Oe,Oe=null):Nn=Oe.sibling;var lo=Y(z,Oe,gt.value,se);if(lo===null){Oe===null&&(Oe=Nn);break}t&&Oe&&lo.alternate===null&&i(z,Oe),V=m(lo,V,ke),Je===null?Ae=lo:Je.sibling=lo,Je=lo,Oe=Nn}if(gt.done)return a(z,Oe),mt&&Xs(z,ke),Ae;if(Oe===null){for(;!gt.done;ke++,gt=$.next())gt=ae(z,gt.value,se),gt!==null&&(V=m(gt,V,ke),Je===null?Ae=gt:Je.sibling=gt,Je=gt);return mt&&Xs(z,ke),Ae}for(Oe=l(Oe);!gt.done;ke++,gt=$.next())gt=X(Oe,z,ke,gt.value,se),gt!==null&&(t&&gt.alternate!==null&&Oe.delete(gt.key===null?ke:gt.key),V=m(gt,V,ke),Je===null?Ae=gt:Je.sibling=gt,Je=gt);return t&&Oe.forEach(function(FA){return i(z,FA)}),mt&&Xs(z,ke),Ae}function Ct(z,V,$,se){if(typeof $=="object"&&$!==null&&$.type===B&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case I:e:{for(var Ae=$.key;V!==null;){if(V.key===Ae){if(Ae=$.type,Ae===B){if(V.tag===7){a(z,V.sibling),se=h(V,$.props.children),se.return=z,z=se;break e}}else if(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&m_(Ae)===V.type){a(z,V.sibling),se=h(V,$.props),bc(se,$),se.return=z,z=se;break e}a(z,V);break}else i(z,V);V=V.sibling}$.type===B?(se=Mr($.props.children,z.mode,se,$.key),se.return=z,z=se):(se=Vl($.type,$.key,$.props,null,z.mode,se),bc(se,$),se.return=z,z=se)}return T(z);case q:e:{for(Ae=$.key;V!==null;){if(V.key===Ae)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){a(z,V.sibling),se=h(V,$.children||[]),se.return=z,z=se;break e}else{a(z,V);break}else i(z,V);V=V.sibling}se=Wu($,z.mode,se),se.return=z,z=se}return T(z);case D:return Ae=$._init,$=Ae($._payload),Ct(z,V,$,se)}if(Mt($))return He(z,V,$,se);if(H($)){if(Ae=H($),typeof Ae!="function")throw Error(s(150));return $=Ae.call($),Ve(z,V,$,se)}if(typeof $.then=="function")return Ct(z,V,of($),se);if($.$$typeof===me)return Ct(z,V,Fa(z,$),se);lf(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(a(z,V.sibling),se=h(V,$),se.return=z,z=se):(a(z,V),se=Ba($,z.mode,se),se.return=z,z=se),T(z)):a(z,V)}return function(z,V,$,se){try{Tc=0;var Ae=Ct(z,V,$,se);return Gl=null,Ae}catch(Oe){if(Oe===$a||Oe===na)throw Oe;var Je=ui(29,Oe,null,z.mode);return Je.lanes=se,Je.return=z,Je}finally{}}}var $l=p_(!0),g_=p_(!1),fr=le(null),fs=null;function Ka(t){var i=t.alternate;he(An,An.current&1),he(fr,t),fs===null&&(i===null||Pe.current!==null||i.memoizedState!==null)&&(fs=t)}function __(t){if(t.tag===22){if(he(An,An.current),he(fr,t),fs===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(fs=t)}}else Ya()}function Ya(){he(An,An.current),he(fr,fr.current)}function ra(t){_e(fr),fs===t&&(fs=null),_e(An)}var An=le(0);function uf(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$m(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function im(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rm={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=qi(),h=re(l);h.payload=i,a!=null&&(h.callback=a),i=fe(t,h,l),i!==null&&(Fi(i,t,l),Ee(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=qi(),h=re(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=fe(t,h,l),i!==null&&(Fi(i,t,l),Ee(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=qi(),l=re(a);l.tag=2,i!=null&&(l.callback=i),i=fe(t,l,a),i!==null&&(Fi(i,t,a),Ee(i,t,a))}};function y_(t,i,a,l,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,T):i.prototype&&i.prototype.isPureReactComponent?!Fs(a,l)||!Fs(h,m):!0}function v_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&rm.enqueueReplaceState(i,i.state,null)}function rl(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function E_(t){cf(t)}function T_(t){console.error(t)}function b_(t){cf(t)}function hf(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function A_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sm(t,i,a){return a=re(a),a.tag=3,a.payload={element:null},a.callback=function(){hf(t,i)},a}function w_(t){return t=re(t),t.tag=3,t}function S_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){A_(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){A_(i,a,l),typeof h!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Fb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Jo(i,a,h,!0),a=fr.current,a!==null){switch(a.tag){case 13:return fs===null?Om():a.alternate===null&&Kt===0&&(Kt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nm(t,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nm(t,l,h)),!1}throw Error(s(435,a.tag))}return Nm(t,l,h),Om(),!1}if(mt)return i=fr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==os&&(t=Error(s(422),{cause:l}),Ui(oi(t,a)))):(l!==os&&(i=Error(s(423),{cause:l}),Ui(oi(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=oi(l,a),h=sm(t.stateNode,l,h),Te(t,h),Kt!==4&&(Kt=2)),!1;var m=Error(s(520),{cause:l});if(m=oi(m,a),Oc===null?Oc=[m]:Oc.push(m),Kt!==4&&(Kt=2),i===null)return!0;l=oi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sm(a.stateNode,l,t),Te(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(eo===null||!eo.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=w_(h),S_(h,t,a,l),Te(a,h),!1}a=a.return}while(a!==null);return!1}var R_=Error(s(461)),On=!1;function jn(t,i,a,l){i.child=t===null?g_(i,null,a,l):$l(i,t.child,a,l)}function C_(t,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var T={};for(var w in l)w!=="ref"&&(T[w]=l[w])}else T=l;return Zs(i),l=bi(t,i,a,T,m,h),w=Tn(),t!==null&&!On?(Xn(t,i,h),sa(t,i,h)):(mt&&w&&Zu(i),i.flags|=1,jn(t,i,l,h),i.child)}function I_(t,i,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!Xu(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,O_(t,i,m,l,h)):(t=Vl(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!dm(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Fs,a(T,l)&&t.ref===i.ref)return sa(t,i,h)}return i.flags|=1,t=xr(m,l),t.ref=i.ref,t.return=i,i.child=t}function O_(t,i,a,l,h){if(t!==null){var m=t.memoizedProps;if(Fs(m,l)&&t.ref===i.ref)if(On=!1,i.pendingProps=l=m,dm(t,h))(t.flags&131072)!==0&&(On=!0);else return i.lanes=t.lanes,sa(t,i,h)}return am(t,i,a,l,h)}function D_(t,i,a){var l=i.pendingProps,h=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(h=i.child=t.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return N_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&kl(i,m!==null?m.cachePool:null),m!==null?Et(i,m):Xe(),__(i);else return i.lanes=i.childLanes=536870912,N_(t,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(kl(i,m.cachePool),Et(i,m),Ya(),i.memoizedState=null):(t!==null&&kl(i,null),Xe(),Ya());return jn(t,i,h,a),i.child}function N_(t,i,a,l){var h=oc();return h=h===null?null:{parent:$t._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&kl(i,null),Xe(),__(i),t!==null&&Jo(t,i,l,!0),null}function ff(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function am(t,i,a,l,h){return Zs(i),a=bi(t,i,a,l,void 0,h),l=Tn(),t!==null&&!On?(Xn(t,i,h),sa(t,i,h)):(mt&&l&&Zu(i),i.flags|=1,jn(t,i,a,h),i.child)}function x_(t,i,a,l,h,m){return Zs(i),i.updateQueue=null,a=tn(i,l,a,h),ia(t),l=Tn(),t!==null&&!On?(Xn(t,i,m),sa(t,i,m)):(mt&&l&&Zu(i),i.flags|=1,jn(t,i,a,m),i.child)}function M_(t,i,a,l,h){if(Zs(i),i.stateNode===null){var m=za,T=a.contextType;typeof T=="object"&&T!==null&&(m=vn(T)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},j(i),T=a.contextType,m.context=typeof T=="object"&&T!==null?vn(T):za,m.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(im(i,a,T,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&rm.enqueueReplaceState(m,m.state,null),xe(i,l,m,h),qe(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,x=rl(a,w);m.props=x;var K=m.context,ie=a.contextType;T=za,typeof ie=="object"&&ie!==null&&(T=vn(ie));var ae=a.getDerivedStateFromProps;ie=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ie||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||K!==T)&&v_(i,m,l,T),L=!1;var Y=i.memoizedState;m.state=Y,xe(i,l,m,h),qe(),K=i.memoizedState,w||Y!==K||L?(typeof ae=="function"&&(im(i,a,ae,l),K=i.memoizedState),(x=L||y_(i,a,x,l,Y,K,T))?(ie||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),m.props=l,m.state=K,m.context=T,l=x):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,J(t,i),T=i.memoizedProps,ie=rl(a,T),m.props=ie,ae=i.pendingProps,Y=m.context,K=a.contextType,x=za,typeof K=="object"&&K!==null&&(x=vn(K)),w=a.getDerivedStateFromProps,(K=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ae||Y!==x)&&v_(i,m,l,x),L=!1,Y=i.memoizedState,m.state=Y,xe(i,l,m,h),qe();var X=i.memoizedState;T!==ae||Y!==X||L||t!==null&&t.dependencies!==null&&el(t.dependencies)?(typeof w=="function"&&(im(i,a,w,l),X=i.memoizedState),(ie=L||y_(i,a,ie,l,Y,X,x)||t!==null&&t.dependencies!==null&&el(t.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,x)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),m.props=l,m.state=X,m.context=x,l=ie):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,ff(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=$l(i,t.child,null,h),i.child=$l(i,null,a,h)):jn(t,i,a,h),i.memoizedState=m.state,t=i.child):t=sa(t,i,h),t}function P_(t,i,a,l){return Zo(),i.flags|=256,jn(t,i,a,l),i.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(t){return{baseLanes:t,cachePool:Xh()}}function um(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=dr),t}function V_(t,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(An.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(mt){if(h?Ka(i):Ya(),mt){var w=Nt,x;if(x=w){e:{for(x=w,w=cr;x.nodeType!==8;){if(!w){w=null;break e}if(x=jr(x.nextSibling),x===null){w=null;break e}}w=x}w!==null?(i.memoizedState={dehydrated:w,treeContext:Qs!==null?{id:Pr,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},x=ui(18,null,null,0),x.stateNode=w,x.return=i,i.child=x,hn=i,Nt=null,x=!0):x=!1}x||Vr(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return $m(w)?i.lanes=32:i.lanes=536870912,null;ra(i)}return w=l.children,l=l.fallback,h?(Ya(),h=i.mode,w=df({mode:"hidden",children:w},h),l=Mr(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=lm(a),h.childLanes=um(t,T,a),i.memoizedState=om,l):(Ka(i),cm(i,w))}if(x=t.memoizedState,x!==null&&(w=x.dehydrated,w!==null)){if(m)i.flags&256?(Ka(i),i.flags&=-257,i=hm(t,i,a)):i.memoizedState!==null?(Ya(),i.child=t.child,i.flags|=128,i=null):(Ya(),h=l.fallback,w=i.mode,l=df({mode:"visible",children:l.children},w),h=Mr(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,$l(i,t.child,null,a),l=i.child,l.memoizedState=lm(a),l.childLanes=um(t,T,a),i.memoizedState=om,i=h);else if(Ka(i),$m(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var K=T.dgst;T=K,l=Error(s(419)),l.stack="",l.digest=T,Ui({value:l,source:null,stack:null}),i=hm(t,i,a)}else if(On||Jo(t,i,a,!1),T=(a&t.childLanes)!==0,On||T){if(T=xt,T!==null&&(l=a&-a,l=(l&42)!==0?1:Yr(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Kn(t,l),Fi(T,t,l),R_;w.data==="$?"||Om(),i=hm(t,i,a)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,Nt=jr(w.nextSibling),hn=i,mt=!0,as=null,cr=!1,t!==null&&(Yn[yi++]=Pr,Yn[yi++]=Un,Yn[yi++]=Qs,Pr=t.id,Un=t.overflow,Qs=i),i=cm(i,l.children),i.flags|=4096);return i}return h?(Ya(),h=l.fallback,w=i.mode,x=t.child,K=x.sibling,l=xr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,K!==null?h=xr(K,h):(h=Mr(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=lm(a):(x=w.cachePool,x!==null?(K=$t._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=Xh(),w={baseLanes:w.baseLanes|a,cachePool:x}),h.memoizedState=w,h.childLanes=um(t,T,a),i.memoizedState=om,l):(Ka(i),a=t.child,t=a.sibling,a=xr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function cm(t,i){return i=df({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function df(t,i){return t=ui(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hm(t,i,a){return $l(i,t.child,null,a),t=cm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function k_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),nc(t.return,i,a)}function fm(t,i,a,l,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function L_(t,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(jn(t,i,l.children,a),l=An.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k_(t,a,i);else if(t.tag===19)k_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(he(An,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&uf(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fm(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&uf(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fm(i,!0,a,null,m);break;case"together":fm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function sa(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ja|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=xr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=xr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&el(t)))}function Gb(t,i,a){switch(i.tag){case 3:ge(i,i.stateNode.containerInfo),ls(i,$t,t.memoizedState.cache),Zo();break;case 27:case 5:vr(i);break;case 4:ge(i,i.stateNode.containerInfo);break;case 10:ls(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ka(i),i.flags|=128,null):(a&i.child.childLanes)!==0?V_(t,i,a):(Ka(i),t=sa(t,i,a),t!==null?t.sibling:null);Ka(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Jo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return L_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(An,An.current),l)break;return null;case 22:case 23:return i.lanes=0,D_(t,i,a);case 24:ls(i,$t,t.memoizedState.cache)}return sa(t,i,a)}function U_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)On=!0;else{if(!dm(t,a)&&(i.flags&128)===0)return On=!1,Gb(t,i,a);On=(t.flags&131072)!==0}else On=!1,mt&&(i.flags&1048576)!==0&&Gh(i,Ha,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Xu(l)?(t=rl(l,t),i.tag=1,i=M_(null,i,l,t,a)):(i.tag=0,i=am(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Ne){i.tag=11,i=C_(null,i,l,t,a);break e}else if(h===k){i.tag=14,i=I_(null,i,l,t,a);break e}}throw i=sn(l)||l,Error(s(306,i,""))}}return i;case 0:return am(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=rl(l,i.pendingProps),M_(t,i,l,h,a);case 3:e:{if(ge(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,J(t,i),xe(i,l,null,a);var T=i.memoizedState;if(l=T.cache,ls(i,$t,l),l!==m.cache&&ic(i,[$t],a,!0),qe(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=P_(t,i,l,a);break e}else if(l!==h){h=oi(Error(s(424)),i),Ui(h),i=P_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Nt=jr(t.firstChild),hn=i,mt=!0,as=null,cr=!0,a=g_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),l===h){i=sa(t,i,a);break e}jn(t,i,l,a)}i=i.child}return i;case 26:return ff(t,i),t===null?(a=Hy(i.type,null,i.pendingProps,null))?i.memoizedState=a:mt||(a=i.type,t=i.pendingProps,l=Cf(Re.current).createElement(a),l[Yt]=i,l[Ft]=t,Bn(l,a,t),et(l),i.stateNode=l):i.memoizedState=Hy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return vr(i),t===null&&mt&&(l=i.stateNode=jy(i.type,i.pendingProps,Re.current),hn=i,cr=!0,h=Nt,io(i.type)?(Km=h,Nt=jr(l.firstChild)):Nt=h),jn(t,i,i.pendingProps.children,a),ff(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&mt&&((h=l=Nt)&&(l=vA(l,i.type,i.pendingProps,cr),l!==null?(i.stateNode=l,hn=i,Nt=jr(l.firstChild),cr=!1,h=!0):h=!1),h||Vr(i)),vr(i),h=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,l=m.children,qm(h,m)?l=null:T!==null&&qm(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=bi(t,i,Tt,null,null,a),Uc._currentValue=h),ff(t,i),jn(t,i,l,a),i.child;case 6:return t===null&&mt&&((t=a=Nt)&&(a=EA(a,i.pendingProps,cr),a!==null?(i.stateNode=a,hn=i,Nt=null,t=!0):t=!1),t||Vr(i)),null;case 13:return V_(t,i,a);case 4:return ge(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$l(i,null,l,a):jn(t,i,l,a),i.child;case 11:return C_(t,i,i.type,i.pendingProps,a);case 7:return jn(t,i,i.pendingProps,a),i.child;case 8:return jn(t,i,i.pendingProps.children,a),i.child;case 12:return jn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ls(i,i.type,l.value),jn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Zs(i),h=vn(h),l=l(h),i.flags|=1,jn(t,i,l,a),i.child;case 14:return I_(t,i,i.type,i.pendingProps,a);case 15:return O_(t,i,i.type,i.pendingProps,a);case 19:return L_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=df(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=xr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return D_(t,i,a);case 24:return Zs(i),l=vn($t),t===null?(h=oc(),h===null&&(h=xt,m=tl(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},j(i),ls(i,$t,h)):((t.lanes&a)!==0&&(J(t,i),xe(i,null,null,a),qe()),h=t.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ls(i,$t,l)):(l=m.cache,ls(i,$t,l),l!==h.cache&&ic(i,[$t],a,!0))),jn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function aa(t){t.flags|=4}function j_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ky(i)){if(i=fr.current,i!==null&&((ft&4194048)===ft?fs!==null:(ft&62914560)!==ft&&(ft&536870912)===0||i!==fs))throw d=lc,nl;t.flags|=8192}}function mf(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Po():536870912,t.lanes|=i,Xl|=i)}function Ac(t,i){if(!mt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function jt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $b(t,i,a){var l=i.pendingProps;switch(Ju(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return jt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Lr($t),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wo(i)?aa(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qa())),jt(i),null;case 26:return a=i.memoizedState,t===null?(aa(i),a!==null?(jt(i),j_(i,a)):(jt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(aa(i),jt(i),j_(i,a)):(jt(i),i.flags&=-16777217):(t.memoizedProps!==l&&aa(i),jt(i),i.flags&=-16777217),null;case 27:Er(i),a=Re.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&aa(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return jt(i),null}t=we.current,Wo(i)?ec(i):(t=jy(h,l,a),i.stateNode=t,aa(i))}return jt(i),null;case 5:if(Er(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&aa(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return jt(i),null}if(t=we.current,Wo(i))ec(i);else{switch(h=Cf(Re.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Yt]=i,t[Ft]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&aa(i)}}return jt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&aa(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Wo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Yt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xy(t.nodeValue,a)),t||Vr(i)}else t=Cf(t).createTextNode(l),t[Yt]=i,i.stateNode=t}return jt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Yt]=i}else Zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),h=!1}else h=qa(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ra(i),i):(ra(i),null)}if(ra(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),mf(i,i.updateQueue),jt(i),null;case 4:return ni(),t===null&&Um(i.stateNode.containerInfo),jt(i),null;case 10:return Lr(i.type),jt(i),null;case 19:if(_e(An),h=i.memoizedState,h===null)return jt(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)Ac(h,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=uf(t),m!==null){for(i.flags|=128,Ac(h,!1),t=m.updateQueue,i.updateQueue=t,mf(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fh(a,t),a=a.sibling;return he(An,An.current&1|2),i.child}t=t.sibling}h.tail!==null&&hi()>_f&&(i.flags|=128,l=!0,Ac(h,!1),i.lanes=4194304)}else{if(!l)if(t=uf(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,mf(i,t),Ac(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!mt)return jt(i),null}else 2*hi()-h.renderingStartTime>_f&&a!==536870912&&(i.flags|=128,l=!0,Ac(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(t=h.last,t!==null?t.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=hi(),i.sibling=null,t=An.current,he(An,l?t&1|2:t&1),i):(jt(i),null);case 22:case 23:return ra(i),lt(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),a=i.updateQueue,a!==null&&mf(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&_e(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Lr($t),jt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Kb(t,i){switch(Ju(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Lr($t),ni(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Er(i),null;case 13:if(ra(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return _e(An),null;case 4:return ni(),null;case 10:return Lr(i.type),null;case 22:case 23:return ra(i),lt(),t!==null&&_e(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Lr($t),null;case 25:return null;default:return null}}function z_(t,i){switch(Ju(i),i.tag){case 3:Lr($t),ni();break;case 26:case 27:case 5:Er(i);break;case 4:ni();break;case 13:ra(i);break;case 19:_e(An);break;case 10:Lr(i.type);break;case 22:case 23:ra(i),lt(),t!==null&&_e(ta);break;case 24:Lr($t)}}function wc(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==h)}}catch(w){Ot(i,i.return,w)}}function Qa(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var T=l.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,h=i;var x=a,K=w;try{K()}catch(ie){Ot(h,x,ie)}}}l=l.next}while(l!==m)}}catch(ie){Ot(i,i.return,ie)}}function B_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Le(i,a)}catch(l){Ot(t,t.return,l)}}}function H_(t,i,a){a.props=rl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ot(t,i,l)}}function Sc(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ot(t,i,h)}}function ds(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ot(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ot(t,i,h)}else a.current=null}function q_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ot(t,t.return,h)}}function mm(t,i,a){try{var l=t.stateNode;mA(l,t.type,a,i),l[Ft]=i}catch(h){Ot(t,t.return,h)}}function F_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&io(t.type)||t.tag===4}function pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&io(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Rf));else if(l!==4&&(l===27&&io(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(gm(t,i,a),t=t.sibling;t!==null;)gm(t,i,a),t=t.sibling}function pf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&io(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pf(t,i,a),t=t.sibling;t!==null;)pf(t,i,a),t=t.sibling}function G_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bn(i,l,a),i[Yt]=t,i[Ft]=a}catch(m){Ot(t,t.return,m)}}var oa=!1,nn=!1,_m=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function Yb(t,i){if(t=t.containerInfo,Bm=Mf,t=zu(t),Nl(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,w=-1,x=-1,K=0,ie=0,ae=t,Y=null;t:for(;;){for(var X;ae!==a||h!==0&&ae.nodeType!==3||(w=T+h),ae!==m||l!==0&&ae.nodeType!==3||(x=T+l),ae.nodeType===3&&(T+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Y=ae,ae=X;for(;;){if(ae===t)break t;if(Y===a&&++K===h&&(w=T),Y===m&&++ie===l&&(x=T),(X=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=X}a=w===-1||x===-1?null:{start:w,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:t,selectionRange:a},Mf=!1,Dn=i;Dn!==null;)if(i=Dn,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Dn=t;else for(;Dn!==null;){switch(i=Dn,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var He=rl(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(He,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Ot(a,a.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Dn=t;break}Dn=i.return}}function K_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xa(t,a),l&4&&wc(5,a);break;case 1:if(Xa(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Ot(a,a.return,T)}else{var h=rl(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ot(a,a.return,T)}}l&64&&B_(a),l&512&&Sc(a,a.return);break;case 3:if(Xa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Le(t,i)}catch(T){Ot(a,a.return,T)}}break;case 27:i===null&&l&4&&G_(a);case 26:case 5:Xa(t,a),i===null&&l&4&&q_(a),l&512&&Sc(a,a.return);break;case 12:Xa(t,a);break;case 13:Xa(t,a),l&4&&X_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=iA.bind(null,a),TA(t,a))));break;case 22:if(l=a.memoizedState!==null||oa,!l){i=i!==null&&i.memoizedState!==null||nn,h=oa;var m=nn;oa=l,(nn=i)&&!m?Wa(t,a,(a.subtreeFlags&8772)!==0):Xa(t,a),oa=h,nn=m}break;case 30:break;default:Xa(t,a)}}function Y_(t){var i=t.alternate;i!==null&&(t.alternate=null,Y_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Xr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,Ai=!1;function la(t,i,a){for(a=a.child;a!==null;)Q_(t,i,a),a=a.sibling}function Q_(t,i,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Pt,a)}catch{}switch(a.tag){case 26:nn||ds(a,i),la(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nn||ds(a,i);var l=kt,h=Ai;io(a.type)&&(kt=a.stateNode,Ai=!1),la(t,i,a),Pc(a.stateNode),kt=l,Ai=h;break;case 5:nn||ds(a,i);case 6:if(l=kt,h=Ai,kt=null,la(t,i,a),kt=l,Ai=h,kt!==null)if(Ai)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(a.stateNode)}catch(m){Ot(a,i,m)}else try{kt.removeChild(a.stateNode)}catch(m){Ot(a,i,m)}break;case 18:kt!==null&&(Ai?(t=kt,Ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Hc(t)):Ly(kt,a.stateNode));break;case 4:l=kt,h=Ai,kt=a.stateNode.containerInfo,Ai=!0,la(t,i,a),kt=l,Ai=h;break;case 0:case 11:case 14:case 15:nn||Qa(2,a,i),nn||Qa(4,a,i),la(t,i,a);break;case 1:nn||(ds(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&H_(a,i,l)),la(t,i,a);break;case 21:la(t,i,a);break;case 22:nn=(l=nn)||a.memoizedState!==null,la(t,i,a),nn=l;break;default:la(t,i,a)}}function X_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hc(t)}catch(a){Ot(i,i.return,a)}}function Qb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $_),i;default:throw Error(s(435,t.tag))}}function ym(t,i){var a=Qb(t);i.forEach(function(l){var h=rA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function zi(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,T=i,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(io(w.type)){kt=w.stateNode,Ai=!1;break e}break;case 5:kt=w.stateNode,Ai=!1;break e;case 3:case 4:kt=w.stateNode.containerInfo,Ai=!0;break e}w=w.return}if(kt===null)throw Error(s(160));Q_(m,T,h),kt=null,Ai=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)W_(i,t),i=i.sibling}var Ur=null;function W_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zi(i,t),Bi(t),l&4&&(Qa(3,t,t.return),wc(3,t),Qa(5,t,t.return));break;case 1:zi(i,t),Bi(t),l&512&&(nn||a===null||ds(a,a.return)),l&64&&oa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ur;if(zi(i,t),Bi(t),l&512&&(nn||a===null||ds(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Qi]||m[Yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Bn(m,l,a),m[Yt]=t,et(m),l=m;break e;case"link":var T=Gy("link","href",h).get(l+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(m=T[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break t}}m=h.createElement(l),Bn(m,l,a),h.head.appendChild(m);break;case"meta":if(T=Gy("meta","content",h).get(l+(a.content||""))){for(w=0;w<T.length;w++)if(m=T[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break t}}m=h.createElement(l),Bn(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Yt]=t,et(m),l=m}t.stateNode=l}else $y(h,t.type,t.stateNode);else t.stateNode=Fy(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?$y(h,t.type,t.stateNode):Fy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&mm(t,t.memoizedProps,a.memoizedProps)}break;case 27:zi(i,t),Bi(t),l&512&&(nn||a===null||ds(a,a.return)),a!==null&&l&4&&mm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(zi(i,t),Bi(t),l&512&&(nn||a===null||ds(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(X){Ot(t,t.return,X)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,mm(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_m=!0);break;case 6:if(zi(i,t),Bi(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(X){Ot(t,t.return,X)}}break;case 3:if(Df=null,h=Ur,Ur=If(i.containerInfo),zi(i,t),Ur=h,Bi(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hc(i.containerInfo)}catch(X){Ot(t,t.return,X)}_m&&(_m=!1,Z_(t));break;case 4:l=Ur,Ur=If(t.stateNode.containerInfo),zi(i,t),Bi(t),Ur=l;break;case 12:zi(i,t),Bi(t);break;case 13:zi(i,t),Bi(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wm=hi()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ym(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,K=oa,ie=nn;if(oa=K||h,nn=ie||x,zi(i,t),nn=ie,oa=K,Bi(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||oa||nn||sl(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(m=x.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=x.stateNode;var ae=x.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){Ot(x,x.return,X)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(X){Ot(x,x.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ym(t,a))));break;case 19:zi(i,t),Bi(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ym(t,l)));break;case 30:break;case 21:break;default:zi(i,t),Bi(t)}}function Bi(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(F_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=pm(t);pf(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(gn(T,""),a.flags&=-33);var w=pm(t);pf(t,w,T);break;case 3:case 4:var x=a.stateNode.containerInfo,K=pm(t);gm(t,K,x);break;default:throw Error(s(161))}}catch(ie){Ot(t,t.return,ie)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Z_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Z_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)K_(t,i.alternate,i),i=i.sibling}function sl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qa(4,i,i.return),sl(i);break;case 1:ds(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&H_(i,i.return,a),sl(i);break;case 27:Pc(i.stateNode);case 26:case 5:ds(i,i.return),sl(i);break;case 22:i.memoizedState===null&&sl(i);break;case 30:sl(i);break;default:sl(i)}t=t.sibling}}function Wa(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:Wa(h,m,a),wc(4,m);break;case 1:if(Wa(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){Ot(l,l.return,K)}if(l=m,h=l.updateQueue,h!==null){var w=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Fe(x[h],w)}catch(K){Ot(l,l.return,K)}}a&&T&64&&B_(m),Sc(m,m.return);break;case 27:G_(m);case 26:case 5:Wa(h,m,a),a&&l===null&&T&4&&q_(m),Sc(m,m.return);break;case 12:Wa(h,m,a);break;case 13:Wa(h,m,a),a&&T&4&&X_(h,m);break;case 22:m.memoizedState===null&&Wa(h,m,a),Sc(m,m.return);break;case 30:break;default:Wa(h,m,a)}i=i.sibling}}function vm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ga(a))}function Em(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ga(t))}function ms(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J_(t,i,a,l),i=i.sibling}function J_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ms(t,i,a,l),h&2048&&wc(9,i);break;case 1:ms(t,i,a,l);break;case 3:ms(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ga(t)));break;case 12:if(h&2048){ms(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,w=m.onPostCommit;typeof w=="function"&&w(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ot(i,i.return,x)}}else ms(t,i,a,l);break;case 13:ms(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?ms(t,i,a,l):Rc(t,i):m._visibility&2?ms(t,i,a,l):(m._visibility|=2,Kl(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&vm(T,i);break;case 24:ms(t,i,a,l),h&2048&&Em(i.alternate,i);break;default:ms(t,i,a,l)}}function Kl(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,T=i,w=a,x=l,K=T.flags;switch(T.tag){case 0:case 11:case 15:Kl(m,T,w,x,h),wc(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?Kl(m,T,w,x,h):Rc(m,T):(ie._visibility|=2,Kl(m,T,w,x,h)),h&&K&2048&&vm(T.alternate,T);break;case 24:Kl(m,T,w,x,h),h&&K&2048&&Em(T.alternate,T);break;default:Kl(m,T,w,x,h)}i=i.sibling}}function Rc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Rc(a,l),h&2048&&vm(l.alternate,l);break;case 24:Rc(a,l),h&2048&&Em(l.alternate,l);break;default:Rc(a,l)}i=i.sibling}}var Cc=8192;function Yl(t){if(t.subtreeFlags&Cc)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 26:Yl(t),t.flags&Cc&&t.memoizedState!==null&&PA(Ur,t.memoizedState,t.memoizedProps);break;case 5:Yl(t);break;case 3:case 4:var i=Ur;Ur=If(t.stateNode.containerInfo),Yl(t),Ur=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Cc,Cc=16777216,Yl(t),Cc=i):Yl(t));break;default:Yl(t)}}function ty(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dn=l,iy(l,t)}ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ny(t),t=t.sibling}function ny(t){switch(t.tag){case 0:case 11:case 15:Ic(t),t.flags&2048&&Qa(9,t,t.return);break;case 3:Ic(t);break;case 12:Ic(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gf(t)):Ic(t);break;default:Ic(t)}}function gf(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dn=l,iy(l,t)}ty(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qa(8,i,i.return),gf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gf(i));break;default:gf(i)}t=t.sibling}}function iy(t,i){for(;Dn!==null;){var a=Dn;switch(a.tag){case 0:case 11:case 15:Qa(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ga(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dn=l;else e:for(a=t;Dn!==null;){l=Dn;var h=l.sibling,m=l.return;if(Y_(l),l===a){Dn=null;break e}if(h!==null){h.return=m,Dn=h;break e}Dn=m}}}var Xb={getCacheForType:function(t){var i=vn($t),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Wb=typeof WeakMap=="function"?WeakMap:Map,bt=0,xt=null,tt=null,ft=0,At=0,Hi=null,Za=!1,Ql=!1,Tm=!1,ua=0,Kt=0,Ja=0,al=0,bm=0,dr=0,Xl=0,Oc=null,wi=null,Am=!1,wm=0,_f=1/0,yf=null,eo=null,zn=0,to=null,Wl=null,Zl=0,Sm=0,Rm=null,ry=null,Dc=0,Cm=null;function qi(){if((bt&2)!==0&&ft!==0)return ft&-ft;if(te.T!==null){var t=vi;return t!==0?t:Pm()}return Qr()}function sy(){dr===0&&(dr=(ft&536870912)===0||mt?Mo():536870912);var t=fr.current;return t!==null&&(t.flags|=32),dr}function Fi(t,i,a){(t===xt&&(At===2||At===9)||t.cancelPendingCommit!==null)&&(Jl(t,0),no(t,ft,dr,!1)),fi(t,a),((bt&2)===0||t!==xt)&&(t===xt&&((bt&2)===0&&(al|=a),Kt===4&&no(t,ft,dr,!1)),ps(t))}function ay(t,i,a){if((bt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Os(t,i),h=l?eA(t,i):Dm(t,i,!0),m=l;do{if(h===0){Ql&&!l&&no(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!Zb(a)){h=Dm(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var w=t;h=Oc;var x=w.current.memoizedState.isDehydrated;if(x&&(Jl(w,T).flags|=256),T=Dm(w,T,!1),T!==2){if(Tm&&!x){w.errorRecoveryDisabledLanes|=m,al|=m,h=4;break e}m=wi,wi=h,m!==null&&(wi===null?wi=m:wi.push.apply(wi,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){Jl(t,0),no(t,i,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:no(l,i,dr,!Za);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=wm+300-hi(),10<h)){if(no(l,i,dr,!Za),wa(l,0,!0)!==0)break e;l.timeoutHandle=Vy(oy.bind(null,l,a,wi,yf,Am,i,dr,al,Xl,Za,m,2,-0,0),h);break e}oy(l,a,wi,yf,Am,i,dr,al,Xl,Za,m,0,-0,0)}}break}while(!0);ps(t)}function oy(t,i,a,l,h,m,T,w,x,K,ie,ae,Y,X){if(t.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Lc={stylesheets:null,count:0,unsuspend:MA},ey(i),ae=VA(),ae!==null)){t.cancelPendingCommit=ae(my.bind(null,t,i,m,a,l,h,T,w,x,ie,1,Y,X)),no(t,m,T,!K);return}my(t,i,m,a,l,h,T,w,x)}function Zb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!$n(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function no(t,i,a,l){i&=~bm,i&=~al,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var m=31-qt(h),T=1<<m;l[m]=-1,h&=~T}a!==0&&Oi(t,a,i)}function vf(){return(bt&6)===0?(Nc(0),!1):!0}function Im(){if(tt!==null){if(At===0)var t=tt.return;else t=tt,kr=Ws=null,hr(t),Gl=null,Tc=0,t=tt;for(;t!==null;)z_(t.alternate,t),t=t.return;tt=null}}function Jl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Im(),xt=t,tt=a=xr(t.current,null),ft=i,At=0,Hi=null,Za=!1,Ql=Os(t,i),Tm=!1,Xl=dr=bm=al=Ja=Kt=0,wi=Oc=null,Am=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-qt(l),m=1<<h;i|=t[h],l&=~m}return ua=i,xl(),a}function ly(t,i){ve=null,te.H=af,i===$a||i===na?(i=v(),At=3):i===nl?(i=v(),At=4):At=i===R_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hi=i,tt===null&&(Kt=1,hf(t,oi(i,t.current)))}function uy(){var t=te.H;return te.H=af,t===null?af:t}function cy(){var t=te.A;return te.A=Xb,t}function Om(){Kt=4,Za||(ft&4194048)!==ft&&fr.current!==null||(Ql=!0),(Ja&134217727)===0&&(al&134217727)===0||xt===null||no(xt,ft,dr,!1)}function Dm(t,i,a){var l=bt;bt|=2;var h=uy(),m=cy();(xt!==t||ft!==i)&&(yf=null,Jl(t,i)),i=!1;var T=Kt;e:do try{if(At!==0&&tt!==null){var w=tt,x=Hi;switch(At){case 8:Im(),T=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(i=!0);var K=At;if(At=0,Hi=null,eu(t,w,x,K),a&&Ql){T=0;break e}break;default:K=At,At=0,Hi=null,eu(t,w,x,K)}}Jb(),T=Kt;break}catch(ie){ly(t,ie)}while(!0);return i&&t.shellSuspendCounter++,kr=Ws=null,bt=l,te.H=h,te.A=m,tt===null&&(xt=null,ft=0,xl()),T}function Jb(){for(;tt!==null;)hy(tt)}function eA(t,i){var a=bt;bt|=2;var l=uy(),h=cy();xt!==t||ft!==i?(yf=null,_f=hi()+500,Jl(t,i)):Ql=Os(t,i);e:do try{if(At!==0&&tt!==null){i=tt;var m=Hi;t:switch(At){case 1:At=0,Hi=null,eu(t,i,m,1);break;case 2:case 9:if(Wh(m)){At=0,Hi=null,fy(i);break}i=function(){At!==2&&At!==9||xt!==t||(At=7),ps(t)},m.then(i,i);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Wh(m)?(At=0,Hi=null,fy(i)):(At=0,Hi=null,eu(t,i,m,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var w=tt;if(!T||Ky(T)){At=0,Hi=null;var x=w.sibling;if(x!==null)tt=x;else{var K=w.return;K!==null?(tt=K,Ef(K)):tt=null}break t}}At=0,Hi=null,eu(t,i,m,5);break;case 6:At=0,Hi=null,eu(t,i,m,6);break;case 8:Im(),Kt=6;break e;default:throw Error(s(462))}}tA();break}catch(ie){ly(t,ie)}while(!0);return kr=Ws=null,te.H=l,te.A=h,bt=a,tt!==null?0:(xt=null,ft=0,xl(),Kt)}function tA(){for(;tt!==null&&!Tr();)hy(tt)}function hy(t){var i=U_(t.alternate,t,ua);t.memoizedProps=t.pendingProps,i===null?Ef(t):tt=i}function fy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=x_(a,i,i.pendingProps,i.type,void 0,ft);break;case 11:i=x_(a,i,i.pendingProps,i.type.render,i.ref,ft);break;case 5:hr(i);default:z_(a,i),i=tt=Fh(i,ua),i=U_(a,i,ua)}t.memoizedProps=t.pendingProps,i===null?Ef(t):tt=i}function eu(t,i,a,l){kr=Ws=null,hr(i),Gl=null,Tc=0;var h=i.return;try{if(Fb(t,h,i,a,ft)){Kt=1,hf(t,oi(a,t.current)),tt=null;return}}catch(m){if(h!==null)throw tt=h,m;Kt=1,hf(t,oi(a,t.current)),tt=null;return}i.flags&32768?(mt||l===1?t=!0:Ql||(ft&536870912)!==0?t=!1:(Za=t=!0,(l===2||l===9||l===3||l===6)&&(l=fr.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(i,t)):Ef(i)}function Ef(t){var i=t;do{if((i.flags&32768)!==0){dy(i,Za);return}t=i.return;var a=$b(i.alternate,i,ua);if(a!==null){tt=a;return}if(i=i.sibling,i!==null){tt=i;return}tt=i=t}while(i!==null);Kt===0&&(Kt=5)}function dy(t,i){do{var a=Kb(t.alternate,t);if(a!==null){a.flags&=32767,tt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){tt=t;return}tt=t=a}while(t!==null);Kt=6,tt=null}function my(t,i,a,l,h,m,T,w,x){t.cancelPendingCommit=null;do Tf();while(zn!==0);if((bt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Ku,Sa(t,a,m,T,w,x),t===xt&&(tt=xt=null,ft=0),Wl=i,to=t,Zl=a,Sm=m,Rm=h,ry=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sA(Cs,function(){return vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=te.T,te.T=null,h=pe.p,pe.p=2,T=bt,bt|=4;try{Yb(t,i,a)}finally{bt=T,pe.p=h,te.T=l}}zn=1,py(),gy(),_y()}}function py(){if(zn===1){zn=0;var t=to,i=Wl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=te.T,te.T=null;var l=pe.p;pe.p=2;var h=bt;bt|=4;try{W_(i,t);var m=Hm,T=zu(t.containerInfo),w=m.focusedElem,x=m.selectionRange;if(T!==w&&w&&w.ownerDocument&&Uh(w.ownerDocument.documentElement,w)){if(x!==null&&Nl(w)){var K=x.start,ie=x.end;if(ie===void 0&&(ie=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(ie,w.value.length);else{var ae=w.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),He=w.textContent.length,Ve=Math.min(x.start,He),Ct=x.end===void 0?Ve:Math.min(x.end,He);!X.extend&&Ve>Ct&&(T=Ct,Ct=Ve,Ve=T);var z=Lh(w,Ve),V=Lh(w,Ct);if(z&&V&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var $=ae.createRange();$.setStart(z.node,z.offset),X.removeAllRanges(),Ve>Ct?(X.addRange($),X.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),X.addRange($))}}}}for(ae=[],X=w;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var se=ae[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Mf=!!Bm,Hm=Bm=null}finally{bt=h,pe.p=l,te.T=a}}t.current=i,zn=2}}function gy(){if(zn===2){zn=0;var t=to,i=Wl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=te.T,te.T=null;var l=pe.p;pe.p=2;var h=bt;bt|=4;try{K_(t,i.alternate,i)}finally{bt=h,pe.p=l,te.T=a}}zn=3}}function _y(){if(zn===4||zn===3){zn=0,br();var t=to,i=Wl,a=Zl,l=ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zn=5:(zn=0,Wl=to=null,yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(eo=null),Ra(a),i=i.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Pt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=te.T,h=pe.p,pe.p=2,te.T=null;try{for(var m=t.onRecoverableError,T=0;T<l.length;T++){var w=l[T];m(w.value,{componentStack:w.stack})}}finally{te.T=i,pe.p=h}}(Zl&3)!==0&&Tf(),ps(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Cm?Dc++:(Dc=0,Cm=t):Dc=0,Nc(0)}}function yy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ga(i)))}function Tf(t){return py(),gy(),_y(),vy()}function vy(){if(zn!==5)return!1;var t=to,i=Sm;Sm=0;var a=Ra(Zl),l=te.T,h=pe.p;try{pe.p=32>a?32:a,te.T=null,a=Rm,Rm=null;var m=to,T=Zl;if(zn=0,Wl=to=null,Zl=0,(bt&6)!==0)throw Error(s(331));var w=bt;if(bt|=4,ny(m.current),J_(m,m.current,T,a),bt=w,Nc(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Pt,m)}catch{}return!0}finally{pe.p=h,te.T=l,yy(t,i)}}function Ey(t,i,a){i=oi(a,i),i=sm(t.stateNode,i,2),t=fe(t,i,2),t!==null&&(fi(t,2),ps(t))}function Ot(t,i,a){if(t.tag===3)Ey(t,t,a);else for(;i!==null;){if(i.tag===3){Ey(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(eo===null||!eo.has(l))){t=oi(a,t),a=w_(2),l=fe(i,a,2),l!==null&&(S_(a,l,i,t),fi(l,2),ps(l));break}}i=i.return}}function Nm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Wb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Tm=!0,h.add(a),t=nA.bind(null,t,i,a),i.then(t,t))}function nA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,xt===t&&(ft&a)===a&&(Kt===4||Kt===3&&(ft&62914560)===ft&&300>hi()-wm?(bt&2)===0&&Jl(t,0):bm|=a,Xl===ft&&(Xl=0)),ps(t)}function Ty(t,i){i===0&&(i=Po()),t=Kn(t,i),t!==null&&(fi(t,i),ps(t))}function iA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ty(t,a)}function rA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ty(t,a)}function sA(t,i){return Ri(t,i)}var bf=null,tu=null,xm=!1,Af=!1,Mm=!1,ol=0;function ps(t){t!==tu&&t.next===null&&(tu===null?bf=tu=t:tu=tu.next=t),Af=!0,xm||(xm=!0,oA())}function Nc(t,i){if(!Mm&&Af){Mm=!0;do for(var a=!1,l=bf;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var T=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-qt(42|t)+1)-1,m&=h&~(T&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Sy(l,m))}else m=ft,m=wa(l,l===xt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Os(l,m)||(a=!0,Sy(l,m));l=l.next}while(a);Mm=!1}}function aA(){by()}function by(){Af=xm=!1;var t=0;ol!==0&&(pA()&&(t=ol),ol=0);for(var i=hi(),a=null,l=bf;l!==null;){var h=l.next,m=Ay(l,i);m===0?(l.next=null,a===null?bf=h:a.next=h,h===null&&(tu=a)):(a=l,(t!==0||(m&3)!==0)&&(Af=!0)),l=h}Nc(t)}function Ay(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-qt(m),w=1<<T,x=h[T];x===-1?((w&a)===0||(w&l)!==0)&&(h[T]=xo(w,i)):x<=i&&(t.expiredLanes|=w),m&=~w}if(i=xt,a=ft,a=wa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(At===2||At===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Os(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Gr(l),Ra(a)){case 2:case 8:a=ba;break;case 32:a=Cs;break;case 268435456:a=Aa;break;default:a=Cs}return l=wy.bind(null,t),a=Ri(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Gr(l),t.callbackPriority=2,t.callbackNode=null,2}function wy(t,i){if(zn!==0&&zn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tf()&&t.callbackNode!==a)return null;var l=ft;return l=wa(t,t===xt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ay(t,l,i),Ay(t,hi()),t.callbackNode!=null&&t.callbackNode===a?wy.bind(null,t):null)}function Sy(t,i){if(Tf())return null;ay(t,i,!0)}function oA(){_A(function(){(bt&6)!==0?Ri(No,aA):by()})}function Pm(){return ol===0&&(ol=Mo()),ol}function Ry(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function Cy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function lA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=Ry((h[Ft]||null).action),T=l.submitter;T&&(i=(i=T[Ft]||null)?Ry(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var w=new Zr("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ol!==0){var x=T?Cy(h,T):new FormData(h);em(a,{pending:!0,data:x,method:h.method,action:m},null,x)}}else typeof m=="function"&&(w.preventDefault(),x=T?Cy(h,T):new FormData(h),em(a,{pending:!0,data:x,method:h.method,action:m},m,x))},currentTarget:h}]})}}for(var Vm=0;Vm<$u.length;Vm++){var km=$u[Vm],uA=km.toLowerCase(),cA=km[0].toUpperCase()+km.slice(1);Li(uA,"on"+cA)}Li(rs,"onAnimationEnd"),Li(ur,"onAnimationIteration"),Li(qu,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Yd,"onTransitionRun"),Li(Bh,"onTransitionStart"),Li(Hh,"onTransitionCancel"),Li(Fu,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),It("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),It("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),It("onBeforeInput",["compositionend","keypress","textInput","paste"]),It("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function Iy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var T=l.length-1;0<=T;T--){var w=l[T],x=w.instance,K=w.currentTarget;if(w=w.listener,x!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=K;try{m(h)}catch(ie){cf(ie)}h.currentTarget=null,m=x}else for(T=0;T<l.length;T++){if(w=l[T],x=w.instance,K=w.currentTarget,w=w.listener,x!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=K;try{m(h)}catch(ie){cf(ie)}h.currentTarget=null,m=x}}}}function nt(t,i){var a=i[ko];a===void 0&&(a=i[ko]=new Set);var l=t+"__bubble";a.has(l)||(Oy(i,t,2,!1),a.add(l))}function Lm(t,i,a){var l=0;i&&(l|=4),Oy(a,t,l,i)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Um(t){if(!t[wf]){t[wf]=!0,pn.forEach(function(a){a!=="selectionchange"&&(hA.has(a)||Lm(a,!1,t),Lm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wf]||(i[wf]=!0,Lm("selectionchange",!1,i))}}function Oy(t,i,a,l){switch(Jy(i)){case 2:var h=UA;break;case 8:h=jA;break;default:h=Zm}a=h.bind(null,i,a,t),h=void 0,!_n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jm(t,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var w=l.stateNode.containerInfo;if(w===h)break;if(T===4)for(T=l.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;w!==null;){if(T=Di(w),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){l=m=T;continue e}w=w.parentNode}}l=l.return}jo(function(){var K=m,ie=kn(a),ae=[];e:{var Y=Gu.get(t);if(Y!==void 0){var X=Zr,He=t;switch(t){case"keypress":if(ar(a)===0)break e;case"keydown":case"keyup":X=qs;break;case"focusin":He="focus",X=Us;break;case"focusout":He="blur",X=Us;break;case"beforeblur":case"afterblur":X=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Sl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Rl;break;case rs:case ur:case qu:X=js;break;case Fu:X=Cl;break;case"scroll":case"scrollend":X=Bo;break;case"wheel":X=Va;break;case"copy":case"cut":case"paste":X=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Pi;break;case"toggle":case"beforetoggle":X=Ko}var Ve=(i&4)!==0,Ct=!Ve&&(t==="scroll"||t==="scrollend"),z=Ve?Y!==null?Y+"Capture":null:Y;Ve=[];for(var V=K,$;V!==null;){var se=V;if($=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||$===null||z===null||(se=Wr(V,z),se!=null&&Ve.push(Mc(V,se,$))),Ct)break;V=V.return}0<Ve.length&&(Y=new X(Y,He,null,a,ie),ae.push({event:Y,listeners:Ve}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&a!==In&&(He=a.relatedTarget||a.fromElement)&&(Di(He)||He[di]))break e;if((X||Y)&&(Y=ie.window===ie?ie:(Y=ie.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(He=a.relatedTarget||a.toElement,X=K,He=He?Di(He):null,He!==null&&(Ct=u(He),Ve=He.tag,He!==Ct||Ve!==5&&Ve!==27&&Ve!==6)&&(He=null)):(X=null,He=K),X!==He)){if(Ve=yn,se="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Pi,se="onPointerLeave",z="onPointerEnter",V="pointer"),Ct=X==null?Y:Wi(X),$=He==null?Y:Wi(He),Y=new Ve(se,V+"leave",X,a,ie),Y.target=Ct,Y.relatedTarget=$,se=null,Di(ie)===K&&(Ve=new Ve(z,V+"enter",He,a,ie),Ve.target=$,Ve.relatedTarget=Ct,se=Ve),Ct=se,X&&He)t:{for(Ve=X,z=He,V=0,$=Ve;$;$=nu($))V++;for($=0,se=z;se;se=nu(se))$++;for(;0<V-$;)Ve=nu(Ve),V--;for(;0<$-V;)z=nu(z),$--;for(;V--;){if(Ve===z||z!==null&&Ve===z.alternate)break t;Ve=nu(Ve),z=nu(z)}Ve=null}else Ve=null;X!==null&&Dy(ae,Y,X,Ve,!1),He!==null&&Ct!==null&&Dy(ae,Ct,He,Ve,!0)}}e:{if(Y=K?Wi(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ae=Nh;else if(Wt(Y))if(Lu)Ae=kh;else{Ae=Ph;var Je=$d}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ps(K.elementType)&&(Ae=Nh):Ae=Vh;if(Ae&&(Ae=Ae(t,K))){Zt(ae,Ae,a,ie);break e}Je&&Je(t,Y,K),t==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&tr(Y,"number",Y.value)}switch(Je=K?Wi(K):window,t){case"focusin":(Wt(Je)||Je.contentEditable==="true")&&(Ua=Je,Bu=K,Qo=null);break;case"focusout":Qo=Bu=Ua=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,jh(ae,a,ie);break;case"selectionchange":if(Kd)break;case"keydown":case"keyup":jh(ae,a,ie)}var Oe;if(lr)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else rt?Z(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(E&&a.locale!=="ko"&&(rt||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&rt&&(Oe=Ls()):(xi=ie,sr="value"in xi?xi.value:xi.textContent,rt=!0)),Je=Sf(K,ke),0<Je.length&&(ke=new Ho(ke,t,null,a,ie),ae.push({event:ke,listeners:Je}),Oe?ke.data=Oe:(Oe=de(a),Oe!==null&&(ke.data=Oe)))),(Oe=_?Xt(t,a):st(t,a))&&(ke=Sf(K,"onBeforeInput"),0<ke.length&&(Je=new Ho("onBeforeInput","beforeinput",null,a,ie),ae.push({event:Je,listeners:ke}),Je.data=Oe)),lA(ae,t,K,a,ie)}Iy(ae,i)})}function Mc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sf(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Wr(t,a),h!=null&&l.unshift(Mc(t,h,m)),h=Wr(t,i),h!=null&&l.push(Mc(t,h,m))),t.tag===3)return l;t=t.return}return[]}function nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dy(t,i,a,l,h){for(var m=i._reactName,T=[];a!==null&&a!==l;){var w=a,x=w.alternate,K=w.stateNode;if(w=w.tag,x!==null&&x===l)break;w!==5&&w!==26&&w!==27||K===null||(x=K,h?(K=Wr(a,m),K!=null&&T.unshift(Mc(a,K,x))):h||(K=Wr(a,m),K!=null&&T.push(Mc(a,K,x)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace(fA,`
`).replace(dA,"")}function xy(t,i){return i=Ny(i),Ny(t)===i}function Rf(){}function Rt(t,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":ir(t,l,m);break;case"data":if(i!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Rt(t,i,"name",h.name,h,null),Rt(t,i,"formEncType",h.formEncType,h,null),Rt(t,i,"formMethod",h.formMethod,h,null),Rt(t,i,"formTarget",h.formTarget,h,null)):(Rt(t,i,"encType",h.encType,h,null),Rt(t,i,"method",h.method,h,null),Rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rf);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":nt("beforetoggle",t),nt("toggle",t),Ji(t,"popover",l);break;case"xlinkActuate":on(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":on(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":on(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":on(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":on(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":on(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":on(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":on(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":on(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Al.get(a)||a,Ji(t,a,l))}}function zm(t,i,a,l,h,m){switch(a){case"style":ir(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!an.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=t[Ft]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ji(t,a,l)}}}function Bn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",t),nt("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Rt(t,i,m,T,a,null)}}h&&Rt(t,i,"srcSet",a.srcSet,a,null),l&&Rt(t,i,"src",a.src,a,null);return;case"input":nt("invalid",t);var w=m=T=h=null,x=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var ie=a[l];if(ie!=null)switch(l){case"name":h=ie;break;case"type":T=ie;break;case"checked":x=ie;break;case"defaultChecked":K=ie;break;case"value":m=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:Rt(t,i,l,ie,a,null)}}Or(t,m,w,x,K,T,h,!1),Ms(t);return;case"select":nt("invalid",t),l=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":T=w;break;case"multiple":l=w;default:Rt(t,i,h,w,a,null)}i=m,a=T,t.multiple=!!l,i!=null?ln(t,!!l,i,!1):a!=null&&ln(t,!!l,a,!0);return;case"textarea":nt("invalid",t),m=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":l=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Rt(t,i,T,w,a,null)}nr(t,l,h,m),Ms(t);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Rt(t,i,x,l,a,null)}return;case"dialog":nt("beforetoggle",t),nt("toggle",t),nt("cancel",t),nt("close",t);break;case"iframe":case"object":nt("load",t);break;case"video":case"audio":for(l=0;l<xc.length;l++)nt(xc[l],t);break;case"image":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"embed":case"source":case"link":nt("error",t),nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Rt(t,i,K,l,a,null)}return;default:if(Ps(i)){for(ie in a)a.hasOwnProperty(ie)&&(l=a[ie],l!==void 0&&zm(t,i,ie,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Rt(t,i,w,l,a,null))}function mA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,w=null,x=null,K=null,ie=null;for(X in a){var ae=a[X];if(a.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":x=ae;default:l.hasOwnProperty(X)||Rt(t,i,X,null,l,ae)}}for(var Y in l){var X=l[Y];if(ae=a[Y],l.hasOwnProperty(Y)&&(X!=null||ae!=null))switch(Y){case"type":m=X;break;case"name":h=X;break;case"checked":K=X;break;case"defaultChecked":ie=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==ae&&Rt(t,i,Y,X,l,ae)}}Dt(t,T,w,x,K,ie,m,h);return;case"select":X=T=w=Y=null;for(m in a)if(x=a[m],a.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":X=x;default:l.hasOwnProperty(m)||Rt(t,i,m,null,l,x)}for(h in l)if(m=l[h],x=a[h],l.hasOwnProperty(h)&&(m!=null||x!=null))switch(h){case"value":Y=m;break;case"defaultValue":w=m;break;case"multiple":T=m;default:m!==x&&Rt(t,i,h,m,l,x)}i=w,a=T,l=X,Y!=null?ln(t,!!a,Y,!1):!!l!=!!a&&(i!=null?ln(t,!!a,i,!0):ln(t,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Rt(t,i,w,null,l,h)}for(T in l)if(h=l[T],m=a[T],l.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":Y=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Rt(t,i,T,h,l,m)}it(t,Y,X);return;case"option":for(var He in a)if(Y=a[He],a.hasOwnProperty(He)&&Y!=null&&!l.hasOwnProperty(He))switch(He){case"selected":t.selected=!1;break;default:Rt(t,i,He,null,l,Y)}for(x in l)if(Y=l[x],X=a[x],l.hasOwnProperty(x)&&Y!==X&&(Y!=null||X!=null))switch(x){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Rt(t,i,x,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in a)Y=a[Ve],a.hasOwnProperty(Ve)&&Y!=null&&!l.hasOwnProperty(Ve)&&Rt(t,i,Ve,null,l,Y);for(K in l)if(Y=l[K],X=a[K],l.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Rt(t,i,K,Y,l,X)}return;default:if(Ps(i)){for(var Ct in a)Y=a[Ct],a.hasOwnProperty(Ct)&&Y!==void 0&&!l.hasOwnProperty(Ct)&&zm(t,i,Ct,void 0,l,Y);for(ie in l)Y=l[ie],X=a[ie],!l.hasOwnProperty(ie)||Y===X||Y===void 0&&X===void 0||zm(t,i,ie,Y,l,X);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&Rt(t,i,z,null,l,Y);for(ae in l)Y=l[ae],X=a[ae],!l.hasOwnProperty(ae)||Y===X||Y==null&&X==null||Rt(t,i,ae,Y,l,X)}var Bm=null,Hm=null;function Cf(t){return t.nodeType===9?t:t.ownerDocument}function My(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function qm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fm=null;function pA(){var t=window.event;return t&&t.type==="popstate"?t===Fm?!1:(Fm=t,!0):(Fm=null,!1)}var Vy=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(t){return ky.resolve(null).then(t).catch(yA)}:Vy;function yA(t){setTimeout(function(){throw t})}function io(t){return t==="head"}function Ly(t,i){var a=i,l=0,h=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=t.ownerDocument;if(a&1&&Pc(T.documentElement),a&2&&Pc(T.body),a&4)for(a=T.head,Pc(a),T=a.firstChild;T;){var w=T.nextSibling,x=T.nodeName;T[Qi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=w}}if(h===0){t.removeChild(m),Hc(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Hc(i)}function Gm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gm(a),Xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Qi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=jr(t.nextSibling),t===null)break}return null}function EA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jr(t.nextSibling),t===null))return null;return t}function $m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function TA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Km=null;function Uy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function jy(t,i,a){switch(i=Cf(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Pc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Xr(t)}var mr=new Map,zy=new Set;function If(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ca=pe.d;pe.d={f:bA,r:AA,D:wA,C:SA,L:RA,m:CA,X:OA,S:IA,M:DA};function bA(){var t=ca.f(),i=vf();return t||i}function AA(t){var i=Xi(t);i!==null&&i.tag===5&&i.type==="form"?a_(i):ca.r(t)}var iu=typeof document>"u"?null:document;function By(t,i,a){var l=iu;if(l&&typeof i=="string"&&i){var h=wt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),zy.has(h)||(zy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bn(i,"link",t),et(i),l.head.appendChild(i)))}}function wA(t){ca.D(t),By("dns-prefetch",t,null)}function SA(t,i){ca.C(t,i),By("preconnect",t,i)}function RA(t,i,a){ca.L(t,i,a);var l=iu;if(l&&t&&i){var h='link[rel="preload"][as="'+wt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+wt(a.imageSizes)+'"]')):h+='[href="'+wt(t)+'"]';var m=h;switch(i){case"style":m=ru(t);break;case"script":m=su(t)}mr.has(m)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),mr.set(m,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Vc(m))||i==="script"&&l.querySelector(kc(m))||(i=l.createElement("link"),Bn(i,"link",t),et(i),l.head.appendChild(i)))}}function CA(t,i){ca.m(t,i);var a=iu;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=su(t)}if(!mr.has(m)&&(t=A({rel:"modulepreload",href:t},i),mr.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kc(m)))return}l=a.createElement("link"),Bn(l,"link",t),et(l),a.head.appendChild(l)}}}function IA(t,i,a){ca.S(t,i,a);var l=iu;if(l&&t){var h=Gt(l).hoistableStyles,m=ru(t);i=i||"default";var T=h.get(m);if(!T){var w={loading:0,preload:null};if(T=l.querySelector(Vc(m)))w.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=mr.get(m))&&Ym(t,a);var x=T=l.createElement("link");et(x),Bn(x,"link",t),x._p=new Promise(function(K,ie){x.onload=K,x.onerror=ie}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Of(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:w},h.set(m,T)}}}function OA(t,i){ca.X(t,i);var a=iu;if(a&&t){var l=Gt(a).hoistableScripts,h=su(t),m=l.get(h);m||(m=a.querySelector(kc(h)),m||(t=A({src:t,async:!0},i),(i=mr.get(h))&&Qm(t,i),m=a.createElement("script"),et(m),Bn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function DA(t,i){ca.M(t,i);var a=iu;if(a&&t){var l=Gt(a).hoistableScripts,h=su(t),m=l.get(h);m||(m=a.querySelector(kc(h)),m||(t=A({src:t,async:!0,type:"module"},i),(i=mr.get(h))&&Qm(t,i),m=a.createElement("script"),et(m),Bn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Hy(t,i,a,l){var h=(h=Re.current)?If(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ru(a.href),a=Gt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ru(a.href);var m=Gt(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Vc(t)))&&!m._p&&(T.instance=m,T.state.loading=5),mr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mr.set(t,a),m||NA(h,t,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=su(a),a=Gt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ru(t){return'href="'+wt(t)+'"'}function Vc(t){return'link[rel="stylesheet"]['+t+"]"}function qy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function NA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bn(i,"link",a),et(i),t.head.appendChild(i))}function su(t){return'[src="'+wt(t)+'"]'}function kc(t){return"script[async]"+t}function Fy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+wt(a.href)+'"]');if(l)return i.instance=l,et(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),Bn(l,"style",h),Of(l,a.precedence,t),i.instance=l;case"stylesheet":h=ru(a.href);var m=t.querySelector(Vc(h));if(m)return i.state.loading|=4,i.instance=m,et(m),m;l=qy(a),(h=mr.get(h))&&Ym(l,h),m=(t.ownerDocument||t).createElement("link"),et(m);var T=m;return T._p=new Promise(function(w,x){T.onload=w,T.onerror=x}),Bn(m,"link",l),i.state.loading|=4,Of(m,a.precedence,t),i.instance=m;case"script":return m=su(a.src),(h=t.querySelector(kc(m)))?(i.instance=h,et(h),h):(l=a,(h=mr.get(m))&&(l=A({},a),Qm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),Bn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Of(l,a.precedence,t));return i.instance}function Of(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,T=0;T<l.length;T++){var w=l[T];if(w.dataset.precedence===i)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ym(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Df=null;function Gy(t,i,a){if(Df===null){var l=new Map,h=Df=new Map;h.set(a,l)}else h=Df,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Qi]||m[Yt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var w=l.get(T);w?w.push(m):l.set(T,[m])}}return l}function $y(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function xA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ky(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Lc=null;function MA(){}function PA(t,i,a){if(Lc===null)throw Error(s(475));var l=Lc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ru(a.href),m=t.querySelector(Vc(h));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nf.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,et(m);return}m=t.ownerDocument||t,a=qy(a),(h=mr.get(h))&&Ym(a,h),m=m.createElement("link"),et(m);var T=m;T._p=new Promise(function(w,x){T.onload=w,T.onerror=x}),Bn(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Nf.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function VA(){if(Lc===null)throw Error(s(475));var t=Lc;return t.stylesheets&&t.count===0&&Xm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Xm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xf=null;function Xm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xf=new Map,i.forEach(kA,t),xf=null,Nf.call(t))}function kA(t,i){if(!(i.state.loading&4)){var a=xf.get(t);if(a)var l=a.get(null);else{a=new Map,xf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=i.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,h),a.set(T,h),this.count++,l=Nf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Uc={$$typeof:me,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function LA(t,i,a,l,h,m,T,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Yy(t,i,a,l,h,m,T,w,x,K,ie,ae){return t=new LA(t,i,a,T,w,x,K,ae),i=1,m===!0&&(i|=24),m=ui(3,null,null,i),t.current=m,m.stateNode=t,i=tl(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},j(m),t}function Qy(t){return t?(t=za,t):za}function Xy(t,i,a,l,h,m){h=Qy(h),l.context===null?l.context=h:l.pendingContext=h,l=re(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=fe(t,l,i),a!==null&&(Fi(a,t,i),Ee(a,t,i))}function Wy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Wm(t,i){Wy(t,i),(t=t.alternate)&&Wy(t,i)}function Zy(t){if(t.tag===13){var i=Kn(t,67108864);i!==null&&Fi(i,t,67108864),Wm(t,67108864)}}var Mf=!0;function UA(t,i,a,l){var h=te.T;te.T=null;var m=pe.p;try{pe.p=2,Zm(t,i,a,l)}finally{pe.p=m,te.T=h}}function jA(t,i,a,l){var h=te.T;te.T=null;var m=pe.p;try{pe.p=8,Zm(t,i,a,l)}finally{pe.p=m,te.T=h}}function Zm(t,i,a,l){if(Mf){var h=Jm(l);if(h===null)jm(t,i,l,Pf,a),ev(t,l);else if(BA(h,t,i,a,l))l.stopPropagation();else if(ev(t,l),i&4&&-1<zA.indexOf(t)){for(;h!==null;){var m=Xi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ii(m.pendingLanes);if(T!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var x=1<<31-qt(T);w.entanglements[1]|=x,T&=~x}ps(m),(bt&6)===0&&(_f=hi()+500,Nc(0))}}break;case 13:w=Kn(m,2),w!==null&&Fi(w,m,2),vf(),Wm(m,2)}if(m=Jm(l),m===null&&jm(t,i,l,Pf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else jm(t,i,l,null,a)}}function Jm(t){return t=kn(t),ep(t)}var Pf=null;function ep(t){if(Pf=null,t=Di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pf=t,null}function Jy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mu()){case No:return 2;case ba:return 8;case Cs:case Pu:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var tp=!1,ro=null,so=null,ao=null,jc=new Map,zc=new Map,oo=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,i){switch(t){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":jc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(i.pointerId)}}function Bc(t,i,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Xi(i),i!==null&&Zy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function BA(t,i,a,l,h){switch(i){case"focusin":return ro=Bc(ro,t,i,a,l,h),!0;case"dragenter":return so=Bc(so,t,i,a,l,h),!0;case"mouseover":return ao=Bc(ao,t,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return jc.set(m,Bc(jc.get(m)||null,t,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,zc.set(m,Bc(zc.get(m)||null,t,i,a,l,h)),!0}return!1}function tv(t){var i=Di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Sr(t.priority,function(){if(a.tag===13){var l=qi();l=Yr(l);var h=Kn(a,l);h!==null&&Fi(h,a,l),Wm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Jm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);In=l,a.target.dispatchEvent(l),In=null}else return i=Xi(a),i!==null&&Zy(i),t.blockedOn=a,!1;i.shift()}return!0}function nv(t,i,a){Vf(t)&&a.delete(i)}function HA(){tp=!1,ro!==null&&Vf(ro)&&(ro=null),so!==null&&Vf(so)&&(so=null),ao!==null&&Vf(ao)&&(ao=null),jc.forEach(nv),zc.forEach(nv)}function kf(t,i){t.blockedOn===i&&(t.blockedOn=null,tp||(tp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HA)))}var Lf=null;function iv(t){Lf!==t&&(Lf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lf===t&&(Lf=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(ep(l||a)===null)continue;break}var m=Xi(a);m!==null&&(t.splice(i,3),i-=3,em(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Hc(t){function i(x){return kf(x,t)}ro!==null&&kf(ro,t),so!==null&&kf(so,t),ao!==null&&kf(ao,t),jc.forEach(i),zc.forEach(i);for(var a=0;a<oo.length;a++){var l=oo[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oo.length&&(a=oo[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&oo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],T=h[Ft]||null;if(typeof m=="function")T||iv(a);else if(T){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[Ft]||null)w=T.formAction;else if(ep(h)!==null)continue}else w=T.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),iv(a)}}}function np(t){this._internalRoot=t}Uf.prototype.render=np.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=qi();Xy(a,l,t,i,null,null)},Uf.prototype.unmount=np.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Xy(t.current,2,null,t,null,null),vf(),i[di]=null}};function Uf(t){this._internalRoot=t}Uf.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<oo.length&&i!==0&&i<oo[a].priority;a++);oo.splice(a,0,t),a===0&&tv(t)}};var rv=e.version;if(rv!=="19.1.0")throw Error(s(527,rv,"19.1.0"));pe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var qA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Pt=jf.inject(qA),_t=jf}catch{}}return Fc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=E_,m=T_,T=b_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Yy(t,1,!1,null,null,a,l,h,m,T,w,null),t[di]=i.current,Um(t),new np(i)},Fc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",m=E_,T=T_,w=b_,x=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),i=Yy(t,1,!0,i,a??null,l,h,m,T,w,x,K),i.context=Qy(null),a=i.current,l=qi(),l=Yr(l),h=re(l),h.callback=null,fe(a,h,l),a=l,i.current.lanes=a,fi(i,a),ps(i),t[di]=i.current,Um(t),new Uf(i)},Fc.version="19.1.0",Fc}var mv;function JA(){if(mv)return rp.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rp.exports=ZA(),rp.exports}var ew=JA(),Kf={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var tw=Kf.exports,pv;function nw(){return pv||(pv=1,function(r,e){(function(n,s){r.exports=s()})(tw,function(){const n=new Map,s={set(b,d,v){n.has(b)||n.set(b,new Map);const S=n.get(b);S.has(d)||S.size===0?S.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(S.keys())[0]}.`)},get:(b,d)=>n.has(b)&&n.get(b).get(d)||null,remove(b,d){if(!n.has(b))return;const v=n.get(b);v.delete(d),v.size===0&&n.delete(b)}},o="transitionend",u=b=>(b&&window.CSS&&window.CSS.escape&&(b=b.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),b),f=b=>{b.dispatchEvent(new Event(o))},p=b=>!(!b||typeof b!="object")&&(b.jquery!==void 0&&(b=b[0]),b.nodeType!==void 0),g=b=>p(b)?b.jquery?b[0]:b:typeof b=="string"&&b.length>0?document.querySelector(u(b)):null,y=b=>{if(!p(b)||b.getClientRects().length===0)return!1;const d=getComputedStyle(b).getPropertyValue("visibility")==="visible",v=b.closest("details:not([open])");if(!v)return d;if(v!==b){const S=b.closest("summary");if(S&&S.parentNode!==v||S===null)return!1}return d},A=b=>!b||b.nodeType!==Node.ELEMENT_NODE||!!b.classList.contains("disabled")||(b.disabled!==void 0?b.disabled:b.hasAttribute("disabled")&&b.getAttribute("disabled")!=="false"),O=b=>{if(!document.documentElement.attachShadow)return null;if(typeof b.getRootNode=="function"){const d=b.getRootNode();return d instanceof ShadowRoot?d:null}return b instanceof ShadowRoot?b:b.parentNode?O(b.parentNode):null},I=()=>{},q=b=>{b.offsetHeight},B=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ee=[],Q=()=>document.documentElement.dir==="rtl",W=b=>{var d;d=()=>{const v=B();if(v){const S=b.NAME,L=v.fn[S];v.fn[S]=b.jQueryInterface,v.fn[S].Constructor=b,v.fn[S].noConflict=()=>(v.fn[S]=L,b.jQueryInterface)}},document.readyState==="loading"?(ee.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of ee)v()}),ee.push(d)):d()},ce=(b,d=[],v=b)=>typeof b=="function"?b.call(...d):v,me=(b,d,v=!0)=>{if(!v)return void ce(b);const S=(J=>{if(!J)return 0;let{transitionDuration:re,transitionDelay:fe}=window.getComputedStyle(J);const Ee=Number.parseFloat(re),Te=Number.parseFloat(fe);return Ee||Te?(re=re.split(",")[0],fe=fe.split(",")[0],1e3*(Number.parseFloat(re)+Number.parseFloat(fe))):0})(d)+5;let L=!1;const j=({target:J})=>{J===d&&(L=!0,d.removeEventListener(o,j),ce(b))};d.addEventListener(o,j),setTimeout(()=>{L||f(d)},S)},Ne=(b,d,v,S)=>{const L=b.length;let j=b.indexOf(d);return j===-1?!v&&S?b[L-1]:b[0]:(j+=v?1:-1,S&&(j=(j+L)%L),b[Math.max(0,Math.min(j,L-1))])},Se=/[^.]*(?=\..*)\.|.*/,$e=/\..*/,k=/::\d+$/,D={};let N=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},U=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function H(b,d){return d&&`${d}::${N++}`||b.uidEvent||N++}function M(b){const d=H(b);return b.uidEvent=d,D[d]=D[d]||{},D[d]}function sn(b,d,v=null){return Object.values(b).find(S=>S.callable===d&&S.delegationSelector===v)}function Mt(b,d,v){const S=typeof d=="string",L=S?v:d||v;let j=ut(b);return U.has(j)||(j=b),[S,L,j]}function te(b,d,v,S,L){if(typeof d!="string"||!b)return;let[j,J,re]=Mt(d,v,S);d in P&&(J=(Fe=>function(Le){if(!Le.relatedTarget||Le.relatedTarget!==Le.delegateTarget&&!Le.delegateTarget.contains(Le.relatedTarget))return Fe.call(this,Le)})(J));const fe=M(b),Ee=fe[re]||(fe[re]={}),Te=sn(Ee,J,j?v:null);if(Te)return void(Te.oneOff=Te.oneOff&&L);const ye=H(J,d.replace(Se,"")),qe=j?function(xe,Fe,Le){return function Pe(pt){const Et=xe.querySelectorAll(Fe);for(let{target:Xe}=pt;Xe&&Xe!==this;Xe=Xe.parentNode)for(const lt of Et)if(lt===Xe)return le(pt,{delegateTarget:Xe}),Pe.oneOff&&C.off(xe,pt.type,Fe,Le),Le.apply(Xe,[pt])}}(b,v,J):function(xe,Fe){return function Le(Pe){return le(Pe,{delegateTarget:xe}),Le.oneOff&&C.off(xe,Pe.type,Fe),Fe.apply(xe,[Pe])}}(b,J);qe.delegationSelector=j?v:null,qe.callable=J,qe.oneOff=L,qe.uidEvent=ye,Ee[ye]=qe,b.addEventListener(re,qe,j)}function pe(b,d,v,S,L){const j=sn(d[v],S,L);j&&(b.removeEventListener(v,j,!!L),delete d[v][j.uidEvent])}function Ie(b,d,v,S){const L=d[v]||{};for(const[j,J]of Object.entries(L))j.includes(S)&&pe(b,d,v,J.callable,J.delegationSelector)}function ut(b){return b=b.replace($e,""),P[b]||b}const C={on(b,d,v,S){te(b,d,v,S,!1)},one(b,d,v,S){te(b,d,v,S,!0)},off(b,d,v,S){if(typeof d!="string"||!b)return;const[L,j,J]=Mt(d,v,S),re=J!==d,fe=M(b),Ee=fe[J]||{},Te=d.startsWith(".");if(j===void 0){if(Te)for(const ye of Object.keys(fe))Ie(b,fe,ye,d.slice(1));for(const[ye,qe]of Object.entries(Ee)){const xe=ye.replace(k,"");re&&!d.includes(xe)||pe(b,fe,J,qe.callable,qe.delegationSelector)}}else{if(!Object.keys(Ee).length)return;pe(b,fe,J,j,L?v:null)}},trigger(b,d,v){if(typeof d!="string"||!b)return null;const S=B();let L=null,j=!0,J=!0,re=!1;d!==ut(d)&&S&&(L=S.Event(d,v),S(b).trigger(L),j=!L.isPropagationStopped(),J=!L.isImmediatePropagationStopped(),re=L.isDefaultPrevented());const fe=le(new Event(d,{bubbles:j,cancelable:!0}),v);return re&&fe.preventDefault(),J&&b.dispatchEvent(fe),fe.defaultPrevented&&L&&L.preventDefault(),fe}};function le(b,d={}){for(const[v,S]of Object.entries(d))try{b[v]=S}catch{Object.defineProperty(b,v,{configurable:!0,get:()=>S})}return b}function _e(b){if(b==="true")return!0;if(b==="false")return!1;if(b===Number(b).toString())return Number(b);if(b===""||b==="null")return null;if(typeof b!="string")return b;try{return JSON.parse(decodeURIComponent(b))}catch{return b}}function he(b){return b.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const we={setDataAttribute(b,d,v){b.setAttribute(`data-bs-${he(d)}`,v)},removeDataAttribute(b,d){b.removeAttribute(`data-bs-${he(d)}`)},getDataAttributes(b){if(!b)return{};const d={},v=Object.keys(b.dataset).filter(S=>S.startsWith("bs")&&!S.startsWith("bsConfig"));for(const S of v){let L=S.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),d[L]=_e(b.dataset[S])}return d},getDataAttribute:(b,d)=>_e(b.getAttribute(`data-bs-${he(d)}`))};class Ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const S=p(v)?we.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof S=="object"?S:{},...p(v)?we.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[L,j]of Object.entries(v)){const J=d[L],re=p(J)?"element":(S=J)==null?`${S}`:Object.prototype.toString.call(S).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(j).test(re))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${re}" but expected type "${j}".`)}var S}}class Re extends Ke{constructor(d,v){super(),(d=g(d))&&(this._element=d,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),C.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,S=!0){me(d,v,S)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(g(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Ht=b=>{let d=b.getAttribute("data-bs-target");if(!d||d==="#"){let v=b.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>u(v)).join(","):null},ge={find:(b,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,b)),findOne:(b,d=document.documentElement)=>Element.prototype.querySelector.call(d,b),children:(b,d)=>[].concat(...b.children).filter(v=>v.matches(d)),parents(b,d){const v=[];let S=b.parentNode.closest(d);for(;S;)v.push(S),S=S.parentNode.closest(d);return v},prev(b,d){let v=b.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(b,d){let v=b.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(b){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,b).filter(v=>!A(v)&&y(v))},getSelectorFromElement(b){const d=Ht(b);return d&&ge.findOne(d)?d:null},getElementFromSelector(b){const d=Ht(b);return d?ge.findOne(d):null},getMultipleElementsFromSelector(b){const d=Ht(b);return d?ge.find(d):[]}},ni=(b,d="hide")=>{const v=`click.dismiss${b.EVENT_KEY}`,S=b.NAME;C.on(document,v,`[data-bs-dismiss="${S}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),A(this))return;const j=ge.getElementFromSelector(this)||this.closest(`.${S}`);b.getOrCreateInstance(j)[d]()})},vr=".bs.alert",Er=`close${vr}`,Rs=`closed${vr}`;class Ri extends Re{static get NAME(){return"alert"}close(){if(C.trigger(this._element,Er).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),C.trigger(this._element,Rs),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=Ri.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}ni(Ri,"close"),W(Ri);const Gr='[data-bs-toggle="button"]';class Tr extends Re{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Tr.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}C.on(document,"click.bs.button.data-api",Gr,b=>{b.preventDefault();const d=b.target.closest(Gr);Tr.getOrCreateInstance(d).toggle()}),W(Tr);const br=".bs.swipe",hi=`touchstart${br}`,Mu=`touchmove${br}`,No=`touchend${br}`,ba=`pointerdown${br}`,Cs=`pointerup${br}`,Pu={endCallback:null,leftCallback:null,rightCallback:null},Aa={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $r extends Ke{constructor(d,v){super(),this._element=d,d&&$r.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Pu}static get DefaultType(){return Aa}static get NAME(){return"swipe"}dispose(){C.off(this._element,br)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),ce(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&ce(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(C.on(this._element,ba,d=>this._start(d)),C.on(this._element,Cs,d=>this._end(d)),this._element.classList.add("pointer-event")):(C.on(this._element,hi,d=>this._start(d)),C.on(this._element,Mu,d=>this._move(d)),C.on(this._element,No,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ci=".bs.carousel",Pt=".data-api",_t="ArrowLeft",ii="ArrowRight",qt="next",Ar="prev",Kr="left",$i="right",Is=`slide${Ci}`,wr=`slid${Ci}`,Ii=`keydown${Ci}`,wa=`mouseenter${Ci}`,Os=`mouseleave${Ci}`,xo=`dragstart${Ci}`,Mo=`load${Ci}${Pt}`,Po=`click${Ci}${Pt}`,Ki="carousel",fi="active",Sa=".active",Oi=".carousel-item",Vo=Sa+Oi,Yr={[_t]:$i,[ii]:Kr},Ra={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Sr extends Re{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ge.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ki&&this.cycle()}static get Default(){return Ra}static get DefaultType(){return Qr}static get NAME(){return"carousel"}next(){this._slide(qt)}nextWhenVisible(){!document.hidden&&y(this._element)&&this.next()}prev(){this._slide(Ar)}pause(){this._isSliding&&f(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?C.one(this._element,wr,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void C.one(this._element,wr,()=>this.to(d));const S=this._getItemIndex(this._getActive());if(S===d)return;const L=d>S?qt:Ar;this._slide(L,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&C.on(this._element,Ii,d=>this._keydown(d)),this._config.pause==="hover"&&(C.on(this._element,wa,()=>this.pause()),C.on(this._element,Os,()=>this._maybeEnableCycle())),this._config.touch&&$r.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ge.find(".carousel-item img",this._element))C.on(v,xo,S=>S.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Kr)),rightCallback:()=>this._slide(this._directionToOrder($i)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new $r(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=Yr[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=ge.findOne(Sa,this._indicatorsElement);v.classList.remove(fi),v.removeAttribute("aria-current");const S=ge.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);S&&(S.classList.add(fi),S.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const S=this._getActive(),L=d===qt,j=v||Ne(this._getItems(),S,L,this._config.wrap);if(j===S)return;const J=this._getItemIndex(j),re=ye=>C.trigger(this._element,ye,{relatedTarget:j,direction:this._orderToDirection(d),from:this._getItemIndex(S),to:J});if(re(Is).defaultPrevented||!S||!j)return;const fe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(J),this._activeElement=j;const Ee=L?"carousel-item-start":"carousel-item-end",Te=L?"carousel-item-next":"carousel-item-prev";j.classList.add(Te),q(j),S.classList.add(Ee),j.classList.add(Ee),this._queueCallback(()=>{j.classList.remove(Ee,Te),j.classList.add(fi),S.classList.remove(fi,Te,Ee),this._isSliding=!1,re(wr)},S,this._isAnimated()),fe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ge.findOne(Vo,this._element)}_getItems(){return ge.find(Oi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return Q()?d===Kr?Ar:qt:d===Kr?qt:Ar}_orderToDirection(d){return Q()?d===Ar?Kr:$i:d===Ar?$i:Kr}static jQueryInterface(d){return this.each(function(){const v=Sr.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}C.on(document,Po,"[data-bs-slide], [data-bs-slide-to]",function(b){const d=ge.getElementFromSelector(this);if(!d||!d.classList.contains(Ki))return;b.preventDefault();const v=Sr.getOrCreateInstance(d),S=this.getAttribute("data-bs-slide-to");return S?(v.to(S),void v._maybeEnableCycle()):we.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),C.on(window,Mo,()=>{const b=ge.find('[data-bs-ride="carousel"]');for(const d of b)Sr.getOrCreateInstance(d)}),W(Sr);const yt=".bs.collapse",Yt=`show${yt}`,Ft=`shown${yt}`,di=`hide${yt}`,ko=`hidden${yt}`,Vu=`click${yt}.data-api`,Yi="show",Rr="collapse",Qi="collapsing",Xr=`:scope .${Rr} .${Rr}`,Di='[data-bs-toggle="collapse"]',Xi={parent:null,toggle:!0},Wi={parent:"(null|element)",toggle:"boolean"};class Gt extends Re{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const S=ge.find(Di);for(const L of S){const j=ge.getSelectorFromElement(L),J=ge.find(j).filter(re=>re===this._element);j!==null&&J.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xi}static get DefaultType(){return Wi}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>Gt.getOrCreateInstance(L,{toggle:!1}))),d.length&&d[0]._isTransitioning||C.trigger(this._element,Yt).defaultPrevented)return;for(const L of d)L.hide();const v=this._getDimension();this._element.classList.remove(Rr),this._element.classList.add(Qi),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const S=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Qi),this._element.classList.add(Rr,Yi),this._element.style[v]="",C.trigger(this._element,Ft)},this._element,!0),this._element.style[v]=`${this._element[S]}px`}hide(){if(this._isTransitioning||!this._isShown()||C.trigger(this._element,di).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,q(this._element),this._element.classList.add(Qi),this._element.classList.remove(Rr,Yi);for(const v of this._triggerArray){const S=ge.getElementFromSelector(v);S&&!this._isShown(S)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Qi),this._element.classList.add(Rr),C.trigger(this._element,ko)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Yi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=g(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Di);for(const v of d){const S=ge.getElementFromSelector(v);S&&this._addAriaAndCollapsedClass([v],this._isShown(S))}}_getFirstLevelChildren(d){const v=ge.find(Xr,this._config.parent);return ge.find(d,this._config.parent).filter(S=>!v.includes(S))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const S of d)S.classList.toggle("collapsed",!v),S.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const S=Gt.getOrCreateInstance(this,v);if(typeof d=="string"){if(S[d]===void 0)throw new TypeError(`No method named "${d}"`);S[d]()}})}}C.on(document,Vu,Di,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault();for(const d of ge.getMultipleElementsFromSelector(this))Gt.getOrCreateInstance(d,{toggle:!1}).toggle()}),W(Gt);var et="top",pn="bottom",an="right",It="left",mi="auto",Cr=[et,pn,an,It],Zi="start",pi="end",Lo="clippingParents",Ji="viewport",Pn="popper",on="reference",Ir=Cr.reduce(function(b,d){return b.concat([d+"-"+Zi,d+"-"+pi])},[]),Ca=[].concat(Cr,[mi]).reduce(function(b,d){return b.concat([d,d+"-"+Zi,d+"-"+pi])},[]),er="beforeRead",Ds="read",Ns="afterRead",Ia="beforeMain",xs="main",Rn="afterMain",Oa="beforeWrite",bl="write",Ms="afterWrite",Da=[er,Ds,Ns,Ia,xs,Rn,Oa,bl,Ms];function Cn(b){return b?(b.nodeName||"").toLowerCase():null}function Vn(b){if(b==null)return window;if(b.toString()!=="[object Window]"){var d=b.ownerDocument;return d&&d.defaultView||window}return b}function wt(b){return b instanceof Vn(b).Element||b instanceof Element}function Dt(b){return b instanceof Vn(b).HTMLElement||b instanceof HTMLElement}function Or(b){return typeof ShadowRoot<"u"&&(b instanceof Vn(b).ShadowRoot||b instanceof ShadowRoot)}const tr={name:"applyStyles",enabled:!0,phase:"write",fn:function(b){var d=b.state;Object.keys(d.elements).forEach(function(v){var S=d.styles[v]||{},L=d.attributes[v]||{},j=d.elements[v];Dt(j)&&Cn(j)&&(Object.assign(j.style,S),Object.keys(L).forEach(function(J){var re=L[J];re===!1?j.removeAttribute(J):j.setAttribute(J,re===!0?"":re)}))})},effect:function(b){var d=b.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(S){var L=d.elements[S],j=d.attributes[S]||{},J=Object.keys(d.styles.hasOwnProperty(S)?d.styles[S]:v[S]).reduce(function(re,fe){return re[fe]="",re},{});Dt(L)&&Cn(L)&&(Object.assign(L.style,J),Object.keys(j).forEach(function(re){L.removeAttribute(re)}))})}},requires:["computeStyles"]};function ln(b){return b.split("-")[0]}var it=Math.max,nr=Math.min,gn=Math.round;function Dr(){var b=navigator.userAgentData;return b!=null&&b.brands&&Array.isArray(b.brands)?b.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Uo(){return!/^((?!chrome|android).)*safari/i.test(Dr())}function ir(b,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var S=b.getBoundingClientRect(),L=1,j=1;d&&Dt(b)&&(L=b.offsetWidth>0&&gn(S.width)/b.offsetWidth||1,j=b.offsetHeight>0&&gn(S.height)/b.offsetHeight||1);var J=(wt(b)?Vn(b):window).visualViewport,re=!Uo()&&v,fe=(S.left+(re&&J?J.offsetLeft:0))/L,Ee=(S.top+(re&&J?J.offsetTop:0))/j,Te=S.width/L,ye=S.height/j;return{width:Te,height:ye,top:Ee,right:fe+Te,bottom:Ee+ye,left:fe,x:fe,y:Ee}}function Ps(b){var d=ir(b),v=b.offsetWidth,S=b.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-S)<=1&&(S=d.height),{x:b.offsetLeft,y:b.offsetTop,width:v,height:S}}function Al(b,d){var v=d.getRootNode&&d.getRootNode();if(b.contains(d))return!0;if(v&&Or(v)){var S=d;do{if(S&&b.isSameNode(S))return!0;S=S.parentNode||S.host}while(S)}return!1}function Ni(b){return Vn(b).getComputedStyle(b)}function Na(b){return["table","td","th"].indexOf(Cn(b))>=0}function In(b){return((wt(b)?b.ownerDocument:b.document)||window.document).documentElement}function kn(b){return Cn(b)==="html"?b:b.assignedSlot||b.parentNode||(Or(b)?b.host:null)||In(b)}function rr(b){return Dt(b)&&Ni(b).position!=="fixed"?b.offsetParent:null}function ri(b){for(var d=Vn(b),v=rr(b);v&&Na(v)&&Ni(v).position==="static";)v=rr(v);return v&&(Cn(v)==="html"||Cn(v)==="body"&&Ni(v).position==="static")?d:v||function(S){var L=/firefox/i.test(Dr());if(/Trident/i.test(Dr())&&Dt(S)&&Ni(S).position==="fixed")return null;var j=kn(S);for(Or(j)&&(j=j.host);Dt(j)&&["html","body"].indexOf(Cn(j))<0;){var J=Ni(j);if(J.transform!=="none"||J.perspective!=="none"||J.contain==="paint"||["transform","perspective"].indexOf(J.willChange)!==-1||L&&J.willChange==="filter"||L&&J.filter&&J.filter!=="none")return j;j=j.parentNode}return null}(b)||d}function Vs(b){return["top","bottom"].indexOf(b)>=0?"x":"y"}function Gn(b,d,v){return it(b,nr(d,v))}function jo(b){return Object.assign({},{top:0,right:0,bottom:0,left:0},b)}function Wr(b,d){return d.reduce(function(v,S){return v[S]=b,v},{})}const gi={name:"arrow",enabled:!0,phase:"main",fn:function(b){var d,v=b.state,S=b.name,L=b.options,j=v.elements.arrow,J=v.modifiersData.popperOffsets,re=ln(v.placement),fe=Vs(re),Ee=[It,an].indexOf(re)>=0?"height":"width";if(j&&J){var Te=function(je,ht){return jo(typeof(je=typeof je=="function"?je(Object.assign({},ht.rects,{placement:ht.placement})):je)!="number"?je:Wr(je,Cr))}(L.padding,v),ye=Ps(j),qe=fe==="y"?et:It,xe=fe==="y"?pn:an,Fe=v.rects.reference[Ee]+v.rects.reference[fe]-J[fe]-v.rects.popper[Ee],Le=J[fe]-v.rects.reference[fe],Pe=ri(j),pt=Pe?fe==="y"?Pe.clientHeight||0:Pe.clientWidth||0:0,Et=Fe/2-Le/2,Xe=Te[qe],lt=pt-ye[Ee]-Te[xe],Ue=pt/2-ye[Ee]/2+Et,ve=Gn(Xe,Ue,lt),Ce=fe;v.modifiersData[S]=((d={})[Ce]=ve,d.centerOffset=ve-Ue,d)}},effect:function(b){var d=b.state,v=b.options.element,S=v===void 0?"[data-popper-arrow]":v;S!=null&&(typeof S!="string"||(S=d.elements.popper.querySelector(S)))&&Al(d.elements.popper,S)&&(d.elements.arrow=S)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _n(b){return b.split("-")[1]}var ks={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xi(b){var d,v=b.popper,S=b.popperRect,L=b.placement,j=b.variation,J=b.offsets,re=b.position,fe=b.gpuAcceleration,Ee=b.adaptive,Te=b.roundOffsets,ye=b.isFixed,qe=J.x,xe=qe===void 0?0:qe,Fe=J.y,Le=Fe===void 0?0:Fe,Pe=typeof Te=="function"?Te({x:xe,y:Le}):{x:xe,y:Le};xe=Pe.x,Le=Pe.y;var pt=J.hasOwnProperty("x"),Et=J.hasOwnProperty("y"),Xe=It,lt=et,Ue=window;if(Ee){var ve=ri(v),Ce="clientHeight",je="clientWidth";ve===Vn(v)&&Ni(ve=In(v)).position!=="static"&&re==="absolute"&&(Ce="scrollHeight",je="scrollWidth"),(L===et||(L===It||L===an)&&j===pi)&&(lt=pn,Le-=(ye&&ve===Ue&&Ue.visualViewport?Ue.visualViewport.height:ve[Ce])-S.height,Le*=fe?1:-1),L!==It&&(L!==et&&L!==pn||j!==pi)||(Xe=an,xe-=(ye&&ve===Ue&&Ue.visualViewport?Ue.visualViewport.width:ve[je])-S.width,xe*=fe?1:-1)}var ht,St=Object.assign({position:re},Ee&&ks),Jt=Te===!0?function(Qn,en){var En=Qn.x,Ei=Qn.y,Ye=en.devicePixelRatio||1;return{x:gn(En*Ye)/Ye||0,y:gn(Ei*Ye)/Ye||0}}({x:xe,y:Le},Vn(v)):{x:xe,y:Le};return xe=Jt.x,Le=Jt.y,fe?Object.assign({},St,((ht={})[lt]=Et?"0":"",ht[Xe]=pt?"0":"",ht.transform=(Ue.devicePixelRatio||1)<=1?"translate("+xe+"px, "+Le+"px)":"translate3d("+xe+"px, "+Le+"px, 0)",ht)):Object.assign({},St,((d={})[lt]=Et?Le+"px":"",d[Xe]=pt?xe+"px":"",d.transform="",d))}const sr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(b){var d=b.state,v=b.options,S=v.gpuAcceleration,L=S===void 0||S,j=v.adaptive,J=j===void 0||j,re=v.roundOffsets,fe=re===void 0||re,Ee={placement:ln(d.placement),variation:_n(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:L,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,xi(Object.assign({},Ee,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:J,roundOffsets:fe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,xi(Object.assign({},Ee,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:fe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var _i={passive:!0};const Ls={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(b){var d=b.state,v=b.instance,S=b.options,L=S.scroll,j=L===void 0||L,J=S.resize,re=J===void 0||J,fe=Vn(d.elements.popper),Ee=[].concat(d.scrollParents.reference,d.scrollParents.popper);return j&&Ee.forEach(function(Te){Te.addEventListener("scroll",v.update,_i)}),re&&fe.addEventListener("resize",v.update,_i),function(){j&&Ee.forEach(function(Te){Te.removeEventListener("scroll",v.update,_i)}),re&&fe.removeEventListener("resize",v.update,_i)}},data:{}};var ar={left:"right",right:"left",bottom:"top",top:"bottom"};function si(b){return b.replace(/left|right|bottom|top/g,function(d){return ar[d]})}var zo={start:"end",end:"start"};function Qt(b){return b.replace(/start|end/g,function(d){return zo[d]})}function ct(b){var d=Vn(b);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Zr(b){return ir(In(b)).left+ct(b).scrollLeft}function Nr(b){var d=Ni(b),v=d.overflow,S=d.overflowX,L=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+L+S)}function Bo(b){return["html","body","#document"].indexOf(Cn(b))>=0?b.ownerDocument.body:Dt(b)&&Nr(b)?b:Bo(kn(b))}function or(b,d){var v;d===void 0&&(d=[]);var S=Bo(b),L=S===((v=b.ownerDocument)==null?void 0:v.body),j=Vn(S),J=L?[j].concat(j.visualViewport||[],Nr(S)?S:[]):S,re=d.concat(J);return L?re:re.concat(or(kn(J)))}function Jr(b){return Object.assign({},b,{left:b.x,top:b.y,right:b.x+b.width,bottom:b.y+b.height})}function Mi(b,d,v){return d===Ji?Jr(function(S,L){var j=Vn(S),J=In(S),re=j.visualViewport,fe=J.clientWidth,Ee=J.clientHeight,Te=0,ye=0;if(re){fe=re.width,Ee=re.height;var qe=Uo();(qe||!qe&&L==="fixed")&&(Te=re.offsetLeft,ye=re.offsetTop)}return{width:fe,height:Ee,x:Te+Zr(S),y:ye}}(b,v)):wt(d)?function(S,L){var j=ir(S,!1,L==="fixed");return j.top=j.top+S.clientTop,j.left=j.left+S.clientLeft,j.bottom=j.top+S.clientHeight,j.right=j.left+S.clientWidth,j.width=S.clientWidth,j.height=S.clientHeight,j.x=j.left,j.y=j.top,j}(d,v):Jr(function(S){var L,j=In(S),J=ct(S),re=(L=S.ownerDocument)==null?void 0:L.body,fe=it(j.scrollWidth,j.clientWidth,re?re.scrollWidth:0,re?re.clientWidth:0),Ee=it(j.scrollHeight,j.clientHeight,re?re.scrollHeight:0,re?re.clientHeight:0),Te=-J.scrollLeft+Zr(S),ye=-J.scrollTop;return Ni(re||j).direction==="rtl"&&(Te+=it(j.clientWidth,re?re.clientWidth:0)-fe),{width:fe,height:Ee,x:Te,y:ye}}(In(b)))}function es(b){var d,v=b.reference,S=b.element,L=b.placement,j=L?ln(L):null,J=L?_n(L):null,re=v.x+v.width/2-S.width/2,fe=v.y+v.height/2-S.height/2;switch(j){case et:d={x:re,y:v.y-S.height};break;case pn:d={x:re,y:v.y+v.height};break;case an:d={x:v.x+v.width,y:fe};break;case It:d={x:v.x-S.width,y:fe};break;default:d={x:v.x,y:v.y}}var Ee=j?Vs(j):null;if(Ee!=null){var Te=Ee==="y"?"height":"width";switch(J){case Zi:d[Ee]=d[Ee]-(v[Te]/2-S[Te]/2);break;case pi:d[Ee]=d[Ee]+(v[Te]/2-S[Te]/2)}}return d}function yn(b,d){d===void 0&&(d={});var v=d,S=v.placement,L=S===void 0?b.placement:S,j=v.strategy,J=j===void 0?b.strategy:j,re=v.boundary,fe=re===void 0?Lo:re,Ee=v.rootBoundary,Te=Ee===void 0?Ji:Ee,ye=v.elementContext,qe=ye===void 0?Pn:ye,xe=v.altBoundary,Fe=xe!==void 0&&xe,Le=v.padding,Pe=Le===void 0?0:Le,pt=jo(typeof Pe!="number"?Pe:Wr(Pe,Cr)),Et=qe===Pn?on:Pn,Xe=b.rects.popper,lt=b.elements[Fe?Et:qe],Ue=function(en,En,Ei,Ye){var Ti=En==="clippingParents"?function(Tt){var Tn=or(kn(Tt)),Xn=["absolute","fixed"].indexOf(Ni(Tt).position)>=0&&Dt(Tt)?ri(Tt):Tt;return wt(Xn)?Tn.filter(function(hr){return wt(hr)&&Al(hr,Xn)&&Cn(hr)!=="body"}):[]}(en):[].concat(En),bi=[].concat(Ti,[Ei]),ia=bi[0],tn=bi.reduce(function(Tt,Tn){var Xn=Mi(en,Tn,Ye);return Tt.top=it(Xn.top,Tt.top),Tt.right=nr(Xn.right,Tt.right),Tt.bottom=nr(Xn.bottom,Tt.bottom),Tt.left=it(Xn.left,Tt.left),Tt},Mi(en,ia,Ye));return tn.width=tn.right-tn.left,tn.height=tn.bottom-tn.top,tn.x=tn.left,tn.y=tn.top,tn}(wt(lt)?lt:lt.contextElement||In(b.elements.popper),fe,Te,J),ve=ir(b.elements.reference),Ce=es({reference:ve,element:Xe,placement:L}),je=Jr(Object.assign({},Xe,Ce)),ht=qe===Pn?je:ve,St={top:Ue.top-ht.top+pt.top,bottom:ht.bottom-Ue.bottom+pt.bottom,left:Ue.left-ht.left+pt.left,right:ht.right-Ue.right+pt.right},Jt=b.modifiersData.offset;if(qe===Pn&&Jt){var Qn=Jt[L];Object.keys(St).forEach(function(en){var En=[an,pn].indexOf(en)>=0?1:-1,Ei=[et,pn].indexOf(en)>=0?"y":"x";St[en]+=Qn[Ei]*En})}return St}function wl(b,d){d===void 0&&(d={});var v=d,S=v.placement,L=v.boundary,j=v.rootBoundary,J=v.padding,re=v.flipVariations,fe=v.allowedAutoPlacements,Ee=fe===void 0?Ca:fe,Te=_n(S),ye=Te?re?Ir:Ir.filter(function(Fe){return _n(Fe)===Te}):Cr,qe=ye.filter(function(Fe){return Ee.indexOf(Fe)>=0});qe.length===0&&(qe=ye);var xe=qe.reduce(function(Fe,Le){return Fe[Le]=yn(b,{placement:Le,boundary:L,rootBoundary:j,padding:J})[ln(Le)],Fe},{});return Object.keys(xe).sort(function(Fe,Le){return xe[Fe]-xe[Le]})}const Sl={name:"flip",enabled:!0,phase:"main",fn:function(b){var d=b.state,v=b.options,S=b.name;if(!d.modifiersData[S]._skip){for(var L=v.mainAxis,j=L===void 0||L,J=v.altAxis,re=J===void 0||J,fe=v.fallbackPlacements,Ee=v.padding,Te=v.boundary,ye=v.rootBoundary,qe=v.altBoundary,xe=v.flipVariations,Fe=xe===void 0||xe,Le=v.allowedAutoPlacements,Pe=d.options.placement,pt=ln(Pe),Et=fe||(pt!==Pe&&Fe?function(Tt){if(ln(Tt)===mi)return[];var Tn=si(Tt);return[Qt(Tt),Tn,Qt(Tn)]}(Pe):[si(Pe)]),Xe=[Pe].concat(Et).reduce(function(Tt,Tn){return Tt.concat(ln(Tn)===mi?wl(d,{placement:Tn,boundary:Te,rootBoundary:ye,padding:Ee,flipVariations:Fe,allowedAutoPlacements:Le}):Tn)},[]),lt=d.rects.reference,Ue=d.rects.popper,ve=new Map,Ce=!0,je=Xe[0],ht=0;ht<Xe.length;ht++){var St=Xe[ht],Jt=ln(St),Qn=_n(St)===Zi,en=[et,pn].indexOf(Jt)>=0,En=en?"width":"height",Ei=yn(d,{placement:St,boundary:Te,rootBoundary:ye,altBoundary:qe,padding:Ee}),Ye=en?Qn?an:It:Qn?pn:et;lt[En]>Ue[En]&&(Ye=si(Ye));var Ti=si(Ye),bi=[];if(j&&bi.push(Ei[Jt]<=0),re&&bi.push(Ei[Ye]<=0,Ei[Ti]<=0),bi.every(function(Tt){return Tt})){je=St,Ce=!1;break}ve.set(St,bi)}if(Ce)for(var ia=function(Tt){var Tn=Xe.find(function(Xn){var hr=ve.get(Xn);if(hr)return hr.slice(0,Tt).every(function(bn){return bn})});if(Tn)return je=Tn,"break"},tn=Fe?3:1;tn>0&&ia(tn)!=="break";tn--);d.placement!==je&&(d.modifiersData[S]._skip=!0,d.placement=je,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ts(b,d,v){return v===void 0&&(v={x:0,y:0}),{top:b.top-d.height-v.y,right:b.right-d.width+v.x,bottom:b.bottom-d.height+v.y,left:b.left-d.width-v.x}}function Us(b){return[et,an,pn,It].some(function(d){return b[d]>=0})}const xa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(b){var d=b.state,v=b.name,S=d.rects.reference,L=d.rects.popper,j=d.modifiersData.preventOverflow,J=yn(d,{elementContext:"reference"}),re=yn(d,{altBoundary:!0}),fe=ts(J,S),Ee=ts(re,L,j),Te=Us(fe),ye=Us(Ee);d.modifiersData[v]={referenceClippingOffsets:fe,popperEscapeOffsets:Ee,isReferenceHidden:Te,hasPopperEscaped:ye},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Te,"data-popper-escaped":ye})}},js={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(b){var d=b.state,v=b.options,S=b.name,L=v.offset,j=L===void 0?[0,0]:L,J=Ca.reduce(function(Te,ye){return Te[ye]=function(qe,xe,Fe){var Le=ln(qe),Pe=[It,et].indexOf(Le)>=0?-1:1,pt=typeof Fe=="function"?Fe(Object.assign({},xe,{placement:qe})):Fe,Et=pt[0],Xe=pt[1];return Et=Et||0,Xe=(Xe||0)*Pe,[It,an].indexOf(Le)>=0?{x:Xe,y:Et}:{x:Et,y:Xe}}(ye,d.rects,j),Te},{}),re=J[d.placement],fe=re.x,Ee=re.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=fe,d.modifiersData.popperOffsets.y+=Ee),d.modifiersData[S]=J}},Ma={name:"popperOffsets",enabled:!0,phase:"read",fn:function(b){var d=b.state,v=b.name;d.modifiersData[v]=es({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},zs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(b){var d=b.state,v=b.options,S=b.name,L=v.mainAxis,j=L===void 0||L,J=v.altAxis,re=J!==void 0&&J,fe=v.boundary,Ee=v.rootBoundary,Te=v.altBoundary,ye=v.padding,qe=v.tether,xe=qe===void 0||qe,Fe=v.tetherOffset,Le=Fe===void 0?0:Fe,Pe=yn(d,{boundary:fe,rootBoundary:Ee,padding:ye,altBoundary:Te}),pt=ln(d.placement),Et=_n(d.placement),Xe=!Et,lt=Vs(pt),Ue=lt==="x"?"y":"x",ve=d.modifiersData.popperOffsets,Ce=d.rects.reference,je=d.rects.popper,ht=typeof Le=="function"?Le(Object.assign({},d.rects,{placement:d.placement})):Le,St=typeof ht=="number"?{mainAxis:ht,altAxis:ht}:Object.assign({mainAxis:0,altAxis:0},ht),Jt=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Qn={x:0,y:0};if(ve){if(j){var en,En=lt==="y"?et:It,Ei=lt==="y"?pn:an,Ye=lt==="y"?"height":"width",Ti=ve[lt],bi=Ti+Pe[En],ia=Ti-Pe[Ei],tn=xe?-je[Ye]/2:0,Tt=Et===Zi?Ce[Ye]:je[Ye],Tn=Et===Zi?-je[Ye]:-Ce[Ye],Xn=d.elements.arrow,hr=xe&&Xn?Ps(Xn):{width:0,height:0},bn=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ut=bn[En],Ll=bn[Ei],cs=Gn(0,Ce[Ye],hr[Ye]),Ul=Xe?Ce[Ye]/2-tn-cs-Ut-St.mainAxis:Tt-cs-Ut-St.mainAxis,uc=Xe?-Ce[Ye]/2+tn+cs+Ll+St.mainAxis:Tn+cs+Ll+St.mainAxis,ji=d.elements.arrow&&ri(d.elements.arrow),jl=ji?lt==="y"?ji.clientTop||0:ji.clientLeft||0:0,zl=(en=Jt?.[lt])!=null?en:0,cc=Ti+uc-zl,hc=Gn(xe?nr(bi,Ti+Ul-zl-jl):bi,Ti,xe?it(ia,cc):ia);ve[lt]=hc,Qn[lt]=hc-Ti}if(re){var fc,Zh=lt==="x"?et:It,Jh=lt==="x"?pn:an,hs=ve[Ue],il=Ue==="y"?"height":"width",Bl=hs+Pe[Zh],dc=hs-Pe[Jh],mc=[et,It].indexOf(pt)!==-1,pc=(fc=Jt?.[Ue])!=null?fc:0,gc=mc?Bl:hs-Ce[il]-je[il]-pc+St.altAxis,_c=mc?hs+Ce[il]+je[il]-pc-St.altAxis:dc,Hl=xe&&mc?function(ef,tf,ql){var yc=Gn(ef,tf,ql);return yc>ql?ql:yc}(gc,hs,_c):Gn(xe?gc:Bl,hs,xe?_c:dc);ve[Ue]=Hl,Qn[Ue]=Hl-hs}d.modifiersData[S]=Qn}},requiresIfExists:["offset"]};function ku(b,d,v){v===void 0&&(v=!1);var S,L,j=Dt(d),J=Dt(d)&&function(ye){var qe=ye.getBoundingClientRect(),xe=gn(qe.width)/ye.offsetWidth||1,Fe=gn(qe.height)/ye.offsetHeight||1;return xe!==1||Fe!==1}(d),re=In(d),fe=ir(b,J,v),Ee={scrollLeft:0,scrollTop:0},Te={x:0,y:0};return(j||!j&&!v)&&((Cn(d)!=="body"||Nr(re))&&(Ee=(S=d)!==Vn(S)&&Dt(S)?{scrollLeft:(L=S).scrollLeft,scrollTop:L.scrollTop}:ct(S)),Dt(d)?((Te=ir(d,!0)).x+=d.clientLeft,Te.y+=d.clientTop):re&&(Te.x=Zr(re))),{x:fe.left+Ee.scrollLeft-Te.x,y:fe.top+Ee.scrollTop-Te.y,width:fe.width,height:fe.height}}function Ho(b){var d=new Map,v=new Set,S=[];function L(j){v.add(j.name),[].concat(j.requires||[],j.requiresIfExists||[]).forEach(function(J){if(!v.has(J)){var re=d.get(J);re&&L(re)}}),S.push(j)}return b.forEach(function(j){d.set(j.name,j)}),b.forEach(function(j){v.has(j.name)||L(j)}),S}var ns={placement:"bottom",modifiers:[],strategy:"absolute"};function qo(){for(var b=arguments.length,d=new Array(b),v=0;v<b;v++)d[v]=arguments[v];return!d.some(function(S){return!(S&&typeof S.getBoundingClientRect=="function")})}function Bs(b){b===void 0&&(b={});var d=b,v=d.defaultModifiers,S=v===void 0?[]:v,L=d.defaultOptions,j=L===void 0?ns:L;return function(J,re,fe){fe===void 0&&(fe=j);var Ee,Te,ye={placement:"bottom",orderedModifiers:[],options:Object.assign({},ns,j),modifiersData:{},elements:{reference:J,popper:re},attributes:{},styles:{}},qe=[],xe=!1,Fe={state:ye,setOptions:function(Pe){var pt=typeof Pe=="function"?Pe(ye.options):Pe;Le(),ye.options=Object.assign({},j,ye.options,pt),ye.scrollParents={reference:wt(J)?or(J):J.contextElement?or(J.contextElement):[],popper:or(re)};var Et,Xe,lt=function(Ue){var ve=Ho(Ue);return Da.reduce(function(Ce,je){return Ce.concat(ve.filter(function(ht){return ht.phase===je}))},[])}((Et=[].concat(S,ye.options.modifiers),Xe=Et.reduce(function(Ue,ve){var Ce=Ue[ve.name];return Ue[ve.name]=Ce?Object.assign({},Ce,ve,{options:Object.assign({},Ce.options,ve.options),data:Object.assign({},Ce.data,ve.data)}):ve,Ue},{}),Object.keys(Xe).map(function(Ue){return Xe[Ue]})));return ye.orderedModifiers=lt.filter(function(Ue){return Ue.enabled}),ye.orderedModifiers.forEach(function(Ue){var ve=Ue.name,Ce=Ue.options,je=Ce===void 0?{}:Ce,ht=Ue.effect;if(typeof ht=="function"){var St=ht({state:ye,name:ve,instance:Fe,options:je});qe.push(St||function(){})}}),Fe.update()},forceUpdate:function(){if(!xe){var Pe=ye.elements,pt=Pe.reference,Et=Pe.popper;if(qo(pt,Et)){ye.rects={reference:ku(pt,ri(Et),ye.options.strategy==="fixed"),popper:Ps(Et)},ye.reset=!1,ye.placement=ye.options.placement,ye.orderedModifiers.forEach(function(ht){return ye.modifiersData[ht.name]=Object.assign({},ht.data)});for(var Xe=0;Xe<ye.orderedModifiers.length;Xe++)if(ye.reset!==!0){var lt=ye.orderedModifiers[Xe],Ue=lt.fn,ve=lt.options,Ce=ve===void 0?{}:ve,je=lt.name;typeof Ue=="function"&&(ye=Ue({state:ye,options:Ce,name:je,instance:Fe})||ye)}else ye.reset=!1,Xe=-1}}},update:(Ee=function(){return new Promise(function(Pe){Fe.forceUpdate(),Pe(ye)})},function(){return Te||(Te=new Promise(function(Pe){Promise.resolve().then(function(){Te=void 0,Pe(Ee())})})),Te}),destroy:function(){Le(),xe=!0}};if(!qo(J,re))return Fe;function Le(){qe.forEach(function(Pe){return Pe()}),qe=[]}return Fe.setOptions(fe).then(function(Pe){!xe&&fe.onFirstUpdate&&fe.onFirstUpdate(Pe)}),Fe}}var Fo=Bs(),Hs=Bs({defaultModifiers:[Ls,Ma,sr,tr]}),Pa=Bs({defaultModifiers:[Ls,Ma,sr,tr,js,Sl,zs,gi,xa]});const qs=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Rn,afterRead:Ns,afterWrite:Ms,applyStyles:tr,arrow:gi,auto:mi,basePlacements:Cr,beforeMain:Ia,beforeRead:er,beforeWrite:Oa,bottom:pn,clippingParents:Lo,computeStyles:sr,createPopper:Pa,createPopperBase:Fo,createPopperLite:Hs,detectOverflow:yn,end:pi,eventListeners:Ls,flip:Sl,hide:xa,left:It,main:xs,modifierPhases:Da,offset:js,placements:Ca,popper:Pn,popperGenerator:Bs,popperOffsets:Ma,preventOverflow:zs,read:Ds,reference:on,right:an,start:Zi,top:et,variationPlacements:Ir,viewport:Ji,write:bl},Symbol.toStringTag,{value:"Module"})),Go="dropdown",Pi=".bs.dropdown",Vi=".data-api",Rl="ArrowUp",$o="ArrowDown",Cl=`hide${Pi}`,Il=`hidden${Pi}`,Va=`show${Pi}`,Ln=`shown${Pi}`,Ko=`click${Pi}${Vi}`,Yo=`keydown${Pi}${Vi}`,lr=`keyup${Pi}${Vi}`,c="show",_='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',E=`${_}.${c}`,R=".dropdown-menu",G=Q()?"top-end":"top-start",Z=Q()?"top-start":"top-end",de=Q()?"bottom-end":"bottom-start",rt=Q()?"bottom-start":"bottom-end",Xt=Q()?"left-start":"right-start",st=Q()?"right-start":"left-start",un={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zt extends Re{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=ge.next(this._element,R)[0]||ge.prev(this._element,R)[0]||ge.findOne(R,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return un}static get DefaultType(){return Wt}static get NAME(){return Go}toggle(){return this._isShown()?this.hide():this.show()}show(){if(A(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!C.trigger(this._element,Va,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))C.on(v,"mouseover",I);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(c),this._element.classList.add(c),C.trigger(this._element,Ln,d)}}hide(){if(A(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!C.trigger(this._element,Cl,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))C.off(v,"mouseover",I);this._popper&&this._popper.destroy(),this._menu.classList.remove(c),this._element.classList.remove(c),this._element.setAttribute("aria-expanded","false"),we.removeDataAttribute(this._menu,"popper"),C.trigger(this._element,Il,d),this._element.focus()}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!p(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Go.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(qs===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:p(this._config.reference)?d=g(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=Pa(d,this._menu,v)}_isShown(){return this._menu.classList.contains(c)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Xt;if(d.classList.contains("dropstart"))return st;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?Z:G:v?rt:de}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(we.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...ce(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:v}){const S=ge.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>y(L));S.length&&Ne(S,v,d===$o,!S.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=Zt.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=ge.find(E);for(const S of v){const L=Zt.getInstance(S);if(!L||L._config.autoClose===!1)continue;const j=d.composedPath(),J=j.includes(L._menu);if(j.includes(L._element)||L._config.autoClose==="inside"&&!J||L._config.autoClose==="outside"&&J||L._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const re={relatedTarget:L._element};d.type==="click"&&(re.clickEvent=d),L._completeHide(re)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),S=d.key==="Escape",L=[Rl,$o].includes(d.key);if(!L&&!S||v&&!S)return;d.preventDefault();const j=this.matches(_)?this:ge.prev(this,_)[0]||ge.next(this,_)[0]||ge.findOne(_,d.delegateTarget.parentNode),J=Zt.getOrCreateInstance(j);if(L)return d.stopPropagation(),J.show(),void J._selectMenuItem(d);J._isShown()&&(d.stopPropagation(),J.hide(),j.focus())}}C.on(document,Yo,_,Zt.dataApiKeydownHandler),C.on(document,Yo,R,Zt.dataApiKeydownHandler),C.on(document,Ko,Zt.clearMenus),C.on(document,lr,Zt.clearMenus),C.on(document,Ko,_,function(b){b.preventDefault(),Zt.getOrCreateInstance(this).toggle()}),W(Zt);const cn="backdrop",ki="show",ka=`mousedown.bs.${cn}`,Ol={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Nh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Lu extends Ke{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Ol}static get DefaultType(){return Nh}static get NAME(){return cn}show(d){if(!this._config.isVisible)return void ce(d);this._append();const v=this._getElement();this._config.isAnimated&&q(v),v.classList.add(ki),this._emulateAnimation(()=>{ce(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(ki),this._emulateAnimation(()=>{this.dispose(),ce(d)})):ce(d)}dispose(){this._isAppended&&(C.off(this._element,ka),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=g(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),C.on(d,ka,()=>{ce(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){me(d,this._getElement(),this._config.isAnimated)}}const La=".bs.focustrap",Uu=`focusin${La}`,xh=`keydown.tab${La}`,ju="backward",Mh={autofocus:!0,trapElement:null},$d={autofocus:"boolean",trapElement:"element"};class Ph extends Ke{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Mh}static get DefaultType(){return $d}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),C.off(document,La),C.on(document,Uu,d=>this._handleFocusin(d)),C.on(document,xh,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,C.off(document,La))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const S=ge.focusableChildren(v);S.length===0?v.focus():this._lastTabNavDirection===ju?S[S.length-1].focus():S[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?ju:"forward")}}const Vh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",kh=".sticky-top",Dl="padding-right",$n="margin-right";class Fs{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Dl,v=>v+d),this._setElementAttributes(Vh,Dl,v=>v+d),this._setElementAttributes(kh,$n,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Dl),this._resetElementAttributes(Vh,Dl),this._resetElementAttributes(kh,$n)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,S){const L=this.getWidth();this._applyManipulationCallback(d,j=>{if(j!==this._element&&window.innerWidth>j.clientWidth+L)return;this._saveInitialAttribute(j,v);const J=window.getComputedStyle(j).getPropertyValue(v);j.style.setProperty(v,`${S(Number.parseFloat(J))}px`)})}_saveInitialAttribute(d,v){const S=d.style.getPropertyValue(v);S&&we.setDataAttribute(d,v,S)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,S=>{const L=we.getDataAttribute(S,v);L!==null?(we.removeDataAttribute(S,v),S.style.setProperty(v,L)):S.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(p(d))v(d);else for(const S of ge.find(d,this._element))v(S)}}const ai=".bs.modal",Lh=`hide${ai}`,Uh=`hidePrevented${ai}`,zu=`hidden${ai}`,Nl=`show${ai}`,Kd=`shown${ai}`,Ua=`resize${ai}`,Bu=`click.dismiss${ai}`,Qo=`mousedown.dismiss${ai}`,Hu=`keydown.dismiss${ai}`,jh=`click${ai}.data-api`,is="modal-open",Gs="show",Xo="modal-static",zh={backdrop:!0,focus:!0,keyboard:!0},$s={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class rs extends Re{constructor(d,v){super(d,v),this._dialog=ge.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Fs,this._addEventListeners()}static get Default(){return zh}static get DefaultType(){return $s}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||C.trigger(this._element,Nl,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(is),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(C.trigger(this._element,Lh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Gs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){C.off(window,ai),C.off(this._dialog,ai),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Lu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ph({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=ge.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),q(this._element),this._element.classList.add(Gs),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,C.trigger(this._element,Kd,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){C.on(this._element,Hu,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),C.on(window,Ua,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),C.on(this._element,Qo,d=>{C.one(this._element,Bu,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(is),this._resetAdjustments(),this._scrollBar.reset(),C.trigger(this._element,zu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(C.trigger(this._element,Uh).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(Xo)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Xo),this._queueCallback(()=>{this._element.classList.remove(Xo),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),S=v>0;if(S&&!d){const L=Q()?"paddingLeft":"paddingRight";this._element.style[L]=`${v}px`}if(!S&&d){const L=Q()?"paddingRight":"paddingLeft";this._element.style[L]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const S=rs.getOrCreateInstance(this,d);if(typeof d=="string"){if(S[d]===void 0)throw new TypeError(`No method named "${d}"`);S[d](v)}})}}C.on(document,jh,'[data-bs-toggle="modal"]',function(b){const d=ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),C.one(d,Nl,S=>{S.defaultPrevented||C.one(d,zu,()=>{y(this)&&this.focus()})});const v=ge.findOne(".modal.show");v&&rs.getInstance(v).hide(),rs.getOrCreateInstance(d).toggle(this)}),ni(rs),W(rs);const ur=".bs.offcanvas",qu=".data-api",Yd=`load${ur}${qu}`,Bh="show",Hh="showing",Fu="hiding",Gu=".offcanvas.show",$u=`show${ur}`,Li=`shown${ur}`,qh=`hide${ur}`,oi=`hidePrevented${ur}`,li=`hidden${ur}`,ja=`resize${ur}`,Ku=`click${ur}${qu}`,xl=`keydown.dismiss${ur}`,Ml={backdrop:!0,keyboard:!0,scroll:!1},Yu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Kn extends Re{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ml}static get DefaultType(){return Yu}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||C.trigger(this._element,$u,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Fs().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hh),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Bh),this._element.classList.remove(Hh),C.trigger(this._element,Li,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(C.trigger(this._element,qh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Fu),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Bh,Fu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Fs().reset(),C.trigger(this._element,li)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new Lu({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():C.trigger(this._element,oi)}:null})}_initializeFocusTrap(){return new Ph({trapElement:this._element})}_addEventListeners(){C.on(this._element,xl,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():C.trigger(this._element,oi))})}static jQueryInterface(d){return this.each(function(){const v=Kn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}C.on(document,Ku,'[data-bs-toggle="offcanvas"]',function(b){const d=ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),A(this))return;C.one(d,li,()=>{y(this)&&this.focus()});const v=ge.findOne(Gu);v&&v!==d&&Kn.getInstance(v).hide(),Kn.getOrCreateInstance(d).toggle(this)}),C.on(window,Yd,()=>{for(const b of ge.find(Gu))Kn.getOrCreateInstance(b).show()}),C.on(window,ja,()=>{for(const b of ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(b).position!=="fixed"&&Kn.getOrCreateInstance(b).hide()}),ni(Kn),W(Kn);const Qu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Pl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),za=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Qd=(b,d)=>{const v=b.nodeName.toLowerCase();return d.includes(v)?!Pl.has(v)||!!za.test(b.nodeValue):d.filter(S=>S instanceof RegExp).some(S=>S.test(v))},ui={allowList:Qu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},xr={entry:"(string|element|function|null)",selector:"(string|element)"};class Fh extends Ke{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return ui}static get DefaultType(){return Xu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[L,j]of Object.entries(this._config.content))this._setContent(d,j,L);const v=d.children[0],S=this._resolvePossibleFunction(this._config.extraClass);return S&&v.classList.add(...S.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,S]of Object.entries(d))super._typeCheckConfig({selector:v,entry:S},xr)}_setContent(d,v,S){const L=ge.findOne(S,d);L&&((v=this._resolvePossibleFunction(v))?p(v)?this._putElementInTemplate(g(v),L):this._config.html?L.innerHTML=this._maybeSanitize(v):L.textContent=v:L.remove())}_maybeSanitize(d){return this._config.sanitize?function(v,S,L){if(!v.length)return v;if(L&&typeof L=="function")return L(v);const j=new window.DOMParser().parseFromString(v,"text/html"),J=[].concat(...j.body.querySelectorAll("*"));for(const re of J){const fe=re.nodeName.toLowerCase();if(!Object.keys(S).includes(fe)){re.remove();continue}const Ee=[].concat(...re.attributes),Te=[].concat(S["*"]||[],S[fe]||[]);for(const ye of Ee)Qd(ye,Te)||re.removeAttribute(ye.nodeName)}return j.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return ce(d,[void 0,this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const Vl=new Set(["sanitize","allowList","sanitizeFn"]),Mr="fade",Ba="show",Wu=".tooltip-inner",Ks=".modal",Ys="hide.bs.modal",ss="hover",Ha="focus",Yn="click",yi={AUTO:"auto",TOP:"top",RIGHT:Q()?"left":"right",BOTTOM:"bottom",LEFT:Q()?"right":"left"},Qs={allowList:Qu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Un extends Re{constructor(d,v){if(qs===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Qs}static get DefaultType(){return Pr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),C.off(this._element.closest(Ks),Ys,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=C.trigger(this._element,this.constructor.eventName("show")),v=(O(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const S=this._getTipElement();this._element.setAttribute("aria-describedby",S.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(S),C.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(S),S.classList.add(Ba),"ontouchstart"in document.documentElement)for(const j of[].concat(...document.body.children))C.on(j,"mouseover",I);this._queueCallback(()=>{C.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!C.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ba),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))C.off(d,"mouseover",I);this._activeTrigger[Yn]=!1,this._activeTrigger[Ha]=!1,this._activeTrigger[ss]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),C.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(Mr,Ba),v.classList.add(`bs-${this.constructor.NAME}-auto`);const S=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return v.setAttribute("id",S),this._isAnimated()&&v.classList.add(Mr),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Fh({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Wu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mr)}_isShown(){return this.tip&&this.tip.classList.contains(Ba)}_createPopper(d){const v=ce(this._config.placement,[this,d,this._element]),S=yi[v.toUpperCase()];return Pa(this._element,d,this._getPopperConfig(S))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return ce(d,[this._element,this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:S=>{this._getTipElement().setAttribute("data-popper-placement",S.state.placement)}}]};return{...v,...ce(this._config.popperConfig,[void 0,v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")C.on(this._element,this.constructor.eventName("click"),this._config.selector,S=>{const L=this._initializeOnDelegatedTarget(S);L._activeTrigger[Yn]=!(L._isShown()&&L._activeTrigger[Yn]),L.toggle()});else if(v!=="manual"){const S=v===ss?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=v===ss?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");C.on(this._element,S,this._config.selector,j=>{const J=this._initializeOnDelegatedTarget(j);J._activeTrigger[j.type==="focusin"?Ha:ss]=!0,J._enter()}),C.on(this._element,L,this._config.selector,j=>{const J=this._initializeOnDelegatedTarget(j);J._activeTrigger[j.type==="focusout"?Ha:ss]=J._element.contains(j.relatedTarget),J._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},C.on(this._element.closest(Ks),Ys,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=we.getDataAttributes(this._element);for(const S of Object.keys(v))Vl.has(S)&&delete v[S];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:g(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,S]of Object.entries(this._config))this.constructor.Default[v]!==S&&(d[v]=S);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Un.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}W(Un);const Xs=".popover-header",Gh=".popover-body",Zu={...Un.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ju={...Un.DefaultType,content:"(null|string|element|function)"};class hn extends Un{static get Default(){return Zu}static get DefaultType(){return Ju}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xs]:this._getTitle(),[Gh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=hn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}W(hn);const Nt=".bs.scrollspy",mt=`activate${Nt}`,as=`click${Nt}`,cr=`load${Nt}.data-api`,os="active",Vr="[href]",ec=".nav-link",$h=`${ec}, .nav-item > ${ec}, .list-group-item`,Wo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Zo={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class qa extends Re{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Wo}static get DefaultType(){return Zo}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=g(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(C.off(this._config.target,as),C.on(this._config.target,as,Vr,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const S=this._rootElement||window,L=v.offsetTop-this._element.offsetTop;if(S.scrollTo)return void S.scrollTo({top:L,behavior:"smooth"});S.scrollTop=L}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=J=>this._targetLinks.get(`#${J.target.id}`),S=J=>{this._previousScrollData.visibleEntryTop=J.target.offsetTop,this._process(v(J))},L=(this._rootElement||document.documentElement).scrollTop,j=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const J of d){if(!J.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(J));continue}const re=J.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(j&&re){if(S(J),!L)return}else j||re||S(J)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ge.find(Vr,this._config.target);for(const v of d){if(!v.hash||A(v))continue;const S=ge.findOne(decodeURI(v.hash),this._element);y(S)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,S))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(os),this._activateParents(d),C.trigger(this._element,mt,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ge.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(os);else for(const v of ge.parents(d,".nav, .list-group"))for(const S of ge.prev(v,$h))S.classList.add(os)}_clearActiveClass(d){d.classList.remove(os);const v=ge.find(`${Vr}.${os}`,d);for(const S of v)S.classList.remove(os)}static jQueryInterface(d){return this.each(function(){const v=qa.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}C.on(window,cr,()=>{for(const b of ge.find('[data-bs-spy="scroll"]'))qa.getOrCreateInstance(b)}),W(qa);const Ui=".bs.tab",tc=`hide${Ui}`,Ws=`hidden${Ui}`,kr=`show${Ui}`,ls=`shown${Ui}`,Lr=`click${Ui}`,nc=`keydown${Ui}`,ic=`load${Ui}`,Jo="ArrowLeft",el="ArrowRight",Zs="ArrowUp",vn="ArrowDown",Fa="Home",rc="End",Js="active",Kh="fade",sc="show",$t=".dropdown-toggle",tl=`:not(${$t})`,Ga='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ea=`.nav-link${tl}, .list-group-item${tl}, [role="tab"]${tl}, ${Ga}`,ac=`.${Js}[data-bs-toggle="tab"], .${Js}[data-bs-toggle="pill"], .${Js}[data-bs-toggle="list"]`;class vi extends Re{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),C.on(this._element,nc,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),S=v?C.trigger(v,tc,{relatedTarget:d}):null;C.trigger(d,kr,{relatedTarget:v}).defaultPrevented||S&&S.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(Js),this._activate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),C.trigger(d,ls,{relatedTarget:v})):d.classList.add(sc)},d,d.classList.contains(Kh)))}_deactivate(d,v){d&&(d.classList.remove(Js),d.blur(),this._deactivate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),C.trigger(d,Ws,{relatedTarget:v})):d.classList.remove(sc)},d,d.classList.contains(Kh)))}_keydown(d){if(![Jo,el,Zs,vn,Fa,rc].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(L=>!A(L));let S;if([Fa,rc].includes(d.key))S=v[d.key===Fa?0:v.length-1];else{const L=[el,vn].includes(d.key);S=Ne(v,d.target,L,!0)}S&&(S.focus({preventScroll:!0}),vi.getOrCreateInstance(S).show())}_getChildren(){return ge.find(ea,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const S of v)this._setInitialAttributesOnChild(S)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),S=this._getOuterElement(d);d.setAttribute("aria-selected",v),S!==d&&this._setAttributeIfNotExists(S,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=ge.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const S=this._getOuterElement(d);if(!S.classList.contains("dropdown"))return;const L=(j,J)=>{const re=ge.findOne(j,S);re&&re.classList.toggle(J,v)};L($t,Js),L(".dropdown-menu",sc),S.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,S){d.hasAttribute(v)||d.setAttribute(v,S)}_elemIsActive(d){return d.classList.contains(Js)}_getInnerElement(d){return d.matches(ea)?d:ge.findOne(ea,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=vi.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}C.on(document,Lr,Ga,function(b){["A","AREA"].includes(this.tagName)&&b.preventDefault(),A(this)||vi.getOrCreateInstance(this).show()}),C.on(window,ic,()=>{for(const b of ge.find(ac))vi.getOrCreateInstance(b)}),W(vi);const ci=".bs.toast",Xd=`mouseover${ci}`,Yh=`mouseout${ci}`,Wd=`focusin${ci}`,Qh=`focusout${ci}`,ta=`hide${ci}`,oc=`hidden${ci}`,kl=`show${ci}`,Xh=`shown${ci}`,$a="hide",nl="show",na="showing",lc={animation:"boolean",autohide:"boolean",delay:"number"},Wh={animation:!0,autohide:!0,delay:5e3};class us extends Re{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Wh}static get DefaultType(){return lc}static get NAME(){return"toast"}show(){C.trigger(this._element,kl).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($a),q(this._element),this._element.classList.add(nl,na),this._queueCallback(()=>{this._element.classList.remove(na),C.trigger(this._element,Xh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(C.trigger(this._element,ta).defaultPrevented||(this._element.classList.add(na),this._queueCallback(()=>{this._element.classList.add($a),this._element.classList.remove(na,nl),C.trigger(this._element,oc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(nl),super.dispose()}isShown(){return this._element.classList.contains(nl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const S=d.relatedTarget;this._element===S||this._element.contains(S)||this._maybeScheduleHide()}_setListeners(){C.on(this._element,Xd,d=>this._onInteraction(d,!0)),C.on(this._element,Yh,d=>this._onInteraction(d,!1)),C.on(this._element,Wd,d=>this._onInteraction(d,!0)),C.on(this._element,Qh,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=us.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return ni(us),W(us),{Alert:Ri,Button:Tr,Carousel:Sr,Collapse:Gt,Dropdown:Zt,Modal:rs,Offcanvas:Kn,Popover:hn,ScrollSpy:qa,Tab:vi,Toast:us,Tooltip:Un}})}(Kf)),Kf.exports}nw();var ne=Qp(),Gc={},gv;function iw(){if(gv)return Gc;gv=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.parse=f,Gc.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,q){const B=new u,ee=I.length;if(ee<2)return B;const Q=q?.decode||A;let W=0;do{const ce=I.indexOf("=",W);if(ce===-1)break;const me=I.indexOf(";",W),Ne=me===-1?ee:me;if(ce>Ne){W=I.lastIndexOf(";",ce-1)+1;continue}const Se=p(I,W,ce),$e=g(I,ce,Se),k=I.slice(Se,$e);if(B[k]===void 0){let D=p(I,ce+1,Ne),N=g(I,Ne,D);const P=Q(I.slice(D,N));B[k]=P}W=Ne+1}while(W<ee);return B}function p(I,q,B){do{const ee=I.charCodeAt(q);if(ee!==32&&ee!==9)return q}while(++q<B);return B}function g(I,q,B){for(;q>B;){const ee=I.charCodeAt(--q);if(ee!==32&&ee!==9)return q+1}return B}function y(I,q,B){const ee=B?.encode||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const Q=ee(q);if(!e.test(Q))throw new TypeError(`argument val is invalid: ${q}`);let W=I+"="+Q;if(!B)return W;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);W+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);W+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);W+="; Path="+B.path}if(B.expires){if(!O(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);W+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(W+="; HttpOnly"),B.secure&&(W+="; Secure"),B.partitioned&&(W+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return W}function A(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function O(I){return o.call(I)==="[object Date]"}return Gc}iw();var _v="popstate";function rw(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return bp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ah(o)}return aw(e,n,null,r)}function Lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sw(){return Math.random().toString(36).substring(2,10)}function yv(r,e){return{usr:r.state,key:r.key,idx:e}}function bp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Au(e):e,state:n,key:e&&e.key||s||sw()}}function ah({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Au(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function aw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=A();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function A(){return(f.state||{idx:null}).idx}function O(){p="POP";let Q=A(),W=Q==null?null:Q-y;y=Q,g&&g({action:p,location:ee.location,delta:W})}function I(Q,W){p="PUSH";let ce=bp(ee.location,Q,W);y=A()+1;let me=yv(ce,y),Ne=ee.createHref(ce);try{f.pushState(me,"",Ne)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(Ne)}u&&g&&g({action:p,location:ee.location,delta:1})}function q(Q,W){p="REPLACE";let ce=bp(ee.location,Q,W);y=A();let me=yv(ce,y),Ne=ee.createHref(ce);f.replaceState(me,"",Ne),u&&g&&g({action:p,location:ee.location,delta:0})}function B(Q){return ow(Q)}let ee={get action(){return p},get location(){return r(o,f)},listen(Q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,O),g=Q,()=>{o.removeEventListener(_v,O),g=null}},createHref(Q){return e(o,Q)},createURL:B,encodeLocation(Q){let W=B(Q);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:I,replace:q,go(Q){return f.go(Q)}};return ee}function ow(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ah(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function QE(r,e,n="/"){return lw(r,e,n,!1)}function lw(r,e,n,s){let o=typeof e=="string"?Au(e):e,u=ga(o.pathname||"/",n);if(u==null)return null;let f=XE(r);uw(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=Ew(u);p=yw(f[g],y,s)}return p}function XE(r,e=[],n=[],s=""){let o=(u,f,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Lt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=da([s,g.relativePath]),A=n.concat(g);u.children&&u.children.length>0&&(Lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),XE(u.children,e,A,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:gw(y,u.index),routesMeta:A})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let p of WE(u.path))o(u,f,p)}),e}function WE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=WE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function uw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:_w(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var cw=/^:[\w-]+$/,hw=3,fw=2,dw=1,mw=10,pw=-2,vv=r=>r==="*";function gw(r,e){let n=r.split("/"),s=n.length;return n.some(vv)&&(s+=pw),e&&(s+=fw),n.filter(o=>!vv(o)).reduce((o,u)=>o+(cw.test(u)?hw:u===""?dw:mw),s)}function _w(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function yw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,A=u==="/"?e:e.slice(u.length)||"/",O=ad({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},A),I=g.route;if(!O&&y&&n&&!s[s.length-1].route.index&&(O=ad({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},A)),!O)return null;Object.assign(o,O.params),f.push({params:o,pathname:da([u,O.pathname]),pathnameBase:ww(da([u,O.pathnameBase])),route:I}),O.pathnameBase!=="/"&&(u=da([u,O.pathnameBase]))}return f}function ad(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=vw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:A,isOptional:O},I)=>{if(A==="*"){let B=p[I]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const q=p[I];return O&&!q?y[A]=void 0:y[A]=(q||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function vw(r,e=!1,n=!0){Hr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ew(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ga(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Tw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Au(r):r;return{pathname:n?n.startsWith("/")?n:bw(n,e):e,search:Sw(s),hash:Rw(o)}}function bw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function up(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Aw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xp(r){let e=Aw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wp(r,e,n,s=!1){let o;typeof r=="string"?o=Au(r):(o={...r},Lt(!o.pathname||!o.pathname.includes("?"),up("?","pathname","search",o)),Lt(!o.pathname||!o.pathname.includes("#"),up("#","pathname","hash",o)),Lt(!o.search||!o.search.includes("#"),up("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let O=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),O-=1;o.pathname=I.join("/")}p=O>=0?e[O]:"/"}let g=Tw(o,p),y=f&&f!=="/"&&f.endsWith("/"),A=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||A)&&(g.pathname+="/"),g}var da=r=>r.join("/").replace(/\/\/+/g,"/"),ww=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Sw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Rw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Cw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var Iw=["GET",...ZE];new Set(Iw);var wu=ne.createContext(null);wu.displayName="DataRouter";var Cd=ne.createContext(null);Cd.displayName="DataRouterState";var JE=ne.createContext({isTransitioning:!1});JE.displayName="ViewTransition";var Ow=ne.createContext(new Map);Ow.displayName="Fetchers";var Dw=ne.createContext(null);Dw.displayName="Await";var Fr=ne.createContext(null);Fr.displayName="Navigation";var yh=ne.createContext(null);yh.displayName="Location";var Ss=ne.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var Zp=ne.createContext(null);Zp.displayName="RouteError";function Nw(r,{relative:e}={}){Lt(Su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=ne.useContext(Fr),{hash:o,pathname:u,search:f}=vh(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:da([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Su(){return ne.useContext(yh)!=null}function Io(){return Lt(Su(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(yh).location}var e0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t0(r){ne.useContext(Fr).static||ne.useLayoutEffect(r)}function n0(){let{isDataRoute:r}=ne.useContext(Ss);return r?Fw():xw()}function xw(){Lt(Su(),"useNavigate() may be used only in the context of a <Router> component.");let r=ne.useContext(wu),{basename:e,navigator:n}=ne.useContext(Fr),{matches:s}=ne.useContext(Ss),{pathname:o}=Io(),u=JSON.stringify(Xp(s)),f=ne.useRef(!1);return t0(()=>{f.current=!0}),ne.useCallback((g,y={})=>{if(Hr(f.current,e0),!f.current)return;if(typeof g=="number"){n.go(g);return}let A=Wp(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:da([e,A.pathname])),(y.replace?n.replace:n.push)(A,y.state,y)},[e,n,u,o,r])}ne.createContext(null);function vh(r,{relative:e}={}){let{matches:n}=ne.useContext(Ss),{pathname:s}=Io(),o=JSON.stringify(Xp(n));return ne.useMemo(()=>Wp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Mw(r,e){return i0(r,e)}function i0(r,e,n,s){Lt(Su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ne.useContext(Fr),{matches:u}=ne.useContext(Ss),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",A=f&&f.route;{let W=A&&A.path||"";r0(g,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let O=Io(),I;if(e){let W=typeof e=="string"?Au(e):e;Lt(y==="/"||W.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),I=W}else I=O;let q=I.pathname||"/",B=q;if(y!=="/"){let W=y.replace(/^\//,"").split("/");B="/"+q.replace(/^\//,"").split("/").slice(W.length).join("/")}let ee=QE(r,{pathname:B});Hr(A||ee!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Hr(ee==null||ee[ee.length-1].route.element!==void 0||ee[ee.length-1].route.Component!==void 0||ee[ee.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Uw(ee&&ee.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:da([y,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:da([y,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s);return e&&Q?ne.createElement(yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},Q):Q}function Pw(){let r=qw(),e=Cw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:u},"ErrorBoundary")," or"," ",ne.createElement("code",{style:u},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:o},n):null,f)}var Vw=ne.createElement(Pw,null),kw=class extends ne.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ne.createElement(Ss.Provider,{value:this.props.routeContext},ne.createElement(Zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lw({routeContext:r,match:e,children:n}){let s=ne.useContext(wu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(Ss.Provider,{value:r},n)}function Uw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,p=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:A,errors:O}=n,I=y.route.loader&&!A.hasOwnProperty(y.route.id)&&(!O||O[y.route.id]===void 0);if(y.route.lazy||I){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,y,A)=>{let O,I=!1,q=null,B=null;n&&(O=u&&y.route.id?u[y.route.id]:void 0,q=y.route.errorElement||Vw,f&&(p<0&&A===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,B=null):p===A&&(I=!0,B=y.route.hydrateFallbackElement||null)));let ee=e.concat(o.slice(0,A+1)),Q=()=>{let W;return O?W=q:I?W=B:y.route.Component?W=ne.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=g,ne.createElement(Lw,{match:y,routeContext:{outlet:g,matches:ee,isDataRoute:n!=null},children:W})};return n&&(y.route.ErrorBoundary||y.route.errorElement||A===0)?ne.createElement(kw,{location:n.location,revalidation:n.revalidation,component:q,error:O,children:Q(),routeContext:{outlet:null,matches:ee,isDataRoute:!0}}):Q()},null)}function Jp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(r){let e=ne.useContext(wu);return Lt(e,Jp(r)),e}function zw(r){let e=ne.useContext(Cd);return Lt(e,Jp(r)),e}function Bw(r){let e=ne.useContext(Ss);return Lt(e,Jp(r)),e}function eg(r){let e=Bw(r),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Hw(){return eg("useRouteId")}function qw(){let r=ne.useContext(Zp),e=zw("useRouteError"),n=eg("useRouteError");return r!==void 0?r:e.errors?.[n]}function Fw(){let{router:r}=jw("useNavigate"),e=eg("useNavigate"),n=ne.useRef(!1);return t0(()=>{n.current=!0}),ne.useCallback(async(o,u={})=>{Hr(n.current,e0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ev={};function r0(r,e,n){!e&&!Ev[r]&&(Ev[r]=!0,Hr(!1,n))}ne.memo(Gw);function Gw({routes:r,future:e,state:n}){return i0(r,void 0,n,e)}function $w({to:r,replace:e,state:n,relative:s}){Lt(Su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=ne.useContext(Fr);Hr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=ne.useContext(Ss),{pathname:f}=Io(),p=n0(),g=Wp(r,Xp(u),f,s==="path"),y=JSON.stringify(g);return ne.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function pr(r){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Lt(!Su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=ne.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Au(n));let{pathname:g="/",search:y="",hash:A="",state:O=null,key:I="default"}=n,q=ne.useMemo(()=>{let B=ga(g,f);return B==null?null:{location:{pathname:B,search:y,hash:A,state:O,key:I},navigationType:s}},[f,g,y,A,O,I,s]);return Hr(q!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${A}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:ne.createElement(Fr.Provider,{value:p},ne.createElement(yh.Provider,{children:e,value:q}))}function Yw({children:r,location:e}){return Mw(Ap(r),e)}function Ap(r,e=[]){let n=[];return ne.Children.forEach(r,(s,o)=>{if(!ne.isValidElement(s))return;let u=[...e,o];if(s.type===ne.Fragment){n.push.apply(n,Ap(s.props.children,u));return}Lt(s.type===pr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ap(s.props.children,u)),n.push(f)}),n}var Yf="get",Qf="application/x-www-form-urlencoded";function Id(r){return r!=null&&typeof r.tagName=="string"}function Qw(r){return Id(r)&&r.tagName.toLowerCase()==="button"}function Xw(r){return Id(r)&&r.tagName.toLowerCase()==="form"}function Ww(r){return Id(r)&&r.tagName.toLowerCase()==="input"}function Zw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Jw(r,e){return r.button===0&&(!e||e==="_self")&&!Zw(r)}var zf=null;function eS(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var tS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(r){return r!=null&&!tS.has(r)?(Hr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qf}"`),null):r}function nS(r,e){let n,s,o,u,f;if(Xw(r)){let p=r.getAttribute("action");s=p?ga(p,e):null,n=r.getAttribute("method")||Yf,o=cp(r.getAttribute("enctype"))||Qf,u=new FormData(r)}else if(Qw(r)||Ww(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?ga(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Yf,o=cp(r.getAttribute("formenctype"))||cp(p.getAttribute("enctype"))||Qf,u=new FormData(p,r),!eS()){let{name:y,type:A,value:O}=r;if(A==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,O)}}else{if(Id(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yf,s=null,o=Qf,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function tg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function iS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await iS(u,n);return f.links?f.links():[]}return[]}));return uS(s.flat(1).filter(rS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let A=s.routes[g.route.id];if(!A||!A.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let O=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof O=="boolean")return O}return!0}):[]}function aS(r,e,{includeHydrateFallback:n}={}){return oS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function oS(r){return[...new Set(r)]}function lS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function uS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(lS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cS=new Set([100,101,204,205]);function hS(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ga(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function s0(){let r=ne.useContext(wu);return tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fS(){let r=ne.useContext(Cd);return tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ng=ne.createContext(void 0);ng.displayName="FrameworkContext";function a0(){let r=ne.useContext(ng);return tg(r,"You must render this element inside a <HydratedRouter> element"),r}function dS(r,e){let n=ne.useContext(ng),[s,o]=ne.useState(!1),[u,f]=ne.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:A,onTouchStart:O}=e,I=ne.useRef(null);ne.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let ee=W=>{W.forEach(ce=>{f(ce.isIntersecting)})},Q=new IntersectionObserver(ee,{threshold:.5});return I.current&&Q.observe(I.current),()=>{Q.disconnect()}}},[r]),ne.useEffect(()=>{if(s){let ee=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(ee)}}},[s]);let q=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:$c(p,q),onBlur:$c(g,B),onMouseEnter:$c(y,q),onMouseLeave:$c(A,B),onTouchStart:$c(O,q)}]:[!1,I,{}]}function $c(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function mS({page:r,...e}){let{router:n}=s0(),s=ne.useMemo(()=>QE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?ne.createElement(gS,{page:r,matches:s,...e}):null}function pS(r){let{manifest:e,routeModules:n}=a0(),[s,o]=ne.useState([]);return ne.useEffect(()=>{let u=!1;return sS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function gS({page:r,matches:e,...n}){let s=Io(),{manifest:o,routeModules:u}=a0(),{basename:f}=s0(),{loaderData:p,matches:g}=fS(),y=ne.useMemo(()=>Tv(r,e,g,o,s,"data"),[r,e,g,o,s]),A=ne.useMemo(()=>Tv(r,e,g,o,s,"assets"),[r,e,g,o,s]),O=ne.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,ee=!1;if(e.forEach(W=>{let ce=o.routes[W.route.id];!ce||!ce.hasLoader||(!y.some(me=>me.route.id===W.route.id)&&W.route.id in p&&u[W.route.id]?.shouldRevalidate||ce.hasClientLoader?ee=!0:B.add(W.route.id))}),B.size===0)return[];let Q=hS(r,f);return ee&&B.size>0&&Q.searchParams.set("_routes",e.filter(W=>B.has(W.route.id)).map(W=>W.route.id).join(",")),[Q.pathname+Q.search]},[f,p,s,o,y,e,r,u]),I=ne.useMemo(()=>aS(A,o),[A,o]),q=pS(A);return ne.createElement(ne.Fragment,null,O.map(B=>ne.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),I.map(B=>ne.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),q.map(({key:B,link:ee})=>ne.createElement("link",{key:B,...ee})))}function _S(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var o0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o0&&(window.__reactRouterVersion="7.6.3")}catch{}function yS({basename:r,children:e,window:n}){let s=ne.useRef();s.current==null&&(s.current=rw({window:n,v5Compat:!0}));let o=s.current,[u,f]=ne.useState({action:o.action,location:o.location}),p=ne.useCallback(g=>{ne.startTransition(()=>f(g))},[f]);return ne.useLayoutEffect(()=>o.listen(p),[o,p]),ne.createElement(Kw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var l0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fu=ne.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:A,viewTransition:O,...I},q){let{basename:B}=ne.useContext(Fr),ee=typeof y=="string"&&l0.test(y),Q,W=!1;if(typeof y=="string"&&ee&&(Q=y,o0))try{let N=new URL(window.location.href),P=y.startsWith("//")?new URL(N.protocol+y):new URL(y),U=ga(P.pathname,B);P.origin===N.origin&&U!=null?y=U+P.search+P.hash:W=!0}catch{Hr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ce=Nw(y,{relative:o}),[me,Ne,Se]=dS(s,I),$e=TS(y,{replace:f,state:p,target:g,preventScrollReset:A,relative:o,viewTransition:O});function k(N){e&&e(N),N.defaultPrevented||$e(N)}let D=ne.createElement("a",{...I,...Se,href:Q||ce,onClick:W||u?e:k,ref:_S(q,Ne),target:g,"data-discover":!ee&&n==="render"?"true":void 0});return me&&!ee?ne.createElement(ne.Fragment,null,D,ne.createElement(mS,{page:ce})):D});fu.displayName="Link";var au=ne.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},A){let O=vh(f,{relative:y.relative}),I=Io(),q=ne.useContext(Cd),{navigator:B,basename:ee}=ne.useContext(Fr),Q=q!=null&&RS(O)&&p===!0,W=B.encodeLocation?B.encodeLocation(O).pathname:O.pathname,ce=I.pathname,me=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;n||(ce=ce.toLowerCase(),me=me?me.toLowerCase():null,W=W.toLowerCase()),me&&ee&&(me=ga(me,ee)||me);const Ne=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Se=ce===W||!o&&ce.startsWith(W)&&ce.charAt(Ne)==="/",$e=me!=null&&(me===W||!o&&me.startsWith(W)&&me.charAt(W.length)==="/"),k={isActive:Se,isPending:$e,isTransitioning:Q},D=Se?e:void 0,N;typeof s=="function"?N=s(k):N=[s,Se?"active":null,$e?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(k):u;return ne.createElement(fu,{...y,"aria-current":D,className:N,ref:A,style:P,to:f,viewTransition:p},typeof g=="function"?g(k):g)});au.displayName="NavLink";var vS=ne.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Yf,action:p,onSubmit:g,relative:y,preventScrollReset:A,viewTransition:O,...I},q)=>{let B=wS(),ee=SS(p,{relative:y}),Q=f.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&l0.test(p),ce=me=>{if(g&&g(me),me.defaultPrevented)return;me.preventDefault();let Ne=me.nativeEvent.submitter,Se=Ne?.getAttribute("formmethod")||f;B(Ne||me.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:o,state:u,relative:y,preventScrollReset:A,viewTransition:O})};return ne.createElement("form",{ref:q,method:Q,action:ee,onSubmit:s?g:ce,...I,"data-discover":!W&&r==="render"?"true":void 0})});vS.displayName="Form";function ES(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u0(r){let e=ne.useContext(wu);return Lt(e,ES(r)),e}function TS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=n0(),g=Io(),y=vh(r,{relative:u});return ne.useCallback(A=>{if(Jw(A,e)){A.preventDefault();let O=n!==void 0?n:ah(g)===ah(y);p(r,{replace:O,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,y,n,s,e,r,o,u,f])}var bS=0,AS=()=>`__${String(++bS)}__`;function wS(){let{router:r}=u0("useSubmit"),{basename:e}=ne.useContext(Fr),n=Hw();return ne.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:g,body:y}=nS(s,e);if(o.navigate===!1){let A=o.fetcherKey||AS();await r.fetch(A,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function SS(r,{relative:e}={}){let{basename:n}=ne.useContext(Fr),s=ne.useContext(Ss);Lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vh(r||".",{relative:e})},f=Io();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(A=>A==="")){p.delete("index"),g.filter(O=>O).forEach(O=>p.append("index",O));let A=p.toString();u.search=A?`?${A}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:da([n,u.pathname])),ah(u)}function RS(r,e={}){let n=ne.useContext(JE);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=u0("useViewTransitionState"),o=vh(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ga(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ga(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ad(o.pathname,f)!=null||ad(o.pathname,u)!=null}[...cS];const dn={HOME:"/",PRODUCTS:"/products",LOGIN:"/login",REGISTER:"/register",CART:"/cart",PAYMENT:"/payment",PRODUCT_DETAILS:"/products/:id",DASHBOARD:"/dashboard",CONTACT_US:"/contact-us",ABOUT_US:"/about-us",RITUALS:"/rituals"},CS=()=>{};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},IS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,A=u>>2,O=(u&3)<<4|p>>4;let I=(p&15)<<2|y>>6,q=y&63;g||(q=64,f||(I=64)),s.push(n[A],n[O],n[I],n[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(c0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const O=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||O==null)throw new OS;const I=u<<2|p>>4;if(s.push(I),y!==64){const q=p<<4&240|y>>2;if(s.push(q),O!==64){const B=y<<6&192|O;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(r){const e=c0(r);return h0.encodeByteArray(e,!0)},od=function(r){return DS(r).replace(/\./g,"")},f0=function(r){try{return h0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>NS().__FIREBASE_DEFAULTS__,MS=()=>{if(typeof process>"u"||typeof bv>"u")return;const r=bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&f0(r[1]);return e&&JSON.parse(e)},Od=()=>{try{return CS()||xS()||MS()||PS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d0=r=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},VS=r=>{const e=d0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},m0=()=>{var r;return(r=Od())===null||r===void 0?void 0:r.config},p0=r=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[od(JSON.stringify(n)),od(JSON.stringify(f)),""].join(".")}const Jc={};function US(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?r.emulator.push(e):r.prod.push(e);return r}function jS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Av=!1;function _0(r,e){if(typeof window>"u"||typeof document>"u"||!Ru(window.location.host)||Jc[r]===e||Jc[r]||Av)return;Jc[r]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=US().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,q){I.setAttribute("width","24"),I.setAttribute("id",q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Av=!0,f()},I}function A(I,q){I.setAttribute("id",q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function O(){const I=jS(s),q=n("text"),B=document.getElementById(q)||document.createElement("span"),ee=n("learnmore"),Q=document.getElementById(ee)||document.createElement("a"),W=n("preprendIcon"),ce=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const me=I.element;p(me),A(Q,ee);const Ne=y();g(ce,W),me.append(ce,B,Q,Ne),document.body.appendChild(me)}u?(B.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function BS(){var r;const e=(r=Od())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GS(){const r=ti();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $S(){return!BS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KS(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FirebaseError";class Ta extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=QS,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eh.prototype.create)}}class Eh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?XS(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ta(o,p,s)}}function XS(r,e){return r.replace(WS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const WS=/\{\$([^}]+)}/g;function ZS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function hl(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(wv(u)&&wv(f)){if(!hl(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function wv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function JS(r,e){const n=new e1(r,e);return n.subscribe.bind(n)}class e1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");t1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hp),o.error===void 0&&(o.error=hp),o.complete===void 0&&(o.complete=hp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r){return r&&r._delegate?r._delegate:r}class fl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r1(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i1(r){return r===ll?void 0:r}function r1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(at||(at={}));const a1={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},o1=at.INFO,l1={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},u1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=l1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=o1,this._logHandler=u1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const c1=(r,e)=>e.some(n=>r instanceof n);let Sv,Rv;function h1(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f1(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y0=new WeakMap,wp=new WeakMap,v0=new WeakMap,fp=new WeakMap,rg=new WeakMap;function d1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(go(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&y0.set(n,r)}).catch(()=>{}),rg.set(e,r),e}function m1(r){if(wp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wp.set(r,e)}let Sp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||v0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function p1(r){Sp=r(Sp)}function g1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dp(this),e,...n);return v0.set(s,e.sort?e.sort():[e]),go(s)}:f1().includes(r)?function(...e){return r.apply(dp(this),e),go(y0.get(this))}:function(...e){return go(r.apply(dp(this),e))}}function _1(r){return typeof r=="function"?g1(r):(r instanceof IDBTransaction&&m1(r),c1(r,h1())?new Proxy(r,Sp):r)}function go(r){if(r instanceof IDBRequest)return d1(r);if(fp.has(r))return fp.get(r);const e=_1(r);return e!==r&&(fp.set(r,e),rg.set(e,r)),e}const dp=r=>rg.get(r);function y1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=go(f);return s&&f.addEventListener("upgradeneeded",g=>{s(go(f.result),g.oldVersion,g.newVersion,go(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const v1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],mp=new Map;function Cv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=E1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||v1.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return mp.set(e,u),u}p1(r=>({...r,get:(e,n,s)=>Cv(e,n)||r.get(e,n,s),has:(e,n)=>!!Cv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function b1(r){const e=r.getComponent();return e?.type==="VERSION"}const Rp="@firebase/app",Iv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new ig("@firebase/app"),A1="@firebase/app-compat",w1="@firebase/analytics-compat",S1="@firebase/analytics",R1="@firebase/app-check-compat",C1="@firebase/app-check",I1="@firebase/auth",O1="@firebase/auth-compat",D1="@firebase/database",N1="@firebase/data-connect",x1="@firebase/database-compat",M1="@firebase/functions",P1="@firebase/functions-compat",V1="@firebase/installations",k1="@firebase/installations-compat",L1="@firebase/messaging",U1="@firebase/messaging-compat",j1="@firebase/performance",z1="@firebase/performance-compat",B1="@firebase/remote-config",H1="@firebase/remote-config-compat",q1="@firebase/storage",F1="@firebase/storage-compat",G1="@firebase/firestore",$1="@firebase/ai",K1="@firebase/firestore-compat",Y1="firebase",Q1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",X1={[Rp]:"fire-core",[A1]:"fire-core-compat",[S1]:"fire-analytics",[w1]:"fire-analytics-compat",[C1]:"fire-app-check",[R1]:"fire-app-check-compat",[I1]:"fire-auth",[O1]:"fire-auth-compat",[D1]:"fire-rtdb",[N1]:"fire-data-connect",[x1]:"fire-rtdb-compat",[M1]:"fire-fn",[P1]:"fire-fn-compat",[V1]:"fire-iid",[k1]:"fire-iid-compat",[L1]:"fire-fcm",[U1]:"fire-fcm-compat",[j1]:"fire-perf",[z1]:"fire-perf-compat",[B1]:"fire-rc",[H1]:"fire-rc-compat",[q1]:"fire-gcs",[F1]:"fire-gcs-compat",[G1]:"fire-fst",[K1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[Y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,W1=new Map,Ip=new Map;function Ov(r,e){try{r.container.addComponent(e)}catch(n){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _u(r){const e=r.name;if(Ip.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,r);for(const n of ld.values())Ov(n,r);for(const n of W1.values())Ov(n,r);return!0}function sg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function gr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Eh("app","Firebase",Z1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=Q1;function E0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw _o.create("bad-app-name",{appName:String(o)});if(n||(n=m0()),!n)throw _o.create("no-options");const u=ld.get(o);if(u){if(hl(n,u.options)&&hl(s,u.config))return u;throw _o.create("duplicate-app",{appName:o})}const f=new s1(o);for(const g of Ip.values())f.addComponent(g);const p=new J1(n,s,f);return ld.set(o,p),p}function T0(r=Cp){const e=ld.get(r);if(!e&&r===Cp&&m0())return E0();if(!e)throw _o.create("no-app",{appName:r});return e}function yo(r,e,n){var s;let o=(s=X1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(p.join(" "));return}_u(new fl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firebase-heartbeat-database",tR=1,oh="firebase-heartbeat-store";let pp=null;function b0(){return pp||(pp=y1(eR,tR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(r=>{throw _o.create("idb-open",{originalErrorMessage:r.message})})),pp}async function nR(r){try{const n=(await b0()).transaction(oh),s=await n.objectStore(oh).get(A0(r));return await n.done,s}catch(e){if(e instanceof Ta)_a.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e?.message});_a.warn(n.message)}}}async function Dv(r,e){try{const s=(await b0()).transaction(oh,"readwrite");await s.objectStore(oh).put(e,A0(r)),await s.done}catch(n){if(n instanceof Ta)_a.warn(n.message);else{const s=_o.create("idb-set",{originalErrorMessage:n?.message});_a.warn(s.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1024,rR=30;class sR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Nv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>rR){const f=lR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_a.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nv(),{heartbeatsToSend:s,unsentEntries:o}=aR(this._heartbeatsCache.heartbeats),u=od(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _a.warn(n),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function aR(r,e=iR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KS()?YS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function xv(r){return od(JSON.stringify({version:2,heartbeats:r})).length}function lR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r){_u(new fl("platform-logger",e=>new T1(e),"PRIVATE")),_u(new fl("heartbeat",e=>new sR(e),"PRIVATE")),yo(Rp,Iv,r),yo(Rp,Iv,"esm2017"),yo("fire-js","")}uR("");function ag(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cR=w0,S0=new Eh("auth","Firebase",w0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new ig("@firebase/auth");function hR(r,...e){ud.logLevel<=at.WARN&&ud.warn(`Auth (${Cu}): ${r}`,...e)}function Xf(r,...e){ud.logLevel<=at.ERROR&&ud.error(`Auth (${Cu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(r,...e){throw og(r,...e)}function _s(r,...e){return og(r,...e)}function R0(r,e,n){const s=Object.assign(Object.assign({},cR()),{[e]:n});return new Eh("auth","Firebase",s).create(e,{appName:r.name})}function ma(r){return R0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return S0.create(r,...e)}function ze(r,e,...n){if(!r)throw og(e,...n)}function ha(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xf(e),new Error(e)}function ya(r,e){r||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function fR(){return Mv()==="http:"||Mv()==="https:"}function Mv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fR()||qS()||"connection"in navigator)?navigator.onLine:!0}function mR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ya(n>e,"Short delay should be less than long delay!"),this.isMobile=zS()||FS()}get(){return dR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e){ya(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_R=new bh(3e4,6e4);function Oo(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Do(r,e,n,s,o={}){return I0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Th(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return HS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ru(r.emulatorConfig.host)&&(y.credentials="include"),C0.fetch()(await O0(r,r.config.apiHost,n,p),y)})}async function I0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},pR),e);try{const o=new vR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bf(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bf(r,"user-disabled",f);const A=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R0(r,A,y);qr(r,A)}}catch(o){if(o instanceof Ta)throw o;qr(r,"network-request-failed",{message:String(o)})}}async function Ah(r,e,n,s,o={}){const u=await Do(r,e,n,s,o);return"mfaPendingCredential"in u&&qr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function O0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`;return gR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function yR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_s(this.auth,"network-request-failed")),_R.get())})}}function Bf(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=_s(r,e,s);return o.customData._tokenResponse=n,o}function Pv(r){return r!==void 0&&r.enterprise!==void 0}class ER{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TR(r,e){return Do(r,"GET","/v2/recaptchaConfig",Oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(r,e){return Do(r,"POST","/v1/accounts:delete",e)}async function cd(r,e){return Do(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AR(r,e=!1){const n=Gi(r),s=await n.getIdToken(e),o=ug(s);ze(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:eh(gp(o.auth_time)),issuedAtTime:eh(gp(o.iat)),expirationTime:eh(gp(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gp(r){return Number(r)*1e3}function ug(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{const o=f0(n);return o?JSON.parse(o):(Xf("Failed to decode base64 JWT payload"),null)}catch(o){return Xf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Vv(r){const e=ug(r);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ta&&wR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(r){var e;const n=r.auth,s=await r.getIdToken(),o=await lh(r,cd(n,{idToken:s}));ze(o?.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?D0(u.providerUserInfo):[],p=CR(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!p?.length,A=g?y:!1,O={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Dp(u.createdAt,u.lastLoginAt),isAnonymous:A};Object.assign(r,O)}async function RR(r){const e=Gi(r);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function D0(r){return r.map(e=>{var{providerId:n}=e,s=ag(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(r,e){const n=await I0(r,{},async()=>{const s=Th({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await O0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Ru(r.emulatorConfig.host)&&(g.credentials="include"),C0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OR(r,e){return Do(r,"POST","/v2/accounts:revokeToken",Oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=Vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await IR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new du;return s&&(ze(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ze(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ze(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(r,e){ze(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Dp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await lh(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AR(this,e)}reload(){return RR(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(ma(this.auth));const e=await this.getIdToken();return await lh(this,bR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,g,y,A;const O=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,q=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=n.photoURL)!==null&&f!==void 0?f:void 0,ee=(p=n.tenantId)!==null&&p!==void 0?p:void 0,Q=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,W=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ce=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:me,emailVerified:Ne,isAnonymous:Se,providerData:$e,stsTokenManager:k}=n;ze(me&&k,e,"internal-error");const D=du.fromJSON(this.name,k);ze(typeof me=="string",e,"internal-error"),uo(O,e.name),uo(I,e.name),ze(typeof Ne=="boolean",e,"internal-error"),ze(typeof Se=="boolean",e,"internal-error"),uo(q,e.name),uo(B,e.name),uo(ee,e.name),uo(Q,e.name),uo(W,e.name),uo(ce,e.name);const N=new zr({uid:me,auth:e,email:I,emailVerified:Ne,displayName:O,isAnonymous:Se,photoURL:B,phoneNumber:q,tenantId:ee,stsTokenManager:D,createdAt:W,lastLoginAt:ce});return $e&&Array.isArray($e)&&(N.providerData=$e.map(P=>Object.assign({},P))),Q&&(N._redirectEventId=Q),N}static async _fromIdTokenResponse(e,n,s=!1){const o=new du;o.updateFromServerResponse(n);const u=new zr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await hd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ze(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?D0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new du;p.updateFromIdToken(s);const g=new zr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function fa(r){ya(r instanceof Function,"Expected a class definition");let e=kv.get(r);return e?(ya(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,kv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}N0.type="NONE";const Lv=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r,e,n){return`firebase:${r}:${e}:${n}`}class mu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cd(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mu(fa(Lv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||fa(Lv);const f=Wf(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const A=await y._get(f);if(A){let O;if(typeof A=="string"){const I=await cd(e,{idToken:A}).catch(()=>{});if(!I)break;O=await zr._fromGetAccountInfoResponse(e,I,A)}else O=zr._fromJSON(e,A);y!==u&&(p=O),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new mu(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new mu(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L0(e))return"Blackberry";if(U0(e))return"Webos";if(M0(e))return"Safari";if((e.includes("chrome/")||P0(e))&&!e.includes("edge/"))return"Chrome";if(k0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function x0(r=ti()){return/firefox\//i.test(r)}function M0(r=ti()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P0(r=ti()){return/crios\//i.test(r)}function V0(r=ti()){return/iemobile/i.test(r)}function k0(r=ti()){return/android/i.test(r)}function L0(r=ti()){return/blackberry/i.test(r)}function U0(r=ti()){return/webos/i.test(r)}function cg(r=ti()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DR(r=ti()){var e;return cg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NR(){return GS()&&document.documentMode===10}function j0(r=ti()){return cg(r)||k0(r)||U0(r)||L0(r)||/windows phone/i.test(r)||V0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e=[]){let n;switch(r){case"Browser":n=Uv(ti());break;case"Worker":n=`${Uv(ti())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(r,e={}){return Do(r,"GET","/v2/passwordPolicy",Oo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=6;class VR{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:PR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fa(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await mu.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cd(this,{idToken:e}),s=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o?._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(ma(this));const n=e?Gi(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MR(this),n=new VR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await OR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fa(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await mu.create(this,[fa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&hR(`Error while retrieving App Check token: ${n.error}`),n?.token}}function _l(r){return Gi(r)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=JS(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LR(r){Dd=r}function B0(r){return Dd.loadJS(r)}function UR(){return Dd.recaptchaEnterpriseScript}function jR(){return Dd.gapiScript}function zR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class BR{constructor(){this.enterprise=new HR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qR="recaptcha-enterprise",H0="NO_RECAPTCHA";class FR{constructor(e){this.type=qR,this.auth=_l(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{TR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new ER(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;Pv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(H0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&Pv(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=UR();g.length!==0&&(g+=p),B0(g).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function zv(r,e,n,s=!1,o=!1){const u=new FR(r);let f;if(o)f=H0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Np(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await zv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await zv(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r,e){const n=sg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(hl(u,e??{}))return o;qr(o,"already-initialized")}return n.initialize({options:e})}function $R(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fa);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function KR(r,e,n){const s=_l(r);ze(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=q0(e),{host:f,port:p}=YR(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},A=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ze(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ze(hl(y,s.config.emulator)&&hl(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Ru(f)?(g0(`${u}//${f}${g}`),_0("Auth",!0)):QR()}function q0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function YR(r){const e=q0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Bv(f)}}}function Bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,n){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function XR(r,e){return Do(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(r,e){return Ah(r,"POST","/v1/accounts:signInWithPassword",Oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(r,e){return Ah(r,"POST","/v1/accounts:signInWithEmailLink",Oo(r,e))}async function JR(r,e){return Ah(r,"POST","/v1/accounts:signInWithEmailLink",Oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends hg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,n,"signInWithPassword",WR);case"emailLink":return ZR(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,s,"signUpPassword",XR);case"emailLink":return JR(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(r,e){return Ah(r,"POST","/v1/accounts:signInWithIdp",Oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="http://localhost";class dl extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=ag(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new dl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return pu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,pu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pu(e,n)}buildRequest(){const e={requestUri:eC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Th(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nC(r){const e=Kc(Yc(r)).link,n=e?Kc(Yc(e)).deep_link_id:null,s=Kc(Yc(r)).deep_link_id;return(s?Kc(Yc(s)).link:null)||s||n||e||r}class fg{constructor(e){var n,s,o,u,f,p;const g=Kc(Yc(e)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,A=(s=g.oobCode)!==null&&s!==void 0?s:null,O=tC((o=g.mode)!==null&&o!==void 0?o:null);ze(y&&A&&O,"argument-error"),this.apiKey=y,this.operation=O,this.code=A,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=nC(e);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.providerId=Iu.PROVIDER_ID}static credential(e,n){return uh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fg.parseLink(n);return ze(s,"argument-error"),uh._fromEmailAndCode(e,s.code,s.tenantId)}}Iu.PROVIDER_ID="password";Iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends F0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends wh{constructor(){super("facebook.com")}static credential(e){return dl._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return dl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ho.credential(n,s)}catch{return null}}}ho.GOOGLE_SIGN_IN_METHOD="google.com";ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends wh{constructor(){super("github.com")}static credential(e){return dl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends wh{constructor(){super("twitter.com")}static credential(e,n){return dl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return mo.credential(n,s)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e){return Ah(r,"POST","/v1/accounts:signUp",Oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await zr._fromIdTokenResponse(e,s,o),f=Hv(s);return new ml({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Hv(s);return new ml({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Hv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Ta{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new fd(e,n,s,o)}}function G0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(r,u,e,s):u})}async function rC(r,e,n=!1){const s=await lh(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ml._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e,n=!1){const{auth:s}=r;if(gr(s.app))return Promise.reject(ma(s));const o="reauthenticate";try{const u=await lh(r,G0(s,o,e,r),n);ze(u.idToken,s,"internal-error");const f=ug(u.idToken);ze(f,s,"internal-error");const{sub:p}=f;return ze(r.uid===p,s,"user-mismatch"),ml._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(r,e,n=!1){if(gr(r.app))return Promise.reject(ma(r));const s="signIn",o=await G0(r,s,e),u=await ml._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function aC(r,e){return $0(_l(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(r){const e=_l(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oC(r,e,n){if(gr(r.app))return Promise.reject(ma(r));const s=_l(r),f=await Np(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&K0(r),g}),p=await ml._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function lC(r,e,n){return gr(r.app)?Promise.reject(ma(r)):aC(Gi(r),Iu.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&K0(r),s})}function uC(r,e,n,s){return Gi(r).onIdTokenChanged(e,n,s)}function cC(r,e,n){return Gi(r).beforeAuthStateChanged(e,n)}function hC(r,e,n,s){return Gi(r).onAuthStateChanged(e,n,s)}function fC(r){return Gi(r).signOut()}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=1e3,mC=10;class Q0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);NR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q0.type="LOCAL";const pC=Q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}X0.type="SESSION";const W0=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Nd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await gC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=dg("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(O){const I=O;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(A),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function yC(r){ys().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function vC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EC(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function TC(){return Z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firebaseLocalStorageDb",bC=1,md="firebaseLocalStorage",eT="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xd(r,e){return r.transaction([md],e?"readwrite":"readonly").objectStore(md)}function AC(){const r=indexedDB.deleteDatabase(J0);return new Sh(r).toPromise()}function xp(){const r=indexedDB.open(J0,bC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(md,{keyPath:eT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(md)?e(s):(s.close(),await AC(),e(await xp()))})})}async function qv(r,e,n){const s=xd(r,!0).put({[eT]:e,value:n});return new Sh(s).toPromise()}async function wC(r,e){const n=xd(r,!1).get(e),s=await new Sh(n).toPromise();return s===void 0?null:s.value}function Fv(r,e){const n=xd(r,!0).delete(e);return new Sh(n).toPromise()}const SC=800,RC=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(TC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vC(),!this.activeServiceWorker)return;this.sender=new _C(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await qv(e,dd,"1"),await Fv(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>wC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xd(o,!1).getAll();return new Sh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const CC=tT;new bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r,e){return e?fa(e):(ze(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OC(r){return $0(r.auth,new mg(r),r.bypassAuthState)}function DC(r){const{auth:e,user:n}=r;return ze(n,e,"internal-error"),sC(n,new mg(r),r.bypassAuthState)}async function NC(r){const{auth:e,user:n}=r;return ze(n,e,"internal-error"),rC(n,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return NC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:qr(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new bh(2e3,1e4);class hu extends nT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ya(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xC.get())};e()}}hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="pendingRedirect",Zf=new Map;class PC extends nT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const s=await VC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VC(r,e){const n=UC(e),s=LC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kC(r,e){Zf.set(r._key(),e)}function LC(r){return fa(r._redirectPersistence)}function UC(r){return Wf(MC,r.config.apiKey,r.name)}async function jC(r,e,n=!1){if(gr(r.app))return Promise.reject(ma(r));const s=_l(r),o=IC(s,e),f=await new PC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=10*60*1e3;class BC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!iT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(_s(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function iT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function HC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(r,e={}){return Do(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GC=/^https?/;async function $C(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qC(r);for(const n of e)try{if(KC(n))return}catch{}qr(r,"unauthorized-domain")}function KC(r){const e=Op(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!GC.test(n))return!1;if(FC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new bh(3e4,6e4);function $v(){const r=ys().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function QC(r){return new Promise((e,n)=>{var s,o,u;function f(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(_s(r,"network-request-failed"))},timeout:YC.get()})}if(!((o=(s=ys().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ys().gapi)===null||u===void 0)&&u.load)f();else{const p=zR("iframefcb");return ys()[p]=()=>{gapi.load?f():n(_s(r,"network-request-failed"))},B0(`${jR()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function XC(r){return Jf=Jf||QC(r),Jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new bh(5e3,15e3),ZC="__/auth/iframe",JC="emulator/auth/iframe",eI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nI(r){const e=r.config;ze(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?lg(e,JC):`https://${r.config.authDomain}/${ZC}`,s={apiKey:e.apiKey,appName:r.name,v:Cu},o=tI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Th(s).slice(1)}`}async function iI(r){const e=await XC(r),n=ys().gapi;return ze(n,r,"internal-error"),e.open({where:document.body,url:nI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=_s(r,"network-request-failed"),p=ys().setTimeout(()=>{u(f)},WC.get());function g(){ys().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sI=500,aI=600,oI="_blank",lI="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uI(r,e,n,s=sI,o=aI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},rI),{width:s.toString(),height:o.toString(),top:u,left:f}),y=ti().toLowerCase();n&&(p=P0(y)?oI:n),x0(y)&&(e=e||lI,g.scrollbars="yes");const A=Object.entries(g).reduce((I,[q,B])=>`${I}${q}=${B},`,"");if(DR(y)&&p!=="_self")return cI(e||"",p),new Kv(null);const O=window.open(e||"",p,A);ze(O,r,"popup-blocked");try{O.focus()}catch{}return new Kv(O)}function cI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__/auth/handler",fI="emulator/auth/handler",dI=encodeURIComponent("fac");async function Yv(r,e,n,s,o,u){ze(r.config.authDomain,r,"auth-domain-config-required"),ze(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Cu,eventId:o};if(e instanceof F0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",ZS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,O]of Object.entries({}))f[A]=O}if(e instanceof wh){const A=e.getScopes().filter(O=>O!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await r._getAppCheckToken(),y=g?`#${dI}=${encodeURIComponent(g)}`:"";return`${mI(r)}?${Th(p).slice(1)}${y}`}function mI({config:r}){return r.emulator?lg(r,fI):`https://${r.authDomain}/${hI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class pI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=jC,this._overrideRedirectResult=kC}async _openPopup(e,n,s,o){var u;ya((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Yv(e,n,s,Op(),o);return uI(e,f,dg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Yv(e,n,s,Op(),o);return yC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ya(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iI(e),s=new BC(e);return n.register("authEvent",o=>(ze(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[_p];f!==void 0&&n(!!f),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$C(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j0()||M0()||cg()}}const gI=pI;var Qv="@firebase/auth",Xv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vI(r){_u(new fl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ze(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},y=new kR(s,o,u,g);return $R(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_u(new fl("auth-internal",e=>{const n=_l(e.getProvider("auth").getImmediate());return(s=>new _I(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(Qv,Xv,yI(r)),yo(Qv,Xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=5*60,TI=p0("authIdTokenMaxAge")||EI;let Wv=null;const bI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>TI)return;const o=n?.token;Wv!==o&&(Wv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AI(r=T0()){const e=sg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=GR(r,{popupRedirectResolver:gI,persistence:[CC,pC,W0]}),s=p0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=bI(u.toString());cC(n,f,()=>f(n.currentUser)),uC(n,p=>f(p))}}const o=d0("auth");return o&&KR(n,`http://${o}`),n}function wI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}LR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=_s("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",wI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vI("Browser");var SI="firebase",RI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(SI,RI,"app");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vo,rT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,D){function N(){}N.prototype=D.prototype,k.D=D.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(P,U,H){for(var M=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)M[sn-2]=arguments[sn];return D.prototype[U].apply(P,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,D,N){N||(N=0);var P=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)P[U]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(U=0;16>U;++U)P[U]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=k.g[0],N=k.g[1],U=k.g[2];var H=k.g[3],M=D+(H^N&(U^H))+P[0]+3614090360&4294967295;D=N+(M<<7&4294967295|M>>>25),M=H+(U^D&(N^U))+P[1]+3905402710&4294967295,H=D+(M<<12&4294967295|M>>>20),M=U+(N^H&(D^N))+P[2]+606105819&4294967295,U=H+(M<<17&4294967295|M>>>15),M=N+(D^U&(H^D))+P[3]+3250441966&4294967295,N=U+(M<<22&4294967295|M>>>10),M=D+(H^N&(U^H))+P[4]+4118548399&4294967295,D=N+(M<<7&4294967295|M>>>25),M=H+(U^D&(N^U))+P[5]+1200080426&4294967295,H=D+(M<<12&4294967295|M>>>20),M=U+(N^H&(D^N))+P[6]+2821735955&4294967295,U=H+(M<<17&4294967295|M>>>15),M=N+(D^U&(H^D))+P[7]+4249261313&4294967295,N=U+(M<<22&4294967295|M>>>10),M=D+(H^N&(U^H))+P[8]+1770035416&4294967295,D=N+(M<<7&4294967295|M>>>25),M=H+(U^D&(N^U))+P[9]+2336552879&4294967295,H=D+(M<<12&4294967295|M>>>20),M=U+(N^H&(D^N))+P[10]+4294925233&4294967295,U=H+(M<<17&4294967295|M>>>15),M=N+(D^U&(H^D))+P[11]+2304563134&4294967295,N=U+(M<<22&4294967295|M>>>10),M=D+(H^N&(U^H))+P[12]+1804603682&4294967295,D=N+(M<<7&4294967295|M>>>25),M=H+(U^D&(N^U))+P[13]+4254626195&4294967295,H=D+(M<<12&4294967295|M>>>20),M=U+(N^H&(D^N))+P[14]+2792965006&4294967295,U=H+(M<<17&4294967295|M>>>15),M=N+(D^U&(H^D))+P[15]+1236535329&4294967295,N=U+(M<<22&4294967295|M>>>10),M=D+(U^H&(N^U))+P[1]+4129170786&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^U&(D^N))+P[6]+3225465664&4294967295,H=D+(M<<9&4294967295|M>>>23),M=U+(D^N&(H^D))+P[11]+643717713&4294967295,U=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(U^H))+P[0]+3921069994&4294967295,N=U+(M<<20&4294967295|M>>>12),M=D+(U^H&(N^U))+P[5]+3593408605&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^U&(D^N))+P[10]+38016083&4294967295,H=D+(M<<9&4294967295|M>>>23),M=U+(D^N&(H^D))+P[15]+3634488961&4294967295,U=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(U^H))+P[4]+3889429448&4294967295,N=U+(M<<20&4294967295|M>>>12),M=D+(U^H&(N^U))+P[9]+568446438&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^U&(D^N))+P[14]+3275163606&4294967295,H=D+(M<<9&4294967295|M>>>23),M=U+(D^N&(H^D))+P[3]+4107603335&4294967295,U=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(U^H))+P[8]+1163531501&4294967295,N=U+(M<<20&4294967295|M>>>12),M=D+(U^H&(N^U))+P[13]+2850285829&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^U&(D^N))+P[2]+4243563512&4294967295,H=D+(M<<9&4294967295|M>>>23),M=U+(D^N&(H^D))+P[7]+1735328473&4294967295,U=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(U^H))+P[12]+2368359562&4294967295,N=U+(M<<20&4294967295|M>>>12),M=D+(N^U^H)+P[5]+4294588738&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^U)+P[8]+2272392833&4294967295,H=D+(M<<11&4294967295|M>>>21),M=U+(H^D^N)+P[11]+1839030562&4294967295,U=H+(M<<16&4294967295|M>>>16),M=N+(U^H^D)+P[14]+4259657740&4294967295,N=U+(M<<23&4294967295|M>>>9),M=D+(N^U^H)+P[1]+2763975236&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^U)+P[4]+1272893353&4294967295,H=D+(M<<11&4294967295|M>>>21),M=U+(H^D^N)+P[7]+4139469664&4294967295,U=H+(M<<16&4294967295|M>>>16),M=N+(U^H^D)+P[10]+3200236656&4294967295,N=U+(M<<23&4294967295|M>>>9),M=D+(N^U^H)+P[13]+681279174&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^U)+P[0]+3936430074&4294967295,H=D+(M<<11&4294967295|M>>>21),M=U+(H^D^N)+P[3]+3572445317&4294967295,U=H+(M<<16&4294967295|M>>>16),M=N+(U^H^D)+P[6]+76029189&4294967295,N=U+(M<<23&4294967295|M>>>9),M=D+(N^U^H)+P[9]+3654602809&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^U)+P[12]+3873151461&4294967295,H=D+(M<<11&4294967295|M>>>21),M=U+(H^D^N)+P[15]+530742520&4294967295,U=H+(M<<16&4294967295|M>>>16),M=N+(U^H^D)+P[2]+3299628645&4294967295,N=U+(M<<23&4294967295|M>>>9),M=D+(U^(N|~H))+P[0]+4096336452&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~U))+P[7]+1126891415&4294967295,H=D+(M<<10&4294967295|M>>>22),M=U+(D^(H|~N))+P[14]+2878612391&4294967295,U=H+(M<<15&4294967295|M>>>17),M=N+(H^(U|~D))+P[5]+4237533241&4294967295,N=U+(M<<21&4294967295|M>>>11),M=D+(U^(N|~H))+P[12]+1700485571&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~U))+P[3]+2399980690&4294967295,H=D+(M<<10&4294967295|M>>>22),M=U+(D^(H|~N))+P[10]+4293915773&4294967295,U=H+(M<<15&4294967295|M>>>17),M=N+(H^(U|~D))+P[1]+2240044497&4294967295,N=U+(M<<21&4294967295|M>>>11),M=D+(U^(N|~H))+P[8]+1873313359&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~U))+P[15]+4264355552&4294967295,H=D+(M<<10&4294967295|M>>>22),M=U+(D^(H|~N))+P[6]+2734768916&4294967295,U=H+(M<<15&4294967295|M>>>17),M=N+(H^(U|~D))+P[13]+1309151649&4294967295,N=U+(M<<21&4294967295|M>>>11),M=D+(U^(N|~H))+P[4]+4149444226&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~U))+P[11]+3174756917&4294967295,H=D+(M<<10&4294967295|M>>>22),M=U+(D^(H|~N))+P[2]+718787259&4294967295,U=H+(M<<15&4294967295|M>>>17),M=N+(H^(U|~D))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+D&4294967295,k.g[1]=k.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+H&4294967295}s.prototype.u=function(k,D){D===void 0&&(D=k.length);for(var N=D-this.blockSize,P=this.B,U=this.h,H=0;H<D;){if(U==0)for(;H<=N;)o(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<D;)if(P[U++]=k.charCodeAt(H++),U==this.blockSize){o(this,P),U=0;break}}else for(;H<D;)if(P[U++]=k[H++],U==this.blockSize){o(this,P),U=0;break}}this.h=U,this.o+=D},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var D=1;D<k.length-8;++D)k[D]=0;var N=8*this.o;for(D=k.length-8;D<k.length;++D)k[D]=N&255,N/=256;for(this.u(k),k=Array(16),D=N=0;4>D;++D)for(var P=0;32>P;P+=8)k[N++]=this.g[D]>>>P&255;return k};function u(k,D){var N=p;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=D(k)}function f(k,D){this.h=D;for(var N=[],P=!0,U=k.length-1;0<=U;U--){var H=k[U]|0;P&&H==D||(N[U]=H,P=!1)}this.g=N}var p={};function g(k){return-128<=k&&128>k?u(k,function(D){return new f([D|0],0>D?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return O;if(0>k)return Q(y(-k));for(var D=[],N=1,P=0;k>=N;P++)D[P]=k/N|0,N*=4294967296;return new f(D,0)}function A(k,D){if(k.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k.charAt(0)=="-")return Q(A(k.substring(1),D));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=y(Math.pow(D,8)),P=O,U=0;U<k.length;U+=8){var H=Math.min(8,k.length-U),M=parseInt(k.substring(U,U+H),D);8>H?(H=y(Math.pow(D,H)),P=P.j(H).add(y(M))):(P=P.j(N),P=P.add(y(M)))}return P}var O=g(0),I=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(ee(this))return-Q(this).m();for(var k=0,D=1,N=0;N<this.g.length;N++){var P=this.i(N);k+=(0<=P?P:4294967296+P)*D,D*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(B(this))return"0";if(ee(this))return"-"+Q(this).toString(k);for(var D=y(Math.pow(k,6)),N=this,P="";;){var U=Ne(N,D).g;N=W(N,U.j(D));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=U,B(N))return H+P;for(;6>H.length;)H="0"+H;P=H+P}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function B(k){if(k.h!=0)return!1;for(var D=0;D<k.g.length;D++)if(k.g[D]!=0)return!1;return!0}function ee(k){return k.h==-1}r.l=function(k){return k=W(this,k),ee(k)?-1:B(k)?0:1};function Q(k){for(var D=k.g.length,N=[],P=0;P<D;P++)N[P]=~k.g[P];return new f(N,~k.h).add(I)}r.abs=function(){return ee(this)?Q(this):this},r.add=function(k){for(var D=Math.max(this.g.length,k.g.length),N=[],P=0,U=0;U<=D;U++){var H=P+(this.i(U)&65535)+(k.i(U)&65535),M=(H>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);P=M>>>16,H&=65535,M&=65535,N[U]=M<<16|H}return new f(N,N[N.length-1]&-2147483648?-1:0)};function W(k,D){return k.add(Q(D))}r.j=function(k){if(B(this)||B(k))return O;if(ee(this))return ee(k)?Q(this).j(Q(k)):Q(Q(this).j(k));if(ee(k))return Q(this.j(Q(k)));if(0>this.l(q)&&0>k.l(q))return y(this.m()*k.m());for(var D=this.g.length+k.g.length,N=[],P=0;P<2*D;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<k.g.length;U++){var H=this.i(P)>>>16,M=this.i(P)&65535,sn=k.i(U)>>>16,Mt=k.i(U)&65535;N[2*P+2*U]+=M*Mt,ce(N,2*P+2*U),N[2*P+2*U+1]+=H*Mt,ce(N,2*P+2*U+1),N[2*P+2*U+1]+=M*sn,ce(N,2*P+2*U+1),N[2*P+2*U+2]+=H*sn,ce(N,2*P+2*U+2)}for(P=0;P<D;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=D;P<2*D;P++)N[P]=0;return new f(N,0)};function ce(k,D){for(;(k[D]&65535)!=k[D];)k[D+1]+=k[D]>>>16,k[D]&=65535,D++}function me(k,D){this.g=k,this.h=D}function Ne(k,D){if(B(D))throw Error("division by zero");if(B(k))return new me(O,O);if(ee(k))return D=Ne(Q(k),D),new me(Q(D.g),Q(D.h));if(ee(D))return D=Ne(k,Q(D)),new me(Q(D.g),D.h);if(30<k.g.length){if(ee(k)||ee(D))throw Error("slowDivide_ only works with positive integers.");for(var N=I,P=D;0>=P.l(k);)N=Se(N),P=Se(P);var U=$e(N,1),H=$e(P,1);for(P=$e(P,2),N=$e(N,2);!B(P);){var M=H.add(P);0>=M.l(k)&&(U=U.add(N),H=M),P=$e(P,1),N=$e(N,1)}return D=W(k,U.j(D)),new me(U,D)}for(U=O;0<=k.l(D);){for(N=Math.max(1,Math.floor(k.m()/D.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),H=y(N),M=H.j(D);ee(M)||0<M.l(k);)N-=P,H=y(N),M=H.j(D);B(H)&&(H=I),U=U.add(H),k=W(k,M)}return new me(U,k)}r.A=function(k){return Ne(this,k).h},r.and=function(k){for(var D=Math.max(this.g.length,k.g.length),N=[],P=0;P<D;P++)N[P]=this.i(P)&k.i(P);return new f(N,this.h&k.h)},r.or=function(k){for(var D=Math.max(this.g.length,k.g.length),N=[],P=0;P<D;P++)N[P]=this.i(P)|k.i(P);return new f(N,this.h|k.h)},r.xor=function(k){for(var D=Math.max(this.g.length,k.g.length),N=[],P=0;P<D;P++)N[P]=this.i(P)^k.i(P);return new f(N,this.h^k.h)};function Se(k){for(var D=k.g.length+1,N=[],P=0;P<D;P++)N[P]=k.i(P)<<1|k.i(P-1)>>>31;return new f(N,k.h)}function $e(k,D){var N=D>>5;D%=32;for(var P=k.g.length-N,U=[],H=0;H<P;H++)U[H]=0<D?k.i(H+N)>>>D|k.i(H+N+1)<<32-D:k.i(H+N);return new f(U,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,rT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=A,vo=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sT,Qc,aT,ed,Mp,oT,lT,uT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var E=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var G=c[R];if(!(G in E))break e;E=E[G]}c=c[c.length-1],R=E[c],_=_(R),_!=R&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,R=!1,G={next:function(){if(!R&&E<c.length){var Z=E++;return{value:_(Z,c[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function y(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function A(c,_,E){return c.call.apply(c.bind,arguments)}function O(c,_,E){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),c.apply(_,G)}}return function(){return c.apply(_,arguments)}}function I(c,_,E){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,I.apply(null,arguments)}function q(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function B(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(R,G,Z){for(var de=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)de[rt-2]=arguments[rt];return _.prototype[G].apply(R,de)}}function ee(c){const _=c.length;if(0<_){const E=Array(_);for(let R=0;R<_;R++)E[R]=c[R];return E}return[]}function Q(c,_){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(g(R)){const G=c.length||0,Z=R.length||0;c.length=G+Z;for(let de=0;de<Z;de++)c[G+de]=R[de]}else c.push(R)}}class W{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function ce(c){return/^[\s\xa0]*$/.test(c)}function me(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Ne(c){return Ne[" "](c),c}Ne[" "]=function(){};var Se=me().indexOf("Gecko")!=-1&&!(me().toLowerCase().indexOf("webkit")!=-1&&me().indexOf("Edge")==-1)&&!(me().indexOf("Trident")!=-1||me().indexOf("MSIE")!=-1)&&me().indexOf("Edge")==-1;function $e(c,_,E){for(const R in c)_.call(E,c[R],R,c)}function k(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function D(c){const _={};for(const E in c)_[E]=c[E];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,_){let E,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(E in R)c[E]=R[E];for(let Z=0;Z<N.length;Z++)E=N[Z],Object.prototype.hasOwnProperty.call(R,E)&&(c[E]=R[E])}}function U(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function H(c){p.setTimeout(()=>{throw c},0)}function M(){var c=ut;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class sn{constructor(){this.h=this.g=null}add(_,E){const R=Mt.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Mt=new W(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,Ie=!1,ut=new sn,C=()=>{const c=p.Promise.resolve(void 0);pe=()=>{c.then(le)}};var le=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(E){H(E)}var _=Mt;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}Ie=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};p.addEventListener("test",E,_),p.removeEventListener("test",E,_)}catch{}return c}();function Ke(c,_){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(Se){e:{try{Ne(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ke.aa.h.call(this)}}B(Ke,he);var Re={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),ge=0;function ni(c,_,E,R,G){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=G,this.key=++ge,this.da=this.fa=!1}function vr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Er(c){this.src=c,this.g={},this.h=0}Er.prototype.add=function(c,_,E,R,G){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var de=Ri(c,_,R,G);return-1<de?(_=c[de],E||(_.fa=!1)):(_=new ni(_,this.src,Z,!!R,G),_.fa=E,c.push(_)),_};function Rs(c,_){var E=_.type;if(E in c.g){var R=c.g[E],G=Array.prototype.indexOf.call(R,_,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(R,G,1),Z&&(vr(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ri(c,_,E,R){for(var G=0;G<c.length;++G){var Z=c[G];if(!Z.da&&Z.listener==_&&Z.capture==!!E&&Z.ha==R)return G}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Tr={};function br(c,_,E,R,G){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)br(c,_[Z],E,R,G);return null}return E=Ci(E),c&&c[Ht]?c.K(_,E,y(R)?!!R.capture:!1,G):hi(c,_,E,!1,R,G)}function hi(c,_,E,R,G,Z){if(!_)throw Error("Invalid event type");var de=y(G)?!!G.capture:!!G,rt=Aa(c);if(rt||(c[Gr]=rt=new Er(c)),E=rt.add(_,E,R,de,Z),E.proxy)return E;if(R=Mu(),E.proxy=R,R.src=c,R.listener=E,c.addEventListener)we||(G=de),G===void 0&&(G=!1),c.addEventListener(_.toString(),R,G);else if(c.attachEvent)c.attachEvent(Cs(_.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Mu(){function c(E){return _.call(c.src,c.listener,E)}const _=Pu;return c}function No(c,_,E,R,G){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)No(c,_[Z],E,R,G);else R=y(R)?!!R.capture:!!R,E=Ci(E),c&&c[Ht]?(c=c.i,_=String(_).toString(),_ in c.g&&(Z=c.g[_],E=Ri(Z,E,R,G),-1<E&&(vr(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete c.g[_],c.h--)))):c&&(c=Aa(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ri(_,E,R,G)),(E=-1<c?_[c]:null)&&ba(E))}function ba(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Ht])Rs(_.i,c);else{var E=c.type,R=c.proxy;_.removeEventListener?_.removeEventListener(E,R,c.capture):_.detachEvent?_.detachEvent(Cs(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=Aa(_))?(Rs(E,c),E.h==0&&(E.src=null,_[Gr]=null)):vr(c)}}}function Cs(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function Pu(c,_){if(c.da)c=!0;else{_=new Ke(_,this);var E=c.listener,R=c.ha||c.src;c.fa&&ba(c),c=E.call(R,_)}return c}function Aa(c){return c=c[Gr],c instanceof Er?c:null}var $r="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(c){return typeof c=="function"?c:(c[$r]||(c[$r]=function(_){return c.handleEvent(_)}),c[$r])}function Pt(){_e.call(this),this.i=new Er(this),this.M=this,this.F=null}B(Pt,_e),Pt.prototype[Ht]=!0,Pt.prototype.removeEventListener=function(c,_,E,R){No(this,c,_,E,R)};function _t(c,_){var E,R=c.F;if(R)for(E=[];R;R=R.F)E.push(R);if(c=c.M,R=_.type||_,typeof _=="string")_=new he(_,c);else if(_ instanceof he)_.target=_.target||c;else{var G=_;_=new he(R,c),P(_,G)}if(G=!0,E)for(var Z=E.length-1;0<=Z;Z--){var de=_.g=E[Z];G=ii(de,R,!0,_)&&G}if(de=_.g=c,G=ii(de,R,!0,_)&&G,G=ii(de,R,!1,_)&&G,E)for(Z=0;Z<E.length;Z++)de=_.g=E[Z],G=ii(de,R,!1,_)&&G}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],R=0;R<E.length;R++)vr(E[R]);delete c.g[_],c.h--}}this.F=null},Pt.prototype.K=function(c,_,E,R){return this.i.add(String(c),_,!1,E,R)},Pt.prototype.L=function(c,_,E,R){return this.i.add(String(c),_,!0,E,R)};function ii(c,_,E,R){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,Z=0;Z<_.length;++Z){var de=_[Z];if(de&&!de.da&&de.capture==E){var rt=de.listener,Xt=de.ha||de.src;de.fa&&Rs(c.i,de),G=rt.call(Xt,R)!==!1&&G}}return G&&!R.defaultPrevented}function qt(c,_,E){if(typeof c=="function")E&&(c=I(c,E));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:p.setTimeout(c,_||0)}function Ar(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,Ar(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Kr extends _e{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ar(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(c){_e.call(this),this.h=c,this.g={}}B($i,_e);var Is=[];function wr(c){$e(c.g,function(_,E){this.g.hasOwnProperty(E)&&ba(_)},c),c.g={}}$i.prototype.N=function(){$i.aa.N.call(this),wr(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=p.JSON.stringify,wa=p.JSON.parse,Os=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Mo(c){return c.h||(c.h=c.i())}function Po(){}var Ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){he.call(this,"d")}B(fi,he);function Sa(){he.call(this,"c")}B(Sa,he);var Oi={},Vo=null;function Yr(){return Vo=Vo||new Pt}Oi.La="serverreachability";function Ra(c){he.call(this,Oi.La,c)}B(Ra,he);function Qr(c){const _=Yr();_t(_,new Ra(_))}Oi.STAT_EVENT="statevent";function Sr(c,_){he.call(this,Oi.STAT_EVENT,c),this.stat=_}B(Sr,he);function yt(c){const _=Yr();_t(_,new Sr(_,c))}Oi.Ma="timingevent";function Yt(c,_){he.call(this,Oi.Ma,c),this.size=_}B(Yt,he);function Ft(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},_)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function ko(c,_,E,R,G,Z){c.info(function(){if(c.g)if(Z)for(var de="",rt=Z.split("&"),Xt=0;Xt<rt.length;Xt++){var st=rt[Xt].split("=");if(1<st.length){var un=st[0];st=st[1];var Wt=un.split("_");de=2<=Wt.length&&Wt[1]=="type"?de+(un+"="+st+"&"):de+(un+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+_+`
`+E+`
`+de})}function Vu(c,_,E,R,G,Z,de){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+_+`
`+E+`
`+Z+" "+de})}function Yi(c,_,E,R){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qi(c,E)+(R?" "+R:"")})}function Rr(c,_){c.info(function(){return"TIMEOUT: "+_})}di.prototype.info=function(){};function Qi(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var R=E[c];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return Ii(E)}catch{return _}}var Xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xi;function Wi(){}B(Wi,xo),Wi.prototype.g=function(){return new XMLHttpRequest},Wi.prototype.i=function(){return{}},Xi=new Wi;function Gt(c,_,E,R){this.j=c,this.i=_,this.l=E,this.R=R||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var pn={},an={};function It(c,_,E){c.L=1,c.v=nr(Dt(_)),c.m=E,c.P=!0,mi(c,null)}function mi(c,_){c.F=Date.now(),pi(c),c.A=Dt(c.v);var E=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Vs(E.i,"t",R),c.C=0,E=c.j.J,c.h=new et,c.g=Cl(c.j,E?_:null,!c.m),0<c.O&&(c.M=new Kr(I(c.Y,c,c.g),c.O)),_=c.U,E=c.g,R=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Is[0]=G.toString()),G=Is);for(var Z=0;Z<G.length;Z++){var de=br(E,G[Z],R||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=c.H?D(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Qr(),ko(c.i,c.u,c.A,c.l,c.R,c.m)}Gt.prototype.ca=function(c){c=c.target;const _=this.M;_&&yn(c)==3?_.j():this.Y(c)},Gt.prototype.Y=function(c){try{if(c==this.g)e:{const Wt=yn(this.g);var _=this.g.Ba();const Zt=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||wl(this.g)))){this.J||Wt!=4||_==7||(_==8||0>=Zt?Qr(3):Qr(2)),Ji(this);var E=this.g.Z();this.X=E;t:if(Cr(this)){var R=wl(this.g);c="";var G=R.length,Z=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Pn(this);var de="";break t}this.h.i=new p.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,c+=this.h.i.decode(R[_],{stream:!(Z&&_==G-1)});R.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Vu(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Xt=this.g;if((rt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ce(rt)){var st=rt;break t}}st=null}if(E=st)Yi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,E);else{this.o=!1,this.s=3,yt(12),on(this),Pn(this);break e}}if(this.P){E=!0;let cn;for(;!this.J&&this.C<de.length;)if(cn=Zi(this,de),cn==an){Wt==4&&(this.s=4,yt(14),E=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==pn){this.s=4,yt(15),Yi(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Yi(this.i,this.l,cn,null),Ir(this,cn);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||de.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)Yi(this.i,this.l,de,"[Invalid Chunked Response]"),on(this),Pn(this);else if(0<de.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Hs(un),un.M=!0,yt(11))}}else Yi(this.i,this.l,de,null),Ir(this,de);Wt==4&&on(this),this.o&&!this.J&&(Wt==4?Go(this.j,this):(this.o=!1,pi(this)))}else Sl(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),on(this),Pn(this)}}}catch{}finally{}};function Cr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zi(c,_){var E=c.C,R=_.indexOf(`
`,E);return R==-1?an:(E=Number(_.substring(E,R)),isNaN(E)?pn:(R+=1,R+E>_.length?an:(_=_.slice(R,R+E),c.C=R+E,_)))}Gt.prototype.cancel=function(){this.J=!0,on(this)};function pi(c){c.S=Date.now()+c.I,Lo(c,c.I)}function Lo(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ft(I(c.ba,c),_)}function Ji(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Gt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Rr(this.i,this.A),this.L!=2&&(Qr(),yt(17)),on(this),this.s=2,Pn(this)):Lo(this,this.S-c)};function Pn(c){c.j.G==0||c.J||Go(c.j,c)}function on(c){Ji(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,wr(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Ir(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Ia(E.h,c))){if(!c.K&&Ia(E.h,c)&&E.G==3){try{var R=E.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)qs(E),js(E);else break e;Fo(E),yt(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ft(I(E.Za,E),6e3));if(1>=Ns(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Vi(E,11)}else if((c.K||E.g==c)&&qs(E),!ce(_))for(G=E.Da.g.parse(_),_=0;_<G.length;_++){let st=G[_];if(E.T=st[0],st=st[1],E.G==2)if(st[0]=="c"){E.K=st[1],E.ia=st[2];const un=st[3];un!=null&&(E.la=un,E.j.info("VER="+E.la));const Wt=st[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const Zt=st[5];Zt!=null&&typeof Zt=="number"&&0<Zt&&(R=1.5*Zt,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const cn=c.g;if(cn){const ki=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var Z=R.h;Z.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(xs(Z,Z.h),Z.h=null))}if(R.D){const ka=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(R.ya=ka,it(R.I,R.D,ka))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var de=c;if(R.qa=$o(R,R.J?R.ia:null,R.W),de.K){Rn(R.h,de);var rt=de,Xt=R.L;Xt&&(rt.I=Xt),rt.B&&(Ji(rt),pi(rt)),R.g=de}else Bs(R);0<E.i.length&&zs(E)}else st[0]!="stop"&&st[0]!="close"||Vi(E,7);else E.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Vi(E,7):xa(E):st[0]!="noop"&&E.l&&E.l.ta(st),E.v=0)}}Qr(4)}catch{}}var Ca=class{constructor(c,_){this.g=c,this.map=_}};function er(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ds(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ns(c){return c.h?1:c.g?c.g.size:0}function Ia(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function xs(c,_){c.g?c.g.add(_):c.h=_}function Rn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}er.prototype.cancel=function(){if(this.i=Oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return ee(c.i)}function bl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var _=[],E=c.length,R=0;R<E;R++)_.push(c[R]);return _}_=[],E=0;for(R in c)_[E++]=c[R];return _}function Ms(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const R in c)_[E++]=R;return _}}}function Da(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=Ms(c),R=bl(c),G=R.length,Z=0;Z<G;Z++)_.call(void 0,R[Z],E&&E[Z],c)}var Cn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vn(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var R=c[E].indexOf("="),G=null;if(0<=R){var Z=c[E].substring(0,R);G=c[E].substring(R+1)}else Z=c[E];_(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,Or(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.s),this.l=c.l;var _=c.i,E=new In;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ln(this,E),this.m=c.m}else c&&(_=String(c).match(Cn))?(this.h=!1,Or(this,_[1]||"",!0),this.o=gn(_[2]||""),this.g=gn(_[3]||"",!0),tr(this,_[4]),this.l=gn(_[5]||"",!0),ln(this,_[6]||"",!0),this.m=gn(_[7]||"")):(this.h=!1,this.i=new In(null,this.h))}wt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Dr(_,ir,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Dr(_,ir,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Dr(E,E.charAt(0)=="/"?Al:Ps,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Dr(E,Na)),c.join("")};function Dt(c){return new wt(c)}function Or(c,_,E){c.j=E?gn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function ln(c,_,E){_ instanceof In?(c.i=_,jo(c.i,c.h)):(E||(_=Dr(_,Ni)),c.i=new In(_,c.h))}function it(c,_,E){c.i.set(_,E)}function nr(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dr(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Uo),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ir=/[#\/\?@]/g,Ps=/[#\?:]/g,Al=/[#\?]/g,Ni=/[#\?@]/g,Na=/#/g;function In(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Vn(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}r=In.prototype,r.add=function(c,_){kn(this),this.i=null,c=Gn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function rr(c,_){kn(c),_=Gn(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function ri(c,_){return kn(c),_=Gn(c,_),c.g.has(_)}r.forEach=function(c,_){kn(this),this.g.forEach(function(E,R){E.forEach(function(G){c.call(_,G,R,this)},this)},this)},r.na=function(){kn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let R=0;R<_.length;R++){const G=c[R];for(let Z=0;Z<G.length;Z++)E.push(_[R])}return E},r.V=function(c){kn(this);let _=[];if(typeof c=="string")ri(this,c)&&(_=_.concat(this.g.get(Gn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},r.set=function(c,_){return kn(this),this.i=null,c=Gn(this,c),ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Vs(c,_,E){rr(c,_),0<E.length&&(c.i=null,c.g.set(Gn(c,_),ee(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var R=_[E];const Z=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var G=Z;de[R]!==""&&(G+="="+encodeURIComponent(String(de[R]))),c.push(G)}}return this.i=c.join("&")};function Gn(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function jo(c,_){_&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(E,R){var G=R.toLowerCase();R!=G&&(rr(this,R),Vs(this,G,E))},c)),c.j=_}function Wr(c,_){const E=new di;if(p.Image){const R=new Image;R.onload=q(_n,E,"TestLoadImage: loaded",!0,_,R),R.onerror=q(_n,E,"TestLoadImage: error",!1,_,R),R.onabort=q(_n,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=q(_n,E,"TestLoadImage: timeout",!1,_,R),p.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else _(!1)}function gi(c,_){const E=new di,R=new AbortController,G=setTimeout(()=>{R.abort(),_n(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:R.signal}).then(Z=>{clearTimeout(G),Z.ok?_n(E,"TestPingServer: ok",!0,_):_n(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),_n(E,"TestPingServer: error",!1,_)})}function _n(c,_,E,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(E)}catch{}}function ks(){this.g=new Os}function xi(c,_,E){const R=E||"";try{Da(c,function(G,Z){let de=G;y(G)&&(de=Ii(G)),_.push(R+Z+"="+encodeURIComponent(de))})}catch(G){throw _.push(R+"type="+encodeURIComponent("_badmap")),G}}function sr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(sr,xo),sr.prototype.g=function(){return new _i(this.l,this.j)},sr.prototype.i=function(c){return function(){return c}}({});function _i(c,_){Pt.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(_i,Pt),r=_i.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||p).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ls(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ls(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ar(this):si(this),this.readyState==3&&Ls(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ar(this))},r.Qa=function(c){this.g&&(this.response=c,ar(this))},r.ga=function(){this.g&&ar(this)};function ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,_){this.u.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zo(c){let _="";return $e(c,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Qt(c,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=zo(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):it(c,_,E))}function ct(c){Pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(ct,Pt);var Zr=/^https?$/i,Nr=["POST","PUT"];r=ct.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xi.g(),this.v=this.o?Mo(this.o):Mo(Xi),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Z){Bo(this,Z);return}if(c=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)E.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())E.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Nr,_,void 0))||R||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of E)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Bo(this,Z)}};function Bo(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,or(c),Mi(c)}function or(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),ct.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Jr(this):this.bb())},r.bb=function(){Jr(this)};function Jr(c){if(c.h&&typeof f<"u"&&(!c.v[1]||yn(c)!=4||c.Z()!=2)){if(c.u&&yn(c)==4)qt(c.Ea,0,c);else if(_t(c,"readystatechange"),yn(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=de===0){var G=String(c.D).match(Cn)[1]||null;!G&&p.self&&p.self.location&&(G=p.self.location.protocol.slice(0,-1)),R=!Zr.test(G?G.toLowerCase():"")}E=R}if(E)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var Z=2<yn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",or(c)}}finally{Mi(c)}}}}function Mi(c,_){if(c.g){es(c);const E=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||_t(c,"ready");try{E.onreadystatechange=R}catch{}}}function es(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function yn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),wa(_)}};function wl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sl(c){const _={};c=(c.g&&2<=yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(ce(c[R]))continue;var E=U(c[R]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=_[G]||[];_[G]=Z,Z.push(E)}k(_,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Us(c){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,c),this.cb=ts("retryDelaySeedMs",1e4,c),this.Wa=ts("forwardChannelMaxRetries",2,c),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new er(c&&c.concurrentRequestLimit),this.Da=new ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Us.prototype,r.la=8,r.G=1,r.connect=function(c,_,E,R){yt(0),this.W=c,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=$o(this,null,this.W),zs(this)};function xa(c){if(Ma(c),c.G==3){var _=c.U++,E=Dt(c.I);if(it(E,"SID",c.K),it(E,"RID",_),it(E,"TYPE","terminate"),ns(c,E),_=new Gt(c,c.j,_),_.L=2,_.v=nr(Dt(E)),E=!1,p.navigator&&p.navigator.sendBeacon)try{E=p.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&p.Image&&(new Image().src=_.v,E=!0),E||(_.g=Cl(_.j,null),_.g.ea(_.v)),_.F=Date.now(),pi(_)}Rl(c)}function js(c){c.g&&(Hs(c),c.g.cancel(),c.g=null)}function Ma(c){js(c),c.u&&(p.clearTimeout(c.u),c.u=null),qs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function zs(c){if(!Ds(c.h)&&!c.s){c.s=!0;var _=c.Ga;pe||C(),Ie||(pe(),Ie=!0),ut.add(_,c),c.B=0}}function ku(c,_){return Ns(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ft(I(c.Ga,c,_),Pi(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Gt(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=D(Z),P(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=qo(this,G,_),E=Dt(this.I),it(E,"RID",c),it(E,"CVER",22),this.D&&it(E,"X-HTTP-Session-Id",this.D),ns(this,E),Z&&(this.O?_="headers="+encodeURIComponent(String(zo(Z)))+"&"+_:this.m&&Qt(E,this.m,Z)),xs(this.h,G),this.Ua&&it(E,"TYPE","init"),this.P?(it(E,"$req",_),it(E,"SID","null"),G.T=!0,It(G,E,null)):It(G,E,_),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||Ds(this.h)||Ho(this))};function Ho(c,_){var E;_?E=_.l:E=c.U++;const R=Dt(c.I);it(R,"SID",c.K),it(R,"RID",E),it(R,"AID",c.T),ns(c,R),c.m&&c.o&&Qt(R,c.m,c.o),E=new Gt(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=qo(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xs(c.h,E),It(E,R,_)}function ns(c,_){c.H&&$e(c.H,function(E,R){it(_,R,E)}),c.l&&Da({},function(E,R){it(_,R,E)})}function qo(c,_,E){E=Math.min(c.i.length,E);var R=c.l?I(c.l.Na,c.l,c):null;e:{var G=c.i;let Z=-1;for(;;){const de=["count="+E];Z==-1?0<E?(Z=G[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let rt=!0;for(let Xt=0;Xt<E;Xt++){let st=G[Xt].g;const un=G[Xt].map;if(st-=Z,0>st)Z=Math.max(0,G[Xt].g-100),rt=!1;else try{xi(un,de,"req"+st+"_")}catch{R&&R(un)}}if(rt){R=de.join("&");break e}}}return c=c.i.splice(0,E),_.D=c,R}function Bs(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;pe||C(),Ie||(pe(),Ie=!0),ut.add(_,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ft(I(c.Fa,c),Pi(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Pa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ft(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),js(this),Pa(this))};function Hs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Pa(c){c.g=new Gt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=Dt(c.qa);it(_,"RID","rpc"),it(_,"SID",c.K),it(_,"AID",c.T),it(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(_,"TO",c.ja),it(_,"TYPE","xmlhttp"),ns(c,_),c.m&&c.o&&Qt(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=nr(Dt(_)),E.m=null,E.P=!0,mi(E,c)}r.Za=function(){this.C!=null&&(this.C=null,js(this),Fo(this),yt(19))};function qs(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Go(c,_){var E=null;if(c.g==_){qs(c),Hs(c),c.g=null;var R=2}else if(Ia(c.h,_))E=_.D,Rn(c.h,_),R=1;else return;if(c.G!=0){if(_.o)if(R==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var G=c.B;R=Yr(),_t(R,new Yt(R,E)),zs(c)}else Bs(c);else if(G=_.s,G==3||G==0&&0<_.X||!(R==1&&ku(c,_)||R==2&&Fo(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),G){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Pi(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function Vi(c,_){if(c.j.info("Error code "+_),_==2){var E=I(c.fb,c),R=c.Xa;const G=!R;R=new wt(R||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Or(R,"https"),nr(R),G?Wr(R.toString(),E):gi(R.toString(),E)}else yt(2);c.G=0,c.l&&c.l.sa(_),Rl(c),Ma(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Rl(c){if(c.G=0,c.ka=[],c.l){const _=Oa(c.h);(_.length!=0||c.i.length!=0)&&(Q(c.ka,_),Q(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function $o(c,_,E){var R=E instanceof wt?Dt(E):new wt(E);if(R.g!="")_&&(R.g=_+"."+R.g),tr(R,R.s);else{var G=p.location;R=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var Z=new wt(null);R&&Or(Z,R),_&&(Z.g=_),G&&tr(Z,G),E&&(Z.l=E),R=Z}return E=c.D,_=c.ya,E&&_&&it(R,E,_),it(R,"VER",c.la),ns(c,R),R}function Cl(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new ct(new sr({eb:E})):new ct(c.pa),_.Ha(c.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Il(){}r=Il.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Va(){}Va.prototype.g=function(c,_){return new Ln(c,_)};function Ln(c,_){Pt.call(this),this.g=new Us(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!ce(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!ce(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new lr(this)}B(Ln,Pt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){xa(this.g)},Ln.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Ii(c),c=E);_.i.push(new Ca(_.Ya++,c)),_.G==3&&zs(_)},Ln.prototype.N=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,Ln.aa.N.call(this)};function Ko(c){fi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}B(Ko,fi);function Yo(){Sa.call(this),this.status=1}B(Yo,Sa);function lr(c){this.g=c}B(lr,Il),lr.prototype.ua=function(){_t(this.g,"a")},lr.prototype.ta=function(c){_t(this.g,new Ko(c))},lr.prototype.sa=function(c){_t(this.g,new Yo)},lr.prototype.ra=function(){_t(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,uT=function(){return new Va},lT=function(){return Yr()},oT=Oi,Mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,ed=Xr,Di.COMPLETE="complete",aT=Di,Po.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Qc=Po,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,sT=ct}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",eE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new ig("@firebase/firestore");function ou(){return pl.logLevel}function be(r,...e){if(pl.logLevel<=at.DEBUG){const n=e.map(pg);pl.debug(`Firestore (${Ou}): ${r}`,...n)}}function va(r,...e){if(pl.logLevel<=at.ERROR){const n=e.map(pg);pl.error(`Firestore (${Ou}): ${r}`,...n)}}function To(r,...e){if(pl.logLevel<=at.WARN){const n=e.map(pg);pl.warn(`Firestore (${Ou}): ${r}`,...n)}}function pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,cT(r,s,n)}function cT(r,e,n){let s=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw va(s),new Error(s)}function vt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||cT(e,o,s)}function Qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Ta{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OI{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Eo,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Eo)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vt(typeof s.accessToken=="string",31837,{l:s}),new hT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class DI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const s=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ze(r,e){return r<e?-1:r>e?1:0}function Pp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ze(s,o);{const u=fT(),f=PI(u.encode(nE(r,n)),u.encode(nE(e,n)));return f!==0?f:Ze(s,o)}}n+=s>65535?2:1}return Ze(r.length,e.length)}function nE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function PI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ze(r[n],e[n]);return Ze(r.length,e.length)}function yu(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__name__";class gs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ze(e.length,n.length)}static compareSegments(e,n){const s=gs.isNumericId(e),o=gs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gs.extractNumericId(e).compare(gs.extractNumericId(n)):Pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vo.fromString(e.substring(4,e.length-2))}}class zt extends gs{construct(e,n,s){return new zt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new De(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new zt(n)}static emptyPath(){return new zt([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends gs{construct(e,n,s){return new qn(e,n,s)}static isValidIdentifier(e){return VI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new qn([iE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new De(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new De(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new De(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new De(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(zt.fromString(e))}static fromName(e){return new Me(zt.fromString(e).popFirst(5))}static empty(){return new Me(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r,e,n){if(!n)throw new De(ue.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LI(r,e,n,s){if(e===!0&&s===!0)throw new De(ue.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function rE(r){if(!Me.isDocumentKey(r))throw new De(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _g(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Be(12329,{type:typeof r})}function ch(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new De(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_g(r);throw new De(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Rh(r,e){if(!dT(r))throw new De(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new De(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-62135596800,aE=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*aE);return new Vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sE)throw new De(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rh(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:mn("string",Vt._jsonSchemaVersion),seconds:mn("number"),nanoseconds:mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Vt(0,0))}static max(){return new Ge(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=-1;function UI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ge.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new bo(o,Me.empty(),e)}function jI(r){return new bo(r.readTime,r.key,hh)}class bo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new bo(Ge.min(),Me.empty(),hh)}static max(){return new bo(Ge.max(),Me.empty(),hh)}}function zI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(r.documentKey,e.documentKey),n!==0?n:Ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(r){if(r.code!==ue.FAILED_PRECONDITION||r.message!==BI)throw r;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,s)=>{n(e)})}static reject(e){return new oe((n,s)=>{s(e)})}static waitFor(e){return new oe((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next(o=>o?oe.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new oe((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(A=>{f[y]=A,++p,p===u&&s(f)},A=>o(A))}})}static doWhile(e,n){return new oe((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function qI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Md.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-1;function Pd(r){return r==null}function pd(r){return r===0&&1/r==-1/0}function FI(r){return typeof r=="number"&&Number.isInteger(r)&&!pd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="";function GI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=oE(e)),e=$I(r.get(n),e);return oE(e)}function $I(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case mT:n+="";break;default:n+=u}}return n}function oE(r){return r+mT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function yl(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function pT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Hn.RED,this.left=o??Hn.EMPTY,this.right=u??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Hn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Br([])}unionWith(e){let n=new Sn(qn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gT("Invalid base64 string: "+u):u}}(e);return new Fn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(r){if(vt(!!r,39018),typeof r=="string"){let e=0;const n=KI.exec(r);if(vt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rn(r.seconds),nanos:rn(r.nanos)}}function rn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wo(r){return typeof r=="string"?Fn.fromBase64String(r):Fn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="server_timestamp",yT="__type__",vT="__previous_value__",ET="__local_write_time__";function vg(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yT])===null||n===void 0?void 0:n.stringValue)===_T}function Vd(r){const e=r.mapValue.fields[vT];return vg(e)?Vd(e):e}function fh(r){const e=Ao(r.mapValue.fields[ET].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,s,o,u,f,p,g,y,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=A}}const gd="(default)";class dh{constructor(e,n){this.projectId=e,this.database=n||gd}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__type__",QI="__max__",Ff={mapValue:{}},bT="__vector__",_d="value";function So(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vg(r)?4:WI(r)?9007199254740991:XI(r)?10:11:Be(28295,{value:r})}function As(r,e){if(r===e)return!0;const n=So(r);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return fh(r).isEqual(fh(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ao(o.timestampValue),p=Ao(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return wo(o.bytesValue).isEqual(wo(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return rn(o.geoPointValue.latitude)===rn(u.geoPointValue.latitude)&&rn(o.geoPointValue.longitude)===rn(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return rn(o.integerValue)===rn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=rn(o.doubleValue),p=rn(u.doubleValue);return f===p?pd(f)===pd(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return yu(r.arrayValue.values||[],e.arrayValue.values||[],As);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(lE(f)!==lE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!As(f[g],p[g])))return!1;return!0}(r,e);default:return Be(52216,{left:r})}}function mh(r,e){return(r.values||[]).find(n=>As(n,e))!==void 0}function vu(r,e){if(r===e)return 0;const n=So(r),s=So(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=rn(u.integerValue||u.doubleValue),g=rn(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return cE(r.timestampValue,e.timestampValue);case 4:return cE(fh(r),fh(e));case 5:return Pp(r.stringValue,e.stringValue);case 6:return function(u,f){const p=wo(u),g=wo(f);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const A=Ze(p[y],g[y]);if(A!==0)return A}return Ze(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Ze(rn(u.latitude),rn(f.latitude));return p!==0?p:Ze(rn(u.longitude),rn(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,g,y,A;const O=u.fields||{},I=f.fields||{},q=(p=O[_d])===null||p===void 0?void 0:p.arrayValue,B=(g=I[_d])===null||g===void 0?void 0:g.arrayValue,ee=Ze(((y=q?.values)===null||y===void 0?void 0:y.length)||0,((A=B?.values)===null||A===void 0?void 0:A.length)||0);return ee!==0?ee:hE(q,B)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ff.mapValue&&f===Ff.mapValue)return 0;if(u===Ff.mapValue)return 1;if(f===Ff.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},A=Object.keys(y);g.sort(),A.sort();for(let O=0;O<g.length&&O<A.length;++O){const I=Pp(g[O],A[O]);if(I!==0)return I;const q=vu(p[g[O]],y[A[O]]);if(q!==0)return q}return Ze(g.length,A.length)}(r.mapValue,e.mapValue);default:throw Be(23264,{le:n})}}function cE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const n=Ao(r),s=Ao(e),o=Ze(n.seconds,s.seconds);return o!==0?o:Ze(n.nanos,s.nanos)}function hE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vu(n[o],s[o]);if(u)return u}return Ze(n.length,s.length)}function Eu(r){return Vp(r)}function Vp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ao(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return wo(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vp(n.fields[f])}`;return o+"}"}(r.mapValue):Be(61005,{value:r})}function td(r){switch(So(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(r);return e?16+td(e):16;case 5:return 2*r.stringValue.length;case 6:return wo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+td(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return yl(s.fields,(u,f)=>{o+=u.length+td(f)}),o}(r.mapValue);default:throw Be(13486,{value:r})}}function kp(r){return!!r&&"integerValue"in r}function Eg(r){return!!r&&"arrayValue"in r}function fE(r){return!!r&&"nullValue"in r}function dE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nd(r){return!!r&&"mapValue"in r}function XI(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[TT])===null||n===void 0?void 0:n.stringValue)===bT}function th(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return yl(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=th(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=th(r.arrayValue.values[n]);return e}return Object.assign({},r)}function WI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(n)}setAll(e){let n=qn.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=th(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){yl(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new _r(th(this.value))}}function AT(r){const e=[];return yl(r.fields,(n,s)=>{const o=new qn([n]);if(nd(s)){const u=AT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new ei(e,0,Ge.min(),Ge.min(),Ge.min(),_r.empty(),0)}static newFoundDocument(e,n,s,o){return new ei(e,1,n,Ge.min(),s,o,0)}static newNoDocument(e,n){return new ei(e,2,n,Ge.min(),Ge.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,Ge.min(),Ge.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.position=e,this.inclusive=n}}function mE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Me.comparator(Me.fromName(f.referenceValue),n.key):s=vu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function pE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!As(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class wn extends wT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eO(e,n,s):n==="array-contains"?new iO(e,s):n==="in"?new rO(e,s):n==="not-in"?new sO(e,s):n==="array-contains-any"?new aO(e,s):new wn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tO(e,s):new nO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vu(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(vu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ws(e,n)}matches(e){return ST(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ST(r){return r.op==="and"}function RT(r){return JI(r)&&ST(r)}function JI(r){for(const e of r.filters)if(e instanceof ws)return!1;return!0}function Lp(r){if(r instanceof wn)return r.field.canonicalString()+r.op.toString()+Eu(r.value);if(RT(r))return r.filters.map(e=>Lp(e)).join(",");{const e=r.filters.map(n=>Lp(n)).join(",");return`${r.op}(${e})`}}function CT(r,e){return r instanceof wn?function(s,o){return o instanceof wn&&s.op===o.op&&s.field.isEqual(o.field)&&As(s.value,o.value)}(r,e):r instanceof ws?function(s,o){return o instanceof ws&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&CT(f,o.filters[p]),!0):!1}(r,e):void Be(19439)}function IT(r){return r instanceof wn?function(n){return`${n.field.canonicalString()} ${n.op} ${Eu(n.value)}`}(r):r instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(IT).join(" ,")+"}"}(r):"Filter"}class eO extends wn{constructor(e,n,s){super(e,n,s),this.key=Me.fromName(s.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class tO extends wn{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nO extends wn{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Me.fromName(s.referenceValue))}class iO extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eg(n)&&mh(n.arrayValue,this.value)}}class rO extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mh(this.value.arrayValue,n)}}class sO extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mh(this.value.arrayValue,n)}}class aO extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>mh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Pe=null}}function gE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new oO(r,e,n,s,o,u,f)}function Tg(r){const e=Qe(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Lp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Eu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Eu(s)).join(",")),e.Pe=n}return e.Pe}function bg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!CT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pE(r.startAt,e.startAt)&&pE(r.endAt,e.endAt)}function Up(r){return Me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lO(r,e,n,s,o,u,f,p){return new kd(r,e,n,s,o,u,f,p)}function Ag(r){return new kd(r)}function _E(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uO(r){return r.collectionGroup!==null}function nh(r){const e=Qe(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Sn(qn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new vd(u,s))}),n.has(qn.keyField().canonicalString())||e.Te.push(new vd(qn.keyField(),s))}return e.Te}function vs(r){const e=Qe(r);return e.Ie||(e.Ie=cO(e,nh(r))),e.Ie}function cO(r,e){if(r.limitType==="F")return gE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new vd(o.field,u)});const n=r.endAt?new yd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new yd(r.startAt.position,r.startAt.inclusive):null;return gE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function jp(r,e,n){return new kd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ld(r,e){return bg(vs(r),vs(e))&&r.limitType===e.limitType}function DT(r){return`${Tg(vs(r))}|lt:${r.limitType}`}function lu(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>IT(o)).join(", ")}]`),Pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Eu(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Eu(o)).join(",")),`Target(${s})`}(vs(r))}; limitType=${r.limitType})`}function Ud(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of nh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,g){const y=mE(f,p,g);return f.inclusive?y<=0:y<0}(s.startAt,nh(s),o)||s.endAt&&!function(f,p,g){const y=mE(f,p,g);return f.inclusive?y>=0:y>0}(s.endAt,nh(s),o))}(r,e)}function hO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NT(r){return(e,n)=>{let s=!1;for(const o of nh(r)){const u=fO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fO(r,e,n){const s=r.field.isKeyField()?Me.comparator(e.key,n.key):function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?vu(g,y):Be(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Bt(Me.comparator);function Ea(){return dO}const xT=new Bt(Me.comparator);function Xc(...r){let e=xT;for(const n of r)e=e.insert(n.key,n);return e}function MT(r){let e=xT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ul(){return ih()}function PT(){return ih()}function ih(){return new vl(r=>r.toString(),(r,e)=>r.isEqual(e))}const mO=new Bt(Me.comparator),pO=new Sn(Me.comparator);function ot(...r){let e=pO;for(const n of r)e=e.add(n);return e}const gO=new Sn(Ze);function _O(){return gO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function VT(r){return{integerValue:""+r}}function yO(r,e){return FI(e)?VT(e):wg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function vO(r,e,n){return r instanceof Ed?function(o,u){const f={fields:{[yT]:{stringValue:_T},[ET]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vg(u)&&(u=Vd(u)),u&&(f.fields[vT]=u),{mapValue:f}}(n,e):r instanceof ph?LT(r,e):r instanceof gh?UT(r,e):function(o,u){const f=kT(o,u),p=yE(f)+yE(o.Ee);return kp(f)&&kp(o.Ee)?VT(p):wg(o.serializer,p)}(r,e)}function EO(r,e,n){return r instanceof ph?LT(r,e):r instanceof gh?UT(r,e):n}function kT(r,e){return r instanceof Td?function(s){return kp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ed extends jd{}class ph extends jd{constructor(e){super(),this.elements=e}}function LT(r,e){const n=jT(e);for(const s of r.elements)n.some(o=>As(o,s))||n.push(s);return{arrayValue:{values:n}}}class gh extends jd{constructor(e){super(),this.elements=e}}function UT(r,e){let n=jT(e);for(const s of r.elements)n=n.filter(o=>!As(o,s));return{arrayValue:{values:n}}}class Td extends jd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function yE(r){return rn(r.integerValue||r.doubleValue)}function jT(r){return Eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ph&&o instanceof ph||s instanceof gh&&o instanceof gh?yu(s.elements,o.elements,As):s instanceof Td&&o instanceof Td?As(s.Ee,o.Ee):s instanceof Ed&&o instanceof Ed}(r.transform,e.transform)}class bO{constructor(e,n){this.version=e,this.transformResults=n}}class pa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zd{}function zT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new HT(r.key,pa.none()):new Ch(r.key,r.data,pa.none());{const n=r.data,s=_r.empty();let o=new Sn(qn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new El(r.key,s,new Br(o.toArray()),pa.none())}}function AO(r,e,n){r instanceof Ch?function(o,u,f){const p=o.value.clone(),g=EE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof El?function(o,u,f){if(!id(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=EE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(BT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function rh(r,e,n,s){return r instanceof Ch?function(u,f,p,g){if(!id(u.precondition,f))return p;const y=u.value.clone(),A=TE(u.fieldTransforms,g,f);return y.setAll(A),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof El?function(u,f,p,g){if(!id(u.precondition,f))return p;const y=TE(u.fieldTransforms,g,f),A=f.data;return A.setAll(BT(u)),A.setAll(y),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(O=>O.field))}(r,e,n,s):function(u,f,p){return id(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function wO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=kT(s.transform,o||null);u!=null&&(n===null&&(n=_r.empty()),n.set(s.field,u))}return n||null}function vE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yu(s,o,(u,f)=>TO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ch extends zd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class El extends zd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function EE(r,e,n){const s=new Map;vt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,EO(f,p,n[o]))}return s}function TE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,vO(u,f,e))}return s}class HT extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&AO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=PT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=zT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ge.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(n,s)=>vE(n,s))&&yu(this.baseMutations,e.baseMutations,(n,s)=>vE(n,s))}}class Sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){vt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return mO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,dt;function OO(r){switch(r){case ue.OK:return Be(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Be(15467,{code:r})}}function qT(r){if(r===void 0)return va("GRPC error has no .code"),ue.UNKNOWN;switch(r){case fn.OK:return ue.OK;case fn.CANCELLED:return ue.CANCELLED;case fn.UNKNOWN:return ue.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ue.INTERNAL;case fn.UNAVAILABLE:return ue.UNAVAILABLE;case fn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case fn.NOT_FOUND:return ue.NOT_FOUND;case fn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case fn.ABORTED:return ue.ABORTED;case fn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case fn.DATA_LOSS:return ue.DATA_LOSS;default:return Be(39323,{code:r})}}(dt=fn||(fn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new vo([4294967295,4294967295],0);function bE(r){const e=fT().encode(r),n=new rT;return n.update(e),new Uint8Array(n.digest())}function AE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vo([n,s],0),new vo([o,u],0)]}class Rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(s<0)throw new Wc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=vo.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(vo.fromNumber(s)));return o.compare(DO)===1&&(o=new vo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=bE(e),[s,o]=AE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Rg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.fe===0)return;const n=bE(e),[s,o]=AE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Bd(Ge.min(),o,new Bt(Ze),Ea(),ot())}}class Ih{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ih(s,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class FT{constructor(e,n){this.targetId=e,this.De=n}}class GT{constructor(e,n,s=Fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wE{constructor(){this.ve=0,this.Ce=SE(),this.Fe=Fn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ot(),n=ot(),s=ot();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Be(38017,{changeType:u})}}),new Ih(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=SE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class NO{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ea(),this.je=Gf(),this.Je=Gf(),this.He=new Bt(Ze)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(Up(u))if(s===0){const f=new Me(u.path);this.Xe(n,f,ei.newNoDocument(f,Ge.min()))}else vt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const p=this._t(e),g=p?this.ut(p,e,f):1;if(g!==0){this.rt(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=wo(s).toUint8Array()}catch(g){if(g instanceof gT)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Rg(f,o,u)}catch(g){return To(g instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const p=this.st(f);if(p){if(u.current&&Up(p.target)){const g=new Me(p.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,ei.newNoDocument(g,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=ot();this.Je.forEach((u,f)=>{let p=!0;f.forEachWhile(g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new Bd(e,n,this.He,this.ze,s);return this.ze=Ea(),this.je=Gf(),this.Je=Gf(),this.He=new Bt(Ze),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new wE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Sn(Ze),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Sn(Ze),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new wE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Gf(){return new Bt(Me.comparator)}function SE(){return new Bt(Me.comparator)}const xO={asc:"ASCENDING",desc:"DESCENDING"},MO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"};class VO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zp(r,e){return r.useProto3Json||Pd(e)?e:{value:e}}function bd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kO(r,e){return bd(r,e.toTimestamp())}function Es(r){return vt(!!r,49232),Ge.fromTimestamp(function(n){const s=Ao(n);return new Vt(s.seconds,s.nanos)}(r))}function Cg(r,e){return Bp(r,e).canonicalString()}function Bp(r,e){const n=function(o){return new zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function KT(r){const e=zt.fromString(r);return vt(ZT(e),10190,{key:e.toString()}),e}function Hp(r,e){return Cg(r.databaseId,e.path)}function yp(r,e){const n=KT(e);if(n.get(1)!==r.databaseId.projectId)throw new De(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new De(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Me(QT(n))}function YT(r,e){return Cg(r.databaseId,e)}function LO(r){const e=KT(r);return e.length===4?zt.emptyPath():QT(e)}function qp(r){return new zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QT(r){return vt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RE(r,e,n){return{name:Hp(r,e),fields:n.value.mapValue.fields}}function UO(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Be(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,A){return y.useProto3Json?(vt(A===void 0||typeof A=="string",58123),Fn.fromBase64String(A||"")):(vt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fn.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(y){const A=y.code===void 0?ue.UNKNOWN:qT(y.code);return new De(A,y.message||"")}(f);n=new GT(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yp(r,s.document.name),u=Es(s.document.updateTime),f=s.document.createTime?Es(s.document.createTime):Ge.min(),p=new _r({mapValue:{fields:s.document.fields}}),g=ei.newFoundDocument(o,u,f,p),y=s.targetIds||[],A=s.removedTargetIds||[];n=new rd(y,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yp(r,s.document),u=s.readTime?Es(s.readTime):Ge.min(),f=ei.newNoDocument(o,u),p=s.removedTargetIds||[];n=new rd([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yp(r,s.document),u=s.removedTargetIds||[];n=new rd([],u,o,null)}else{if(!("filter"in e))return Be(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new IO(o,u),p=s.targetId;n=new FT(p,f)}}return n}function jO(r,e){let n;if(e instanceof Ch)n={update:RE(r,e.key,e.value)};else if(e instanceof HT)n={delete:Hp(r,e.key)};else if(e instanceof El)n={update:RE(r,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof SO))return Be(16599,{Rt:e.type});n={verify:Hp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Ed)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ph)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof gh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Td)return{fieldPath:f.field.canonicalString(),increment:p.Ee};throw Be(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:kO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Be(27497)}(r,e.precondition)),n}function zO(r,e){return r&&r.length>0?(vt(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Es(o.updateTime):Es(u);return f.isEqual(Ge.min())&&(f=Es(u)),new bO(f,o.transformResults||[])}(n,e))):[]}function BO(r,e){return{documents:[YT(r,e.path)]}}function HO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YT(r,o);const u=function(y){if(y.length!==0)return WT(ws.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(A=>function(I){return{field:uu(I.field),direction:GO(I.dir)}}(A))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=zp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:n,parent:o}}function qO(r){let e=LO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){vt(s===1,65062);const A=n.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=function(O){const I=XT(O);return I instanceof ws&&RT(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(O){return O.map(I=>function(B){return new vd(cu(B.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(I))}(n.orderBy));let p=null;n.limit&&(p=function(O){let I;return I=typeof O=="object"?O.value:O,Pd(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(O){const I=!!O.before,q=O.values||[];return new yd(q,I)}(n.startAt));let y=null;return n.endAt&&(y=function(O){const I=!O.before,q=O.values||[];return new yd(q,I)}(n.endAt)),lO(e,o,f,u,p,"F",g,y)}function FO(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=cu(n.unaryFilter.field);return wn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=cu(n.unaryFilter.field);return wn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=cu(n.unaryFilter.field);return wn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=cu(n.unaryFilter.field);return wn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(r):r.fieldFilter!==void 0?function(n){return wn.create(cu(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(s=>XT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(r):Be(30097,{filter:r})}function GO(r){return xO[r]}function $O(r){return MO[r]}function KO(r){return PO[r]}function uu(r){return{fieldPath:r.canonicalString()}}function cu(r){return qn.fromServerFormat(r.fieldPath)}function WT(r){return r instanceof wn?function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(n.field),op:$O(n.op),value:n.value}}}(r):r instanceof ws?function(n){const s=n.getFilters().map(o=>WT(o));return s.length===1?s[0]:{compositeFilter:{op:KO(n.op),filters:s}}}(r):Be(54877,{filter:r})}function YO(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,s,o,u=Ge.min(),f=Ge.min(),p=Fn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.gt=e}}function XO(r){const e=qO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Dn=new ZO}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(bo.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class ZO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Sn(zt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Sn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class Si{static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(JT,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Tu(0)}static ur(){return new Tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="LruGarbageCollector",JO=1048576;function OE([r,e],[n,s]){const o=Ze(r,n);return o===0?Ze(e,s):o}class eD{constructor(e){this.Tr=e,this.buffer=new Sn(OE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();OE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){be(IE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nu(n)?be(IE,"Ignoring IndexedDB error during garbage collection: ",n):await Du(n)}await this.Rr(3e5)})}}class nD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Md.ue);const s=new eD(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(CE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,p,g,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,f=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(s=O,p=Date.now(),this.removeTargets(e,s,n))).next(O=>(u=O,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(O=>(y=Date.now(),ou()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${O} documents in `+(y-g)+`ms
Total Duration: ${y-A}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}function iD(r,e){return new nD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.changes=new vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&rh(s.mutation,o,Br.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ot()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ot()){const o=ul();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Xc();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ul();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ot()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=Ea();const f=ih(),p=function(){return ih()}();return n.forEach((g,y)=>{const A=s.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof El)?u=u.insert(y.key,y):A!==void 0?(f.set(y.key,A.mutation.getFieldMask()),rh(A.mutation,y,A.mutation.getFieldMask(),Vt.now())):f.set(y.key,Br.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,A)=>f.set(y,A)),n.forEach((y,A)=>{var O;return p.set(y,new sD(A,(O=f.get(y))!==null&&O!==void 0?O:null))}),p))}recalculateAndSaveOverlays(e,n){const s=ih();let o=new Bt((f,p)=>f-p),u=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let A=s.get(g)||Br.empty();A=p.applyToLocalView(y,A),s.set(g,A);const O=(o.get(p.batchId)||ot()).add(g);o=o.insert(p.batchId,O)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,A=g.value,O=PT();A.forEach(I=>{if(!u.has(I)){const q=zT(n.get(I),s.get(I));q!==null&&O.set(I,q),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,O))}return oe.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(ul());let p=hh,g=u;return f.next(y=>oe.forEach(y,(A,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),u.get(A)?oe.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{g=g.insert(A,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,ot())).next(A=>({batchId:p,changes:MT(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(s=>{let o=Xc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Xc();return this.indexManager.getCollectionParents(e,u).next(p=>oe.forEach(p,g=>{const y=function(O,I){return new kd(I,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(A=>{A.forEach((O,I)=>{f=f.insert(O,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const A=y.getKey();f.get(A)===null&&(f=f.insert(A,ei.newInvalidDocument(A)))});let p=Xc();return f.forEach((g,y)=>{const A=u.get(g);A!==void 0&&rh(A.mutation,y,Br.empty(),Vt.now()),Ud(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Es(o.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:XO(o.bundledQuery),readTime:Es(o.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.overlays=new Bt(Me.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ul();return oe.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=ul(),u=n.length+1,f=new Me(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Bt((y,A)=>y-A);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let A=u.get(y.largestBatchId);A===null&&(A=ul(),u=u.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=ul(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,A)=>p.set(y,A)),!(p.size()>=o)););return oe.resolve(p)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new CO(n,s));let u=this.kr.get(n);u===void 0&&(u=ot(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.qr=new Sn(xn.Qr),this.$r=new Sn(xn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new xn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new xn(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new Me(new zt([])),s=new xn(n,e),o=new xn(n,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Me(new zt([])),s=new xn(n,e),o=new xn(n,e+1);let u=ot();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new xn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class xn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Me.comparator(e.key,n.key)||Ze(e.Hr,n.Hr)}static Ur(e,n){return Ze(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Sn(xn.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new RO(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Yr=this.Yr.add(new xn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?yg:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new xn(n,0),o=new xn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const p=this.Zr(f.Hr);u.push(p)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Sn(Ze);return n.forEach(o=>{const u=new xn(o,0),f=new xn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],p=>{s=s.add(p.Hr)})}),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Me.isDocumentKey(u)||(u=u.child(""));const f=new xn(new Me(u),0);let p=new Sn(Ze);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)},f),oe.resolve(this.ei(p))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){vt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,o=>{const u=new xn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new xn(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.ni=e,this.docs=function(){return new Bt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let s=Ea();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ei.newInvalidDocument(o))}),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ea();const f=n.path,p=new Me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:A}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||zI(jI(A),s)<=0||(o.has(A.key)||Ud(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Be(9500)}ri(e,n){return oe.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new fD(this)}getSize(e){return oe.resolve(this.size)}}class fD extends rD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.persistence=e,this.ii=new vl(n=>Tg(n),bg),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.si=0,this.oi=new Ig,this.targetCount=0,this._i=Tu.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Tu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),oe.waitFor(u).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.ai={},this.overlays={},this.ui=new Md(0),this.ci=!1,this.ci=!0,this.li=new uD,this.referenceDelegate=e(this),this.hi=new dD(this),this.indexManager=new WO,this.remoteDocumentCache=function(o){return new hD(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new QO(n),this.Ti=new oD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new cD(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){be("MemoryPersistence","Starting transaction:",e);const o=new mD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return oe.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class mD extends HI{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Ai=new Ig,this.Ri=null}static Vi(e){return new Og(e)}get mi(){if(this.Ri)return this.Ri;throw Be(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,s=>{const o=Me.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,Ge.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.gi=new vl(s=>GI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=iD(this,n)}static Vi(e,n){return new Ad(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return oe.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?oe.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,n).next(p=>{p||(s++,u.removeEntry(f,Ge.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=td(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=ot(),o=ot();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return $S()?8:qI(ti())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new pD;return this.ws(e,n,f).next(p=>{if(u.result=p,this.Rs)return this.Ss(e,n,f,p.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(ou()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(ou()<=at.DEBUG&&be("QueryEngine","Query:",lu(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ou()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(n))):oe.resolve())}ps(e,n){if(_E(n))return oe.resolve(null);let s=vs(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jp(n,null,"F"),s=vs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ot(...u);return this.gs.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.bs(n,p);return this.Ds(n,y,f,g.readTime)?this.ps(e,jp(n,null,"F")):this.vs(e,y,n,g)}))})))}ys(e,n,s,o){return _E(n)||o.isEqual(Ge.min())?oe.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?oe.resolve(null):(ou()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lu(n)),this.vs(e,f,n,UI(o,hh)).next(p=>p))})}bs(e,n){let s=new Sn(NT(e));return n.forEach((o,u)=>{Ud(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return ou()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",lu(n)),this.gs.getDocumentsMatchingQuery(e,n,bo.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="LocalStore",_D=3e8;class yD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Bt(Ze),this.Ms=new vl(u=>Tg(u),bg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function vD(r,e,n,s){return new yD(r,e,n,s)}async function tb(r,e){const n=Qe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let g=ot();for(const y of o){f.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}for(const y of u){p.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Bs:y,removedBatchIds:f,addedBatchIds:p}))})})}function ED(r,e){const n=Qe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,y,A){const O=y.batch,I=O.keys();let q=oe.resolve();return I.forEach(B=>{q=q.next(()=>A.getEntry(g,B)).next(ee=>{const Q=y.docVersions.get(B);vt(Q!==null,48541),ee.version.compareTo(Q)<0&&(O.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),A.addEntry(ee)))})}),q.next(()=>p.mutationQueue.removeMutationBatch(g,O))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function nb(r){const e=Qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function TD(r,e){const n=Qe(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const p=[];e.targetChanges.forEach((A,O)=>{const I=o.get(O);if(!I)return;p.push(n.hi.removeMatchingKeys(u,A.removedDocuments,O).next(()=>n.hi.addMatchingKeys(u,A.addedDocuments,O)));let q=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(O)!==null?q=q.withResumeToken(Fn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(O,q),function(ee,Q,W){return ee.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=_D?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(I,q,A)&&p.push(n.hi.updateTargetData(u,q))});let g=Ea(),y=ot();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))}),p.push(bD(u,f,e.documentUpdates).next(A=>{g=A.Ls,y=A.ks})),!s.isEqual(Ge.min())){const A=n.hi.getLastRemoteSnapshotVersion(u).next(O=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(A)}return oe.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Fs=o,u))}function bD(r,e,n){let s=ot(),o=ot();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Ea();return n.forEach((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ge.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):be(Ng,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{Ls:f,ks:o}})}function AD(r,e){const n=Qe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wD(r,e){const n=Qe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new po(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Fp(r,e,n){const s=Qe(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Nu(f))throw f;be(Ng,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function DE(r,e,n){const s=Qe(r);let o=Ge.min(),u=ot();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,A){const O=Qe(g),I=O.Ms.get(A);return I!==void 0?oe.resolve(O.Fs.get(I)):O.hi.getTargetData(y,A)}(s,f,vs(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,p.targetId).next(g=>{u=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Ge.min(),n?u:ot())).next(p=>(SD(s,hO(e),p),{documents:p,qs:u})))}function SD(r,e,n){let s=r.xs.get(e)||Ge.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class NE{constructor(){this.activeTargetIds=_O()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RD{constructor(){this.Fo=new NE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new NE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class ME{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){be(xE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){be(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f=null;function Gp(){return $f===null?$f=function(){return 268435456+Math.round(2147483648*Math.random())}():$f++,"0x"+$f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",ID={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===gd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Gp(),p=this.Go(e,n.toUriEncodedString());be(vp,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:y}=new URL(p),A=Ru(y);return this.jo(e,p,g,s,A).then(O=>(be(vp,`Received RPC '${e}' ${f}: `,O),O),O=>{throw To(vp,`RPC '${e}' ${f} failed with error: `,O,"url: ",p,"request:",s),O})}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ou}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=ID[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class ND extends OD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=Gp();return new Promise((p,g)=>{const y=new sT;y.setWithCredentials(!0),y.listenOnce(aT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ed.NO_ERROR:const O=y.getResponseJson();be(Zn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(O)),p(O);break;case ed.TIMEOUT:be(Zn,`RPC '${e}' ${f} timed out`),g(new De(ue.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const I=y.getStatus();if(be(Zn,`RPC '${e}' ${f} failed with status:`,I,"response text:",y.getResponseText()),I>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const B=q?.error;if(B&&B.status&&B.message){const ee=function(W){const ce=W.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(ce)>=0?ce:ue.UNKNOWN}(B.status);g(new De(ee,B.message))}else g(new De(ue.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new De(ue.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{c_:e,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{be(Zn,`RPC '${e}' ${f} completed.`)}});const A=JSON.stringify(o);be(Zn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",A,s,15)})}P_(e,n,s){const o=Gp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=uT(),p=lT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const A=u.join("");be(Zn,`Creating RPC '${e}' stream ${o}: ${A}`,g);const O=f.createWebChannel(A,g);this.T_(O);let I=!1,q=!1;const B=new DD({Ho:Q=>{q?be(Zn,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(I||(be(Zn,`Opening RPC '${e}' stream ${o} transport.`),O.open(),I=!0),be(Zn,`RPC '${e}' stream ${o} sending:`,Q),O.send(Q))},Yo:()=>O.close()}),ee=(Q,W,ce)=>{Q.listen(W,me=>{try{ce(me)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return ee(O,Qc.EventType.OPEN,()=>{q||(be(Zn,`RPC '${e}' stream ${o} transport opened.`),B.s_())}),ee(O,Qc.EventType.CLOSE,()=>{q||(q=!0,be(Zn,`RPC '${e}' stream ${o} transport closed`),B.__(),this.I_(O))}),ee(O,Qc.EventType.ERROR,Q=>{q||(q=!0,To(Zn,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),B.__(new De(ue.UNAVAILABLE,"The operation could not be completed")))}),ee(O,Qc.EventType.MESSAGE,Q=>{var W;if(!q){const ce=Q.data[0];vt(!!ce,16349);const me=ce,Ne=me?.error||((W=me[0])===null||W===void 0?void 0:W.error);if(Ne){be(Zn,`RPC '${e}' stream ${o} received error:`,Ne);const Se=Ne.status;let $e=function(N){const P=fn[N];if(P!==void 0)return qT(P)}(Se),k=Ne.message;$e===void 0&&($e=ue.INTERNAL,k="Unknown error status: "+Se+" with message "+Ne.message),q=!0,B.__(new De($e,k)),O.close()}else be(Zn,`RPC '${e}' stream ${o} received:`,ce),B.a_(ce)}}),ee(p,oT.STAT_EVENT,Q=>{Q.stat===Mp.PROXY?be(Zn,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Mp.NOPROXY&&be(Zn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.o_()},0),B}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r){return new VO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="PersistentStream";class rb{constructor(e,n,s,o,u,f,p,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ib(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(va(n.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new De(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return be(PE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(be(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xD extends rb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=UO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ge.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ge.min():f.readTime?Es(f.readTime):Ge.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=qp(this.serializer),n.addTarget=function(u,f){let p;const g=f.target;if(p=Up(g)?{documents:BO(u,g)}:{query:HO(u,g).Vt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=$T(u,f.resumeToken);const y=zp(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ge.min())>0){p.readTime=bd(u,f.snapshotVersion.toTimestamp());const y=zp(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const s=FO(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=qp(this.serializer),n.removeTarget=e,this.k_(n)}}class MD extends rb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=zO(e.writeResults,e.commitTime),s=Es(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=qp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>jO(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class VD extends PD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new De(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,Bp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new De(ue.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Jo(e,Bp(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new De(ue.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(va(n),this._a=!1):be("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="RemoteStore";class LD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{Tl(this)&&(be(gl,"Restarting streams for network reachability change."),await async function(g){const y=Qe(g);y.Ia.add(4),await Oh(y),y.Aa.set("Unknown"),y.Ia.delete(4),await qd(y)}(this))})}),this.Aa=new kD(s,o)}}async function qd(r){if(Tl(r))for(const e of r.da)await e(!0)}async function Oh(r){for(const e of r.da)await e(!1)}function sb(r,e){const n=Qe(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Vg(n)?Pg(n):xu(n).x_()&&Mg(n,e))}function xg(r,e){const n=Qe(r),s=xu(n);n.Ta.delete(e),s.x_()&&ab(n,e),n.Ta.size===0&&(s.x_()?s.B_():Tl(n)&&n.Aa.set("Unknown"))}function Mg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xu(r).H_(e)}function ab(r,e){r.Ra.$e(e),xu(r).Y_(e)}function Pg(r){r.Ra=new NO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),xu(r).start(),r.Aa.aa()}function Vg(r){return Tl(r)&&!xu(r).M_()&&r.Ta.size>0}function Tl(r){return Qe(r).Ia.size===0}function ob(r){r.Ra=void 0}async function UD(r){r.Aa.set("Online")}async function jD(r){r.Ta.forEach((e,n)=>{Mg(r,e)})}async function zD(r,e){ob(r),Vg(r)?(r.Aa.la(e),Pg(r)):r.Aa.set("Unknown")}async function BD(r,e,n){if(r.Aa.set("Online"),e instanceof GT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ta.delete(p),o.Ra.removeTarget(p))}(r,e)}catch(s){be(gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wd(r,s)}else if(e instanceof rd?r.Ra.Ye(e):e instanceof FT?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Ge.min()))try{const s=await nb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Ra.Pt(f);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const A=u.Ta.get(y);A&&u.Ta.set(y,A.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,y)=>{const A=u.Ta.get(g);if(!A)return;u.Ta.set(g,A.withResumeToken(Fn.EMPTY_BYTE_STRING,A.snapshotVersion)),ab(u,g);const O=new po(A.target,g,y,A.sequenceNumber);Mg(u,O)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){be(gl,"Failed to raise snapshot:",s),await wd(r,s)}}async function wd(r,e,n){if(!Nu(e))throw e;r.Ia.add(1),await Oh(r),r.Aa.set("Offline"),n||(n=()=>nb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{be(gl,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await qd(r)})}function lb(r,e){return e().catch(n=>wd(r,n,e))}async function Fd(r){const e=Qe(r),n=Ro(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:yg;for(;HD(e);)try{const o=await AD(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,qD(e,o)}catch(o){await wd(e,o)}ub(e)&&cb(e)}function HD(r){return Tl(r)&&r.Pa.length<10}function qD(r,e){r.Pa.push(e);const n=Ro(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function ub(r){return Tl(r)&&!Ro(r).M_()&&r.Pa.length>0}function cb(r){Ro(r).start()}async function FD(r){Ro(r).na()}async function GD(r){const e=Ro(r);for(const n of r.Pa)e.X_(n.mutations)}async function $D(r,e,n){const s=r.Pa.shift(),o=Sg.from(s,e,n);await lb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Fd(r)}async function KD(r,e){e&&Ro(r).Z_&&await async function(s,o){if(function(f){return OO(f)&&f!==ue.ABORTED}(o.code)){const u=s.Pa.shift();Ro(s).N_(),await lb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Fd(s)}}(r,e),ub(r)&&cb(r)}async function VE(r,e){const n=Qe(r);n.asyncQueue.verifyOperationInProgress(),be(gl,"RemoteStore received new credentials");const s=Tl(n);n.Ia.add(3),await Oh(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await qd(n)}async function YD(r,e){const n=Qe(r);e?(n.Ia.delete(2),await qd(n)):e||(n.Ia.add(2),await Oh(n),n.Aa.set("Unknown"))}function xu(r){return r.Va||(r.Va=function(n,s,o){const u=Qe(n);return u.ia(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:UD.bind(null,r),e_:jD.bind(null,r),n_:zD.bind(null,r),J_:BD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Vg(r)?Pg(r):r.Aa.set("Unknown")):(await r.Va.stop(),ob(r))})),r.Va}function Ro(r){return r.ma||(r.ma=function(n,s,o){const u=Qe(n);return u.ia(),new MD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:FD.bind(null,r),n_:KD.bind(null,r),ea:GD.bind(null,r),ta:$D.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Fd(r)):(await r.ma.stop(),r.Pa.length>0&&(be(gl,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new kg(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(r,e){if(va("AsyncQueue",`${e}: ${r}`),Nu(r))return new De(ue.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{static emptySet(e){return new gu(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Me.comparator(n.key,s.key):(n,s)=>Me.comparator(n.key,s.key),this.keyedMap=Xc(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new gu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.fa=new Bt(Me.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Be(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class bu{constructor(e,n,s,o,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new bu(e,n,gu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class XD{constructor(){this.queries=LE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Qe(n),u=o.queries;o.queries=LE(),u.forEach((f,p)=>{for(const g of p.wa)g.onError(s)})})(this,new De(ue.ABORTED,"Firestore shutting down"))}}function LE(){return new vl(r=>DT(r),Ld)}async function WD(r,e){const n=Qe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new QD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Lg(f,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Ug(n)}async function ZD(r,e){const n=Qe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JD(r,e){const n=Qe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.wa)p.Ca(o)&&(s=!0);f.ya=o}}s&&Ug(n)}function e2(r,e,n){const s=Qe(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function Ug(r){r.Da.forEach(e=>{e.next()})}var $p,UE;(UE=$p||($p={})).Fa="default",UE.Cache="cache";class t2{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class n2{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ot(),this.mutatedKeys=ot(),this.Xa=NT(e),this.eu=new gu(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new kE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,O)=>{const I=o.get(A),q=Ud(this.query,O)?O:null,B=!!I&&this.mutatedKeys.has(I.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Q=!1;I&&q?I.data.isEqual(q.data)?B!==ee&&(s.track({type:3,doc:q}),Q=!0):this.iu(I,q)||(s.track({type:2,doc:q}),Q=!0,(g&&this.Xa(q,g)>0||y&&this.Xa(q,y)<0)&&(p=!0)):!I&&q?(s.track({type:0,doc:q}),Q=!0):I&&!q&&(s.track({type:1,doc:I}),Q=!0,(g||y)&&(p=!0)),Q&&(q?(f=f.add(q),u=ee?u.add(A):u.delete(A)):(f=f.delete(A),u=u.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{eu:f,ru:s,Ds:p,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((A,O)=>function(q,B){const ee=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{At:Q})}};return ee(q)-ee(B)}(A.type,O.type)||this.Xa(A.doc,O.doc)),this.su(s),o=o!=null&&o;const p=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,f.length!==0||y?{snapshot:new bu(this.query,e.eu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new kE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ot(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new fb(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new hb(s))}),n}uu(e){this.Ha=e.qs,this.Za=ot();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return bu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const jg="SyncEngine";class i2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class r2{constructor(e){this.key=e,this.lu=!1}}class s2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new vl(p=>DT(p),Ld),this.Tu=new Map,this.Iu=new Set,this.du=new Bt(Me.comparator),this.Eu=new Map,this.Au=new Ig,this.Ru={},this.Vu=new Map,this.mu=Tu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function a2(r,e,n=!0){const s=yb(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await db(s,e,n,!0),o}async function o2(r,e){const n=yb(r);await db(n,e,!0,!1)}async function db(r,e,n,s){const o=await wD(r.localStore,vs(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await l2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&sb(r.remoteStore,o),p}async function l2(r,e,n,s,o){r.gu=(O,I,q)=>async function(ee,Q,W,ce){let me=Q.view.nu(W);me.Ds&&(me=await DE(ee.localStore,Q.query,!1).then(({documents:k})=>Q.view.nu(k,me)));const Ne=ce&&ce.targetChanges.get(Q.targetId),Se=ce&&ce.targetMismatches.get(Q.targetId)!=null,$e=Q.view.applyChanges(me,ee.isPrimaryClient,Ne,Se);return zE(ee,Q.targetId,$e._u),$e.snapshot}(r,O,I,q);const u=await DE(r.localStore,e,!0),f=new n2(e,u.qs),p=f.nu(u.documents),g=Ih.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);zE(r,n,y._u);const A=new i2(e,n,f);return r.Pu.set(e,A),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),y.snapshot}async function u2(r,e,n){const s=Qe(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!Ld(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xg(s.remoteStore,o.targetId),Kp(s,o.targetId)}).catch(Du)):(Kp(s,o.targetId),await Fp(s.localStore,o.targetId,!0))}async function c2(r,e){const n=Qe(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xg(n.remoteStore,s.targetId))}async function h2(r,e,n){const s=y2(r);try{const o=await function(f,p){const g=Qe(f),y=Vt.now(),A=p.reduce((q,B)=>q.add(B.key),ot());let O,I;return g.persistence.runTransaction("Locally write mutations","readwrite",q=>{let B=Ea(),ee=ot();return g.Os.getEntries(q,A).next(Q=>{B=Q,B.forEach((W,ce)=>{ce.isValidDocument()||(ee=ee.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(q,B)).next(Q=>{O=Q;const W=[];for(const ce of p){const me=wO(ce,O.get(ce.key).overlayedDocument);me!=null&&W.push(new El(ce.key,me,AT(me.value.mapValue),pa.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,W,p)}).next(Q=>{I=Q;const W=Q.applyToLocalDocumentSet(O,ee);return g.documentOverlayCache.saveOverlays(q,Q.batchId,W)})}).then(()=>({batchId:I.batchId,changes:MT(O)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let y=f.Ru[f.currentUser.toKey()];y||(y=new Bt(Ze)),y=y.insert(p,g),f.Ru[f.currentUser.toKey()]=y}(s,o.batchId,n),await Dh(s,o.changes),await Fd(s.remoteStore)}catch(o){const u=Lg(o,"Failed to persist write");n.reject(u)}}async function mb(r,e){const n=Qe(r);try{const s=await TD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?vt(f.lu,14607):o.removedDocuments.size>0&&(vt(f.lu,42227),f.lu=!1))}),await Dh(n,s,e)}catch(s){await Du(s)}}function jE(r,e,n){const s=Qe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Qe(f);g.onlineState=p;let y=!1;g.queries.forEach((A,O)=>{for(const I of O.wa)I.va(p)&&(y=!0)}),y&&Ug(g)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function f2(r,e,n){const s=Qe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Bt(Me.comparator);f=f.insert(u,ei.newNoDocument(u,Ge.min()));const p=ot().add(u),g=new Bd(Ge.min(),new Map,new Bt(Ze),f,p);await mb(s,g),s.du=s.du.remove(u),s.Eu.delete(e),zg(s)}else await Fp(s.localStore,e,!1).then(()=>Kp(s,e,n)).catch(Du)}async function d2(r,e){const n=Qe(r),s=e.batch.batchId;try{const o=await ED(n.localStore,e);gb(n,s,null),pb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Dh(n,o)}catch(o){await Du(o)}}async function m2(r,e,n){const s=Qe(r);try{const o=await function(f,p){const g=Qe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return g.mutationQueue.lookupMutationBatch(y,p).next(O=>(vt(O!==null,37113),A=O.keys(),g.mutationQueue.removeMutationBatch(y,O))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,A,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>g.localDocuments.getDocuments(y,A))})}(s.localStore,e);gb(s,e,n),pb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Dh(s,o)}catch(o){await Du(o)}}function pb(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function gb(r,e,n){const s=Qe(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Kp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||_b(r,s)})}function _b(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(xg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),zg(r))}function zE(r,e,n){for(const s of n)s instanceof hb?(r.Au.addReference(s.key,e),p2(r,s)):s instanceof fb?(be(jg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||_b(r,s.key)):Be(19791,{yu:s})}function p2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(be(jg,"New document in limbo: "+n),r.Iu.add(s),zg(r))}function zg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Me(zt.fromString(e)),s=r.mu.next();r.Eu.set(s,new r2(n)),r.du=r.du.insert(n,s),sb(r.remoteStore,new po(vs(Ag(n.path)),s,"TargetPurposeLimboResolution",Md.ue))}}async function Dh(r,e,n){const s=Qe(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((p,g)=>{f.push(s.gu(g,e,n).then(y=>{var A;if((y||n)&&s.isPrimaryClient){const O=y?!y.fromCache:(A=n?.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(g.targetId,O?"current":"not-current")}if(y){o.push(y);const O=Dg.Es(g.targetId,y);u.push(O)}}))}),await Promise.all(f),s.hu.J_(o),await async function(g,y){const A=Qe(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>oe.forEach(y,I=>oe.forEach(I.Is,q=>A.persistence.referenceDelegate.addReference(O,I.targetId,q)).next(()=>oe.forEach(I.ds,q=>A.persistence.referenceDelegate.removeReference(O,I.targetId,q)))))}catch(O){if(!Nu(O))throw O;be(Ng,"Failed to update sequence numbers: "+O)}for(const O of y){const I=O.targetId;if(!O.fromCache){const q=A.Fs.get(I),B=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion(B);A.Fs=A.Fs.insert(I,ee)}}}(s.localStore,u))}async function g2(r,e){const n=Qe(r);if(!n.currentUser.isEqual(e)){be(jg,"User change. New user:",e.toKey());const s=await tb(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(p=>{p.forEach(g=>{g.reject(new De(ue.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Dh(n,s.Bs)}}function _2(r,e){const n=Qe(r),s=n.Eu.get(e);if(s&&s.lu)return ot().add(s.key);{let o=ot();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const p=n.Pu.get(f);o=o.unionWith(p.view.tu)}return o}}function yb(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.hu.J_=JD.bind(null,e.eventManager),e.hu.pu=e2.bind(null,e.eventManager),e}function y2(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m2.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return vD(this.persistence,new gD,e.initialUser,this.serializer)}Du(e){return new eb(Og.Vi,this.serializer)}bu(e){return new RD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class v2 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){vt(this.persistence.referenceDelegate instanceof Ad,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tD(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new eb(s=>Ad.Vi(s,n),this.serializer)}}class Yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await YD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XD}()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),s=function(u){return new ND(u)}(e.databaseInfo);return function(u,f,p,g){return new VD(u,f,p,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new LD(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>jE(this.syncEngine,n,0),function(){return ME.C()?new ME:new CD}())}createSyncEngine(e,n){return function(o,u,f,p,g,y,A){const O=new s2(o,u,f,p,g,y);return A&&(O.fu=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Qe(o);be(gl,"RemoteStore shutting down."),u.Ia.add(5),await Oh(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):va("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="FirestoreClient";class T2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jn.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{be(Co,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(be(Co,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Tp(r,e){r.asyncQueue.verifyOperationInProgress(),be(Co,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{To("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{be("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{To("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function BE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await b2(r);be(Co,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>VE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>VE(e.remoteStore,o)),r._onlineComponents=e}async function b2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){be(Co,"Using user provided OfflineComponentProvider");try{await Tp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Tp(r,new Sd)}}else be(Co,"Using default OfflineComponentProvider"),await Tp(r,new v2(void 0));return r._offlineComponents}async function vb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(be(Co,"Using user provided OnlineComponentProvider"),await BE(r,r._uninitializedComponentsProvider._online)):(be(Co,"Using default OnlineComponentProvider"),await BE(r,new Yp))),r._onlineComponents}function A2(r){return vb(r).then(e=>e.syncEngine)}async function w2(r){const e=await vb(r),n=e.eventManager;return n.onListen=a2.bind(null,e.syncEngine),n.onUnlisten=u2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c2.bind(null,e.syncEngine),n}function S2(r,e,n={}){const s=new Eo;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,g,y){const A=new E2({next:I=>{A.Ou(),f.enqueueAndForget(()=>ZD(u,O));const q=I.docs.has(p);!q&&I.fromCache?y.reject(new De(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&I.fromCache&&g&&g.source==="server"?y.reject(new De(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),O=new t2(Ag(p.path),A,{includeMetadataChanges:!0,ka:!0});return WD(u,O)}(await w2(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firestore.googleapis.com",qE=!0;class FE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new De(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tb,this.ssl=qE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JO)throw new De(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new CI;switch(s.type){case"firstParty":return new NI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new De(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=HE.get(n);s&&(be("ComponentProvider","Removing Datastore"),HE.delete(n),s.terminate())}(this),Promise.resolve()}}function R2(r,e,n,s={}){var o;r=ch(r,Bg);const u=Ru(e),f=r._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(g0(`https://${g}`),_0("Firestore",!0)),f.host!==Tb&&f.host!==g&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!hl(y,p)&&(r._setSettings(y),s.mockUserToken)){let A,O;if(typeof s.mockUserToken=="string")A=s.mockUserToken,O=Jn.MOCK_USER;else{A=LS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new De(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Jn(I)}r._authCredentials=new II(new hT(A,O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hg(this.firestore,e,this._query)}}class Mn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _h(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}toJSON(){return{type:Mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Rh(n,Mn._jsonSchema))return new Mn(e,s||null,new Me(zt.fromString(n.referencePath)))}}Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:mn("string",Mn._jsonSchemaVersion),referencePath:mn("string")};class _h extends Hg{constructor(e,n,s){super(e,n,Ag(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Me(e))}withConverter(e){return new _h(this.firestore,e,this._path)}}function bb(r,e,...n){if(r=Gi(r),arguments.length===1&&(e=gg.newId()),kI("doc","path",e),r instanceof Bg){const s=zt.fromString(e,...n);return rE(s),new Mn(r,null,new Me(s))}{if(!(r instanceof Mn||r instanceof _h))throw new De(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(zt.fromString(e,...n));return rE(s),new Mn(r.firestore,r instanceof _h?r.converter:null,new Me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="AsyncQueue";class $E{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ib(this,"async_queue_retry"),this.oc=()=>{const s=Ep();s&&be(GE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Eo;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Nu(e))throw e;be(GE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,va("INTERNAL UNHANDLED ERROR: ",KE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=kg.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Be(47125,{hc:KE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function KE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class qg extends Bg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $E(e),this._firestoreClient=void 0,await e}}}function C2(r,e){const n=typeof r=="object"?r:T0(),s=typeof r=="string"?r:gd,o=sg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VS("firestore");u&&R2(o,...u)}return o}function Ab(r){if(r._terminated)throw new De(ue.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||I2(r),r._firestoreClient}function I2(r){var e,n,s;const o=r._freezeSettings(),u=function(p,g,y,A){return new YI(p,g,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Eb(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new T2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p?._online.build();return{_offline:p?._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(Fn.fromBase64String(e))}catch(n){throw new De(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rh(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:mn("string",yr._jsonSchemaVersion),bytes:mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(e){if(Rh(e,Ts._jsonSchema))return new Ts(e.latitude,e.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:mn("string",Ts._jsonSchemaVersion),latitude:mn("number"),longitude:mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rh(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bs(e.vectorValues);throw new De(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:mn("string",bs._jsonSchemaVersion),vectorValues:mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=/^__.*__$/;class D2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new El(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ch(e,this.data,n,this.fieldTransforms)}}function Sb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ec:r})}}class Gg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Sb(this.Ec)&&O2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class N2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hd(e)}Dc(e,n,s,o=!1){return new Gg({Ec:e,methodName:n,bc:s,path:qn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x2(r){const e=r._freezeSettings(),n=Hd(r._databaseId);return new N2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function M2(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Ob("Data must be an object, but it was:",f,s);const p=Cb(s,f);let g,y;if(u.merge)g=new Br(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const A=[];for(const O of u.mergeFields){const I=P2(e,O,n);if(!f.contains(I))throw new De(ue.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);k2(A,I)||A.push(I)}g=new Br(A),y=f.fieldTransforms.filter(O=>g.covers(O.field))}else g=null,y=f.fieldTransforms;return new D2(new _r(p),g,y)}function Rb(r,e){if(Ib(r=Gi(r)))return Ob("Unsupported field value:",e,r),Cb(r,e);if(r instanceof wb)return function(s,o){if(!Sb(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let g=Rb(p,o.yc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Gi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:bd(o.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bd(o.serializer,u)}}if(s instanceof Ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yr)return{bytesValue:$T(o.serializer,s._byteString)};if(s instanceof Mn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bs)return function(f,p){return{mapValue:{fields:{[TT]:{stringValue:bT},[_d]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw p.wc("VectorValues must only contain numeric values.");return wg(p.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${_g(s)}`)}(r,e)}function Cb(r,e){const n={};return pT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(r,(s,o)=>{const u=Rb(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Ib(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vt||r instanceof Ts||r instanceof yr||r instanceof Mn||r instanceof wb||r instanceof bs)}function Ob(r,e,n){if(!Ib(n)||!dT(n)){const s=_g(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function P2(r,e,n){if((e=Gi(e))instanceof Fg)return e._internalPath;if(typeof e=="string")return Db(r,e);throw Rd("Field path arguments must be of type string or ",r,!1,void 0,n)}const V2=new RegExp("[~\\*/\\[\\]]");function Db(r,e,n){if(e.search(V2)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fg(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rd(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new De(ue.INVALID_ARGUMENT,p+r+g)}function k2(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L2 extends Nb{data(){return super.data()}}function xb(r,e){return typeof e=="string"?Db(r,e):e instanceof Fg?e._internalPath:e._delegate._internalPath}class U2{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return yl(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[_d].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>rn(f.doubleValue));return new bs(u)}convertGeoPoint(e){return new Ts(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fh(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=zt.fromString(e);vt(ZT(s),9688,{name:e});const o=new dh(s.get(1),s.get(3)),u=new Me(s.popFirst(5));return o.isEqual(n)||va(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends Nb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:mn("string",cl._jsonSchemaVersion),bundleSource:mn("string","DocumentSnapshot"),bundleName:mn("string"),bundle:mn("string")};class sd extends cl{data(e={}){return super.data(e)}}class sh{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sd(this._firestore,this._userDataWriter,s.key,s,new Zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new sd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new sd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),A=f.indexOf(p.doc.key)),{type:z2(p.type),doc:g,oldIndex:y,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){r=ch(r,Mn);const e=ch(r.firestore,qg);return S2(Ab(e),r._key).then(n=>G2(e,r,n))}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:mn("string",sh._jsonSchemaVersion),bundleSource:mn("string","QuerySnapshot"),bundleName:mn("string"),bundle:mn("string")};class H2 extends U2{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function q2(r,e,n){r=ch(r,Mn);const s=ch(r.firestore,qg),o=j2(r.converter,e);return F2(s,[M2(x2(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,pa.none())])}function F2(r,e){return function(s,o){const u=new Eo;return s.asyncQueue.enqueueAndForget(async()=>h2(await A2(s),o,u)),u.promise}(Ab(r),e)}function G2(r,e,n){const s=n.docs.get(e._key),o=new H2(r);return new cl(r,o,e._key,s,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ou=o})(Cu),_u(new fl("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new qg(new OI(s.getProvider("auth-internal")),new xI(f,s.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new De(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(y.options.projectId,A)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),yo(Jv,eE,e),yo(Jv,eE,"esm2017")})();const $2={apiKey:"AIzaSyA6y_X8KT2Z3xWAjr6ezF-DpH3eVyugM2E",authDomain:"aura-ed062.firebaseapp.com",projectId:"aura-ed062",storageBucket:"aura-ed062.firebasestorage.app",messagingSenderId:"107763894455",appId:"1:107763894455:web:3627e7731e6595f0c32532"},Mb=E0($2),Gd=AI(Mb),Pb=C2(Mb),K2=async r=>{const e=bb(Pb,"users",r),n=await B2(e);if(n.exists())return n.data().role;throw new Error("No se encontr el expediente del usuario.")},Y2=async(r,e)=>{const{user:n}=await oC(Gd,r,e);return await q2(bb(Pb,"users",n.uid),{role:"user"}),n},Q2=async(r,e)=>{const{user:n}=await lC(Gd,r,e);return n},X2=()=>fC(Gd),Vb=ne.createContext(),kb=()=>ne.useContext(Vb),W2=({children:r})=>{const[e,n]=ne.useState(null),[s,o]=ne.useState(null),[u,f]=ne.useState(!0);ne.useEffect(()=>{const O=hC(Gd,async I=>{if(f(!0),I){const q=await K2(I.uid);n(I),o(q)}else n(null),o(null);f(!1)});return()=>O()},[]);const A={user:e,userRole:s,login:(O,I)=>Q2(O,I),register:(O,I)=>Y2(O,I),logout:()=>X2()};return F.jsx(Vb.Provider,{value:A,children:!u&&r})},YE=({children:r})=>{const{user:e,loading:n}=kb();return n?F.jsx("p",{children:"Verificando credenciales..."}):e?r:F.jsx($w,{to:dn.LOGIN})};function Z2(){return F.jsx(F.Fragment,{children:F.jsxs("div",{id:"carouselExampleCaptions",class:"carousel slide","data-bs-ride":"carousel",children:[F.jsxs("div",{className:"carousel-indicators",children:[F.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"0",className:"active","aria-current":"true","aria-label":"Slide 1"}),F.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"1","aria-label":"Slide 2"}),F.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"2","aria-label":"Slide 3"})]}),F.jsxs("div",{className:"carousel-inner",children:[F.jsxs("div",{className:"carousel-item active",children:[F.jsx("img",{src:"https://images.unsplash.com/photo-1492552181161-62217fc3076d?q=80&w=897&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"d-block w-100",alt:"Promo 1"}),F.jsxs("div",{className:"carousel-caption d-none d-md-block",children:[F.jsx("h5",{children:"PROMO 1"}),F.jsx("p",{children:"Ejemplo 1"})]})]}),F.jsxs("div",{className:"carousel-item",children:[F.jsx("img",{src:"https://images.unsplash.com/photo-1556760544-74068565f05c?q=80&w=870&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"d-block w-100",alt:"promo 2"}),F.jsxs("div",{className:"carousel-caption d-none d-md-block",children:[F.jsx("h5",{children:"PROMO 2"}),F.jsx("p",{children:"Ejemplo 2"})]})]}),F.jsxs("div",{className:"carousel-item",children:[F.jsx("img",{src:"https://images.unsplash.com/photo-1556760544-74068565f05c?q=80&w=870&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"d-block w-100",alt:"promo 3"}),F.jsxs("div",{className:"carousel-caption d-none d-md-block",children:[F.jsx("h5",{children:"PROMO 3"}),F.jsx("p",{children:"Ejemplo 3"})]})]})]}),F.jsxs("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",children:[F.jsx("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),F.jsx("span",{class:"visually-hidden",children:"Previous"})]}),F.jsxs("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",children:[F.jsx("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),F.jsx("span",{class:"visually-hidden",children:"Next"})]})]})})}function J2(){return F.jsx(F.Fragment,{children:F.jsx("div",{className:"p-5 mb-4 bg-light rounded-3 text-center",children:F.jsxs("div",{className:"container-fluid py-5",children:[F.jsx("h1",{className:"display-5 fw-bold",children:"Bienvenido a AURA!"}),F.jsx("p",{className:"fs-4",children:"Descubre nuestras colecciones exclusivas y encuentra tu estilo nico."}),F.jsx("button",{className:"btn btn-warning btn-lg",type:"button",children:"Ver ofertas"})]})})})}function eN(){return F.jsxs("div",{children:[F.jsx(Z2,{}),F.jsx(J2,{})]})}const tN=r=>{const[e,n]=ne.useState(null),[s,o]=ne.useState(!0),[u,f]=ne.useState(null);return ne.useEffect(()=>{(async()=>{try{o(!0);const g=await r();n(g)}catch(g){f(g)}finally{o(!1)}})()},[r]),{data:e,loading:s,error:u}},nN="https://681d76fff74de1d219afd7e6.mockapi.io/api/v1",iN=`${nN}/productos`,rN=async()=>{const r=await fetch(`${iN}`);if(!r.ok)throw new Error("Error al obtener los productos");return r.json()},Lb=ne.createContext(),Ub=()=>ne.useContext(Lb),sN=({children:r})=>{const[e,n]=ne.useState([]),s=f=>{n(p=>[...p,f])},u={cartCount:e.length,addToCart:s};return F.jsx(Lb.Provider,{value:u,children:r})},aN=({product:r})=>{const{addToCart:e}=Ub();return F.jsx("div",{class:"col",children:F.jsxs("div",{className:"card text-center",children:[F.jsx("img",{src:r.imagen,className:"card-img-top img-fluid product-card-img",alt:r.nombre}),F.jsxs("div",{className:"card-body d-flex flex-column",children:[F.jsx("h5",{className:"card-title",children:r.nombre}),F.jsxs("p",{className:"card-text",children:["$",r.precio]}),F.jsx("button",{onClick:()=>e(r),className:"btn btn-sm btn-warning me-3",children:"Agregar"})]})]})})},oN=()=>{const{data:r,loading:e,error:n}=tN(rN);return r&&console.log(" Productos recibidos de la API:",r),e?F.jsx("div",{className:"text-center",children:F.jsx("div",{className:"spinner-border text-warning",role:"status",children:F.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):n?F.jsxs("p",{className:"alert alert-danger",children:["Error al cargar productos: ",n.message]}):F.jsxs("div",{children:[F.jsx("h1",{className:"mb-4",children:"Nuestros Productos"}),F.jsx("div",{class:"row row-cols-2 row-cols-md-4 g-8",children:r?.map(s=>F.jsx(aN,{product:s},s.id))})]})};function lN(){return F.jsxs(F.Fragment,{children:[F.jsxs("form",{children:[F.jsxs("div",{class:"mb-2",children:[F.jsx("label",{for:"exampleInputEmail1",class:"form-label",children:"Email"}),F.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"}),F.jsx("div",{id:"emailHelp",className:"form-text",children:"Nunca compartiremos su correo electrnico con nadie ms."})]}),F.jsxs("div",{class:"mb-2",children:[F.jsx("label",{for:"exampleInputPassword1",class:"form-label",children:"Contrasea"}),F.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1"})]}),F.jsx("button",{type:"submit",className:"btn btn-sm btn-warning me-3",children:"Entrar"})]}),F.jsxs("p",{className:"mt-3",children:["No tienes una cuenta? ",F.jsx(fu,{to:dn.REGISTER,children:"Regstrate"})]})]})}function uN(){return F.jsxs("form",{children:[F.jsx("h1",{children:"Registrate"}),F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),F.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"}),F.jsx("div",{id:"emailHelp",className:"form-text",children:"Nunca compartiremos su correo electrnico con nadie ms."})]}),F.jsxs("div",{class:"mb-3",children:[F.jsx("label",{for:"exampleInputPassword1",class:"form-label",children:"Contrasea"}),F.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1"})]}),F.jsx("button",{type:"submit",className:"btn btn-sm btn-warning me-3",children:"Registrate"})]})}const cN=({product:r})=>F.jsx(F.Fragment,{children:F.jsx("div",{className:"card mb-3",style:{maxWidth:"540px"},children:F.jsxs("div",{className:"row g-0",children:[F.jsx("div",{className:"col-md-4",children:F.jsx("img",{src:r.imagen,className:"img-fluid product-card-img rounded-start",alt:r.nombre})}),F.jsx("div",{className:"col-md-8",children:F.jsxs("div",{className:"card-body",children:[F.jsx("h5",{className:"card-title",children:r.nombre}),F.jsx("p",{className:"card-text",children:r.descripcion}),F.jsx("p",{className:"card-text",children:F.jsx("small",{className:"text-muted",children:"ltima actualizacin hace 3 minutos"})})]})})]})})});function hN(){return F.jsxs("div",{children:[F.jsx("h1",{children:"Shopping Cart"}),F.jsx("p",{children:"Your cart is currently empty."}),F.jsx(cN,{})]})}function fN(){return F.jsxs("div",{children:[F.jsx("h1",{children:"Payment Page"}),F.jsx("p",{children:"Please enter your payment details."})]})}function dN(){return F.jsxs("div",{children:[F.jsx("h1",{children:"Product Detail Page"}),F.jsx("p",{children:"Welcome to the Product Detail Page!"})]})}function mN(){return F.jsxs("div",{children:[F.jsx("h1",{children:" Sala de Empleados (User)"}),F.jsx("p",{children:"Welcome to the User Dashboard!"})]})}function pN(){return F.jsxs("div",{children:[F.jsx("h1",{children:"Contact Us"}),F.jsx("p",{children:"If you have any questions, feel free to reach out!"})]})}function gN(){return F.jsxs("div",{children:[F.jsx("h1",{children:"About Us"}),F.jsx("p",{children:"Welcome to the About Us page!"})]})}function _N(){return F.jsxs("div",{children:[F.jsx("h1",{children:"Rituals Page"}),F.jsx("p",{children:"Welcome to the Rituals Page!"})]})}const yN=()=>F.jsxs(Yw,{children:[F.jsx(pr,{path:dn.HOME,element:F.jsx(eN,{})}),F.jsx(pr,{path:dn.PRODUCTS,element:F.jsx(oN,{})}),F.jsx(pr,{path:dn.LOGIN,element:F.jsx(lN,{})}),F.jsx(pr,{path:dn.REGISTER,element:F.jsx(uN,{})}),F.jsx(pr,{path:dn.CART,element:F.jsx(hN,{})}),F.jsx(pr,{path:dn.PRODUCT_DETAILS,element:F.jsx(dN,{})}),F.jsx(pr,{path:dn.CONTACT_US,element:F.jsx(pN,{})}),F.jsx(pr,{path:dn.ABOUT_US,element:F.jsx(gN,{})}),F.jsx(pr,{path:dn.RITUALS,element:F.jsx(_N,{})}),F.jsx(pr,{path:dn.DASHBOARD,element:F.jsx(YE,{children:F.jsx(mN,{})})}),F.jsx(pr,{path:dn.PAYMENT,element:F.jsx(YE,{children:F.jsx(fN,{})})})]}),vN=()=>{const{cartCount:r}=Ub();return F.jsx("header",{className:"py-2 px-3 bg-light border-bottom sticky-top",children:F.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[F.jsx(fu,{to:dn.HOME,className:"text-dark text-decoration-none",children:F.jsx("h3",{children:"AURA"})}),F.jsxs("div",{className:"d-flex align-items-center",children:[F.jsx(fu,{to:dn.LOGIN,className:"btn btn-sm btn-outline-secondary me-2",children:"Login"}),F.jsxs(fu,{to:dn.CART,className:"position-relative",children:[F.jsx("i",{className:"bi bi-cart-fill fs-4"}),r>0&&F.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:r})]})]})]})})},EN=()=>{const{user:r}=kb();return F.jsxs("footer",{className:"navbar-bottom bg-light border-top d-flex justify-content-around align-items-center w-100",children:[F.jsx(au,{to:dn.HOME,className:"nav-icon",children:F.jsx("i",{className:"bi bi-house-door-fill"})}),F.jsx(au,{to:dn.PRODUCTS,className:"nav-icon",children:F.jsx("i",{className:"bi bi-search"})}),r&&F.jsx(au,{to:dn.DASHBOARD,className:"nav-icon-dashboard",children:F.jsx("i",{className:"bi bi-grid-1x2-fill"})}),F.jsx(au,{to:"#",className:"nav-icon",children:F.jsx("i",{className:"bi bi-heart-fill"})}),F.jsx(au,{to:dn.LOGIN,className:"nav-icon",children:F.jsx("i",{className:"bi bi-person-fill"})})]})};function TN(){return F.jsx("footer",{children:F.jsx("p",{children:" 2023 Your Company. All rights reserved."})})}const bN=({children:r})=>F.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[F.jsx(vN,{}),F.jsx("main",{className:"container py-4",style:{paddingBottom:"80px",flex:1},children:r}),F.jsx(TN,{}),F.jsx(EN,{})]});function AN(){return F.jsx(W2,{children:F.jsx(sN,{children:F.jsx(yS,{children:F.jsx(bN,{children:F.jsx(yN,{})})})})})}ew.createRoot(document.getElementById("root")).render(F.jsx(AN,{}));
